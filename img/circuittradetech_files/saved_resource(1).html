
<!-- saved from url=(0011)about:blank -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="google" content="notranslate"><meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">window.onerror = function g(e,t,n,o,r){r&&r.error&&(r=r.error),r&&r instanceof Error||(r={}),r.stack=r.stack||"empty",r.message="Bundle init error: "+e+" error.message: "+r.message,r.columnNumber=o,r.lineNumber=n,r.url=t,window.parent.__jivoOnError(r)};!function(){var e,t,n,r,o,i,a={20438:function(e,t,n){"use strict";e.exports=n(12316)},12989:function(e){"use strict";var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i={};((e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:!0})})(i,{Immer:()=>q,applyPatches:()=>ie,castDraft:()=>le,castImmutable:()=>ue,createDraft:()=>ae,current:()=>Y,enableMapSet:()=>Q,enablePatches:()=>X,finishDraft:()=>se,freeze:()=>w,immerable:()=>s,isDraft:()=>d,isDraftable:()=>f,nothing:()=>a,original:()=>h,produce:()=>te,produceWithPatches:()=>ne,setAutoFreeze:()=>re,setUseStrictShallowCopy:()=>oe}),e.exports=(e=>((e,i,a,s)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let l of r(i))!o.call(e,l)&&l!==a&&t(e,l,{get:()=>i[l],enumerable:!(s=n(i,l))||s.enumerable});return e})(t({},"__esModule",{value:!0}),e))(i);var a=Symbol.for("immer-nothing"),s=Symbol.for("immer-draftable"),l=Symbol.for("immer-state");function u(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var c=Object.getPrototypeOf;function d(e){return!!e&&!!e[l]}function f(e){return!!e&&(g(e)||Array.isArray(e)||!!e[s]||!!e.constructor?.[s]||C(e)||E(e))}var p=Object.prototype.constructor.toString();function g(e){if(!e||"object"!=typeof e)return!1;let t=c(e);if(null===t)return!0;let n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===p}function h(e){return d(e)||u(15),e[l].t}function m(e,t){0===_(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function _(e){let t=e[l];return t?t.o:Array.isArray(e)?1:C(e)?2:E(e)?3:0}function v(e,t){return 2===_(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function y(e,t){return 2===_(e)?e.get(t):e[t]}function b(e,t,n){let r=_(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function C(e){return e instanceof Map}function E(e){return e instanceof Set}function D(e){return e.e||e.t}function T(e,t){if(C(e))return new Map(e);if(E(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let n=g(e);if(!0===t||"class_only"===t&&!n){let t=Object.getOwnPropertyDescriptors(e);delete t[l];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(c(e),t)}{let t=c(e);if(null!==t&&n)return{...e};let r=Object.create(t);return Object.assign(r,e)}}function w(e,t=!1){return O(e)||d(e)||!f(e)||(_(e)>1&&(e.set=e.add=e.clear=e.delete=S),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>w(t,!0)))),e}function S(){u(2)}function O(e){return Object.isFrozen(e)}var A,I={};function k(e){let t=I[e];return t||u(0),t}function M(e,t){I[e]||(I[e]=t)}function x(){return A}function P(e,t){t&&(k("Patches"),e.f=[],e.h=[],e.b=t)}function R(e){F(e),e.a.forEach(j),e.a=null}function F(e){e===A&&(A=e.i)}function L(e){return A=function(e,t){return{a:[],i:e,p:t,P:!0,d:0}}(A,e)}function j(e){let t=e[l];0===t.o||1===t.o?t.x():t.m=!0}function N(e,t){t.d=t.a.length;let n=t.a[0];return void 0!==e&&e!==n?(n[l].s&&(R(t),u(4)),f(e)&&(e=B(t,e),t.i||W(t,e)),t.f&&k("Patches").T(n[l].t,e,t.f,t.h)):e=B(t,n,[]),R(t),t.f&&t.b(t.f,t.h),e!==a?e:void 0}function B(e,t,n){if(O(t))return t;let r=t[l];if(!r)return m(t,((o,i)=>U(e,r,t,o,i,n))),t;if(r.n!==e)return t;if(!r.s)return W(e,r.t,!0),r.t;if(!r.c){r.c=!0,r.n.d--;let t=r.e,o=t,i=!1;3===r.o&&(o=new Set(t),t.clear(),i=!0),m(o,((o,a)=>U(e,r,t,o,a,n,i))),W(e,t,!1),n&&e.f&&k("Patches").g(r,n,e.f,e.h)}return r.e}function U(e,t,n,r,o,i,a){if(d(o)){let a=B(e,o,i&&t&&3!==t.o&&!v(t.r,r)?i.concat(r):void 0);if(b(n,r,a),!d(a))return;e.P=!1}else a&&n.add(o);if(f(o)&&!O(o)){if(!e.p.y&&e.d<1)return;B(e,o),(!t||!t.n.i)&&"symbol"!=typeof r&&Object.prototype.propertyIsEnumerable.call(n,r)&&W(e,o)}}function W(e,t,n=!1){!e.i&&e.p.y&&e.P&&w(t,n)}var H={get(e,t){if(t===l)return e;let n=D(e);if(!v(n,t))return function(e,t,n){let r=$(t,n);return r?"value"in r?r.value:r.get?.call(e.u):void 0}(e,n,t);let r=n[t];return e.c||!f(r)?r:r===G(e.t,t)?(Z(e),e.e[t]=K(r,e)):r},has(e,t){return t in D(e)},ownKeys(e){return Reflect.ownKeys(D(e))},set(e,t,n){let r=$(D(e),t);if(r?.set)return r.set.call(e.u,n),!0;if(!e.s){let r=G(D(e),t),o=r?.[l];if(o&&o.t===n)return e.e[t]=n,e.r[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||v(e.t,t)))return!0;Z(e),V(e)}return e.e[t]===n&&(void 0!==n||t in e.e)||Number.isNaN(n)&&Number.isNaN(e.e[t])||(e.e[t]=n,e.r[t]=!0),!0},deleteProperty(e,t){return void 0!==G(e.t,t)||t in e.t?(e.r[t]=!1,Z(e),V(e)):delete e.r[t],e.e&&delete e.e[t],!0},getOwnPropertyDescriptor(e,t){let n=D(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.o||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty(){u(11)},getPrototypeOf(e){return c(e.t)},setPrototypeOf(){u(12)}},z={};function G(e,t){let n=e[l];return(n?D(n):e)[t]}function $(e,t){if(!(t in e))return;let n=c(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=c(n)}}function V(e){e.s||(e.s=!0,e.i&&V(e.i))}function Z(e){e.e||(e.e=T(e.t,e.n.p.S))}m(H,((e,t)=>{z[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),z.deleteProperty=function(e,t){return z.set.call(this,e,t,void 0)},z.set=function(e,t,n){return H.set.call(this,e[0],t,n,e[0])};var q=class{constructor(e){this.y=!0,this.S=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){let n=t;t=e;let r=this;return function(e=n,...o){return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!=typeof t&&u(6),void 0!==n&&"function"!=typeof n&&u(7),f(e)){let o=L(this),i=K(e,void 0),a=!0;try{r=t(i),a=!1}finally{a?R(o):F(o)}return P(o,n),N(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===a&&(r=void 0),this.y&&w(r,!0),n){let t=[],o=[];k("Patches").T(e,r,t,o),n(t,o)}return r}u(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){f(e)||u(8),d(e)&&(e=Y(e));let t=L(this),n=K(e,void 0);return n[l].l=!0,F(t),n}finishDraft(e,t){let n=e&&e[l];(!n||!n.l)&&u(9);let{n:r}=n;return P(r,t),N(void 0,r)}setAutoFreeze(e){this.y=e}setUseStrictShallowCopy(e){this.S=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=k("Patches").A;return d(e)?r(e,t):this.produce(e,(e=>r(e,t)))}};function K(e,t){let n=C(e)?k("MapSet").I(e,t):E(e)?k("MapSet").D(e,t):function(e,t){let n=Array.isArray(e),r={o:n?1:0,n:t?t.n:x(),s:!1,c:!1,r:{},i:t,t:e,u:null,e:null,x:null,l:!1},o=r,i=H;n&&(o=[r],i=z);let{revoke:a,proxy:s}=Proxy.revocable(o,i);return r.u=s,r.x=a,s}(e,t);return(t?t.n:x()).a.push(n),n}function Y(e){return d(e)||u(10),J(e)}function J(e){if(!f(e)||O(e))return e;let t,n=e[l];if(n){if(!n.s)return n.t;n.c=!0,t=T(e,n.n.p.S)}else t=T(e,!0);return m(t,((e,n)=>{b(t,e,J(n))})),n&&(n.c=!1),t}function X(){let e="replace",t="add",n="remove";function r(e){if(!f(e))return e;if(Array.isArray(e))return e.map(r);if(C(e))return new Map(Array.from(e.entries()).map((([e,t])=>[e,r(t)])));if(E(e))return new Set(Array.from(e).map(r));let t=Object.create(c(e));for(let n in e)t[n]=r(e[n]);return v(e,s)&&(t[s]=e[s]),t}function o(e){return d(e)?r(e):e}M("Patches",{A:function(o,i){return i.forEach((i=>{let{path:a,op:s}=i,l=o;for(let e=0;e<a.length-1;e++){let t=_(l),n=a[e];"string"!=typeof n&&"number"!=typeof n&&(n=""+n),(0===t||1===t)&&("__proto__"===n||"constructor"===n)&&u(19),"function"==typeof l&&"prototype"===n&&u(19),l=y(l,n),"object"!=typeof l&&u(18,a.join("/"))}let c=_(l),d=r(i.value),f=a[a.length-1];switch(s){case e:switch(c){case 2:return l.set(f,d);case 3:u(16);default:return l[f]=d}case t:switch(c){case 1:return"-"===f?l.push(d):l.splice(f,0,d);case 2:return l.set(f,d);case 3:return l.add(d);default:return l[f]=d}case n:switch(c){case 1:return l.splice(f,1);case 2:return l.delete(f);case 3:return l.delete(i.value);default:return delete l[f]}default:u(17)}})),o},g:function(r,i,a,s){switch(r.o){case 0:case 2:return function(r,i,a,s){let{t:l,e:u}=r;m(r.r,((r,c)=>{let d=y(l,r),f=y(u,r),p=c?v(l,r)?e:t:n;if(d===f&&p===e)return;let g=i.concat(r);a.push(p===n?{op:p,path:g}:{op:p,path:g,value:f}),s.push(p===t?{op:n,path:g}:p===n?{op:t,path:g,value:o(d)}:{op:e,path:g,value:o(d)})}))}(r,i,a,s);case 1:return function(r,i,a,s){let{t:l,r:u}=r,c=r.e;c.length<l.length&&([l,c]=[c,l],[a,s]=[s,a]);for(let t=0;t<l.length;t++)if(u[t]&&c[t]!==l[t]){let n=i.concat([t]);a.push({op:e,path:n,value:o(c[t])}),s.push({op:e,path:n,value:o(l[t])})}for(let e=l.length;e<c.length;e++){let n=i.concat([e]);a.push({op:t,path:n,value:o(c[e])})}for(let e=c.length-1;l.length<=e;--e){let t=i.concat([e]);s.push({op:n,path:t})}}(r,i,a,s);case 3:return function(e,r,o,i){let{t:a,e:s}=e,l=0;a.forEach((e=>{if(!s.has(e)){let a=r.concat([l]);o.push({op:n,path:a,value:e}),i.unshift({op:t,path:a,value:e})}l++})),l=0,s.forEach((e=>{if(!a.has(e)){let a=r.concat([l]);o.push({op:t,path:a,value:e}),i.unshift({op:n,path:a,value:e})}l++}))}(r,i,a,s)}},T:function(t,n,r,o){r.push({op:e,path:[],value:n===a?void 0:n}),o.push({op:e,path:[],value:t})}})}function Q(){class e extends Map{constructor(e,t){super(),this[l]={o:2,i:t,n:t?t.n:x(),s:!1,c:!1,e:void 0,r:void 0,t:e,u:this,l:!1,m:!1}}get size(){return D(this[l]).size}has(e){return D(this[l]).has(e)}set(e,n){let r=this[l];return o(r),(!D(r).has(e)||D(r).get(e)!==n)&&(t(r),V(r),r.r.set(e,!0),r.e.set(e,n),r.r.set(e,!0)),this}delete(e){if(!this.has(e))return!1;let n=this[l];return o(n),t(n),V(n),n.t.has(e)?n.r.set(e,!1):n.r.delete(e),n.e.delete(e),!0}clear(){let e=this[l];o(e),D(e).size&&(t(e),V(e),e.r=new Map,m(e.t,(t=>{e.r.set(t,!1)})),e.e.clear())}forEach(e,t){D(this[l]).forEach(((n,r,o)=>{e.call(t,this.get(r),r,this)}))}get(e){let n=this[l];o(n);let r=D(n).get(e);if(n.c||!f(r)||r!==n.t.get(e))return r;let i=K(r,n);return t(n),n.e.set(e,i),i}keys(){return D(this[l]).keys()}values(){let e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{let t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}}entries(){let e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{let t=e.next();if(t.done)return t;let n=this.get(t.value);return{done:!1,value:[t.value,n]}}}}[Symbol.iterator](){return this.entries()}}function t(e){e.e||(e.r=new Map,e.e=new Map(e.t))}class n extends Set{constructor(e,t){super(),this[l]={o:3,i:t,n:t?t.n:x(),s:!1,c:!1,e:void 0,t:e,u:this,a:new Map,m:!1,l:!1}}get size(){return D(this[l]).size}has(e){let t=this[l];return o(t),t.e?!!(t.e.has(e)||t.a.has(e)&&t.e.has(t.a.get(e))):t.t.has(e)}add(e){let t=this[l];return o(t),this.has(e)||(r(t),V(t),t.e.add(e)),this}delete(e){if(!this.has(e))return!1;let t=this[l];return o(t),r(t),V(t),t.e.delete(e)||!!t.a.has(e)&&t.e.delete(t.a.get(e))}clear(){let e=this[l];o(e),D(e).size&&(r(e),V(e),e.e.clear())}values(){let e=this[l];return o(e),r(e),e.e.values()}entries(){let e=this[l];return o(e),r(e),e.e.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(e,t){let n=this.values(),r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}}function r(e){e.e||(e.e=new Set,e.t.forEach((t=>{if(f(t)){let n=K(t,e);e.a.set(t,n),e.e.add(n)}else e.e.add(t)})))}function o(e){e.m&&u(3,JSON.stringify(D(e)))}M("MapSet",{I:function(t,n){return new e(t,n)},D:function(e,t){return new n(e,t)}})}var ee=new q,te=ee.produce,ne=ee.produceWithPatches.bind(ee),re=ee.setAutoFreeze.bind(ee),oe=ee.setUseStrictShallowCopy.bind(ee),ie=ee.applyPatches.bind(ee),ae=ee.createDraft.bind(ee),se=ee.finishDraft.bind(ee);function le(e){return e}function ue(e){return e}},53362:function(e,t,n){"use strict";e.exports=n(12989)},1451:function(e,t,n){"use strict";n.d(t,{qF:function(){return c},qM:function(){return h}});var r=n(98661),o=n(40066);function i(e,t,n,i=!0){const[a]=(0,r.useState)((()=>{return t=e,Object.assign(Object.assign({},t),{t(...e){const n=(0,o.Wz)(...e);return t.t(Object.assign(Object.assign({},n),{noWrap:!0}))}});var t})),[s,l]=(0,r.useState)(i);return(0,r.useEffect)((()=>{l(!1)}),[]),(0,r.useMemo)((()=>{i&&(e.setEmitterActive(!1),e.addStaticData(n),e.changeLanguage(t),e.setEmitterActive(!0))}),[t,n,e]),(0,r.useState)((()=>{if(!e.isLoaded()&&i){const n=e.getRequiredDescriptors(t),r=e.getAllRecords(),o=n.map((({namespace:e,language:t})=>e?`${e}:${t}`:t)).filter((e=>!r.find((t=>(null==t?void 0:t.cacheKey)===e))));console.warn(`Tolgee: Missing records in "staticData" for proper SSR functionality: ${o.map((e=>`"${e}"`)).join(", ")}`)}})),s?a:e}const a={useSuspense:!1};let s;const l=()=>(s||(s=r.default.createContext(void 0)),s);let u;const c=({tolgee:e,options:t,children:n,fallback:o,ssr:s})=>{(0,r.useEffect)((()=>{(null==u?void 0:u.run)!==e.run&&(u&&u.stop(),u=e,e.run().catch((e=>{console.error(e)})).finally((()=>{g(!1)})))}),[e]);let c=e;const{language:d,staticData:f}="object"!=typeof s?{}:s;c=i(e,d,f,Boolean(s));const[p,g]=(0,r.useState)(!c.isLoaded()),h=Object.assign(Object.assign({},a),t),m=l();return h.useSuspense?r.default.createElement(m.Provider,{value:{tolgee:c,options:h}},p?o:r.default.createElement(r.Suspense,{fallback:o||null},n)):r.default.createElement(m.Provider,{value:{tolgee:c,options:h}},p?o:n)};let d;const f=()=>{const e=l(),t=(0,r.useContext)(e)||d;if(!t)throw new Error("Couldn't find tolgee instance, did you forgot to use `TolgeeProvider`?");return t},p=()=>{const[e,t]=(0,r.useState)(0);return{instance:e,rerender:(0,r.useCallback)((()=>{t((e=>e+1))}),[t])}},g=(e,t)=>{const{tolgee:n,options:i}=f(),a=(0,o.go)(e),s=(0,o.xk)(a).join(":"),l=Object.assign(Object.assign({},i),t),{rerender:u,instance:c}=p();(0,r.useRef)([]).current=[];const d=n.isLoaded(a);(0,r.useEffect)((()=>{const e=n.on("update",u);return()=>{e.unsubscribe()}}),[s,n]),(0,r.useEffect)((()=>(n.addActiveNs(a),()=>n.removeActiveNs(a))),[s,n]);const g=(0,r.useCallback)((e=>{var t;const r=null!==(t=e.ns)&&void 0!==t?t:null==a?void 0:a[0];return n.t(Object.assign(Object.assign({},e),{ns:r}))}),[n,c]);if(l.useSuspense&&!d)throw n.addActiveNs(a,!0);return{t:g,isLoading:!d}},h=(e,t)=>{const{t:n,isLoading:i}=g(e,t);return{t:(0,r.useCallback)(((...e)=>{const t=(0,o.Wz)(...e);return n(t)}),[n]),isLoading:i}}},50789:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ApiProvider=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(96394)),s=n(97615),l=n(44145),u=n(95911),c=n(6693),d=n(45926);const f=new(function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"getCustomerIoInvites",value:function(e,t){let n=s.EnvironmentManager.isDevelopment()&&a.default.mockRequests&&a.default.mockRequests.customerIO?"/configs/development/customerIO.json":this.getApiHost()+`/api/1/sites/${a.default.site_id}/widgets/${a.default.widget_id}/invitation/`;a.default.customerIOurl&&s.EnvironmentManager.isTesting()&&(n=a.default.customerIOurl),this.sendApiRequest(n,{user_token:e},t)}},{key:"acceptWebRTCCall",value:function(e,t){const n=(0,l.getClient)(),r=this.getTelephonyHost()+`/api/1/sites/${a.default.site_id}/widgets/${a.default.widget_id}/clients/${n.clientId.split(".")[0]}/telephony/widget-call/accept`;this.sendPostApiRequest(r,{call_id:e},t)}},{key:"declineWebRTCCall",value:function(e,t){const n=(0,l.getClient)(),r=this.getTelephonyHost()+`/api/1/sites/${a.default.site_id}/widgets/${a.default.widget_id}/clients/${n.clientId.split(".")[0]}/telephony/widget-call/decline`;this.sendPostApiRequest(r,{call_id:e},t)}},{key:"sendClientAttributes",value:async function(e,t){const n=this.getApiHost()+`/api/1/sites/${a.default.site_id}/widgets/${a.default.widget_id}/clients/${t.split(".")[0]}/attributes`;return u.promisedRequest.post(n,{headers:{"Content-Type":c.CONTENT_TYPE.X_WWW_FORM,authorization:t.split(".")[1]},body:e})}},{key:"sendApiRequest",value:function(e,t,n){u.xhrRequest.get(e,n,{params:t})}},{key:"sendPostApiRequest",value:function(e,t,n){u.xhrRequest.post(e,n,{headers:{"Content-Type":c.CONTENT_TYPE.X_WWW_FORM},body:t})}},{key:"getApiHost",value:function(){return(0,d.getProtocol)()+"//"+a.default.api_host}},{key:"getTelephonyHost",value:function(){return(0,d.getProtocol)()+"//"+a.default.tel_host}}]),e}());t.ApiProvider=f},86961:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(96394)),s=n(97615),l=n(44145),u=n(95911),c=n(6693),d=n(45683);let f=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"getHeaders",value:function(){const e=(0,l.getClient)();return{"x-jv-client-id":e.clientId,"x-visitor-id":e.visitorId}}},{key:"getStatus",value:function(e){this.getChatServerData("status",{},e)}},{key:"getVisitorNumber",value:function(e){this.getChatServerData("visitor_number",{},e)}},{key:"getMessages",value:function(e,t){this.getChatServerData("messages",e,t)}},{key:"getChatServerData",value:function(e,t,n){const r=(0,l.getClient)(),o=r.visitorId?`/${r.visitorId}`:"",i=this.shouldMockRequest(e)?`/configs/development/${e}.json`:(0,d.getChatServerHost)()+`/widget/${e}/${a.default.site_id}/${a.default.widget_id}${o}`;this.sendChatServerRequest(i,t,n)}},{key:"getHistoryMessages",value:function(e,t,n){const r=this.shouldMockRequest("messages")?"/configs/development/messages.json":(0,d.getChatServerHost)()+`/client/${a.default.site_id}/${a.default.widget_id}/${e}`;this.sendChatServerRequest(r,t,n,this.getHeaders())}},{key:"sendChatServerRequest",value:function(e,t,n,r){u.xhrRequest.get(e,n,{headers:r,params:t})}},{key:"postClientTags",value:function(e,t){const n=(0,d.getChatServerHost)()+`/client/${a.default.site_id}/${a.default.widget_id}/attach_tags`,r=this.getHeaders(),o={tag_id:e};r["Content-Type"]=c.CONTENT_TYPE.APP_JSON,u.xhrRequest.post(n,t,{headers:r,body:o})}},{key:"postCampaignData",value:function(e,t){var n,r,o,i;const s=(0,d.getChatServerHost)()+`/client/${a.default.site_id}/${a.default.widget_id}/campaign`,l=this.getHeaders(),f={campaign_id:e.campaignId,type:e.type,answer_data:JSON.stringify(null!==(n=e.answerData)&&void 0!==n?n:{}),rate:null!==(r=e.rate)&&void 0!==r?r:0,comment:null!==(o=e.comment)&&void 0!==o?o:"",client_answer_id:null!==(i=e.clientAnswerId)&&void 0!==i?i:null};l["Content-Type"]=c.CONTENT_TYPE.APP_JSON,u.xhrRequest.post(s,t,{headers:l,body:f})}},{key:"shouldMockRequest",value:function(e){return s.EnvironmentManager.isDevelopment()&&a.default.mockRequests&&a.default.mockRequests[e]}}]),e}();t.default=f},44733:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isJvKeyForStoreToGet=t.StorageProvider=void 0;var o=r(n(67375)),i=r(n(96394)),a=n(38632),s=n(10895),l=n(39731),u=n(38392),c=n(53401);const d=i.default.widget_id,f=e=>(e=>/^jv_/.test(e))((0,o.default)(e,1)[0]),p=e=>/^jv_store/.test(e);t.isJvKeyForStoreToGet=p;const g=(e,t)=>{const n=`jv_${e}_${d}`;return t?`${n}_${t}`:n},h=e=>{if((e=>/^store_[a-z]*$/.test(e))(e)){const t=(0,l.splitString)(e,"_"),n=(0,o.default)(t,2),r=n[0],i=n[1];return g(r,i)}return g(e)},m={get:e=>a.parentLS.get(h(e)),set:(e,t)=>a.parentLS.set(h(e),t),remove:e=>a.parentLS.remove(h(e)),migrate:(0,s.compose)((e=>e.forEach((e=>{let t=(0,o.default)(e,2),n=t[0],r=t[1];const i=p(n)?(0,l.splitString)(n,"_")[0]:n;a.parentLS.set(i,r),(0,c.deleteCookie)(n)}))),(e=>e.filter(f)),c.splitCookieOnEntries),createKeyForStore:e=>`store_${e}`,duplicateClientStateInCookie:e=>{const t=g("store",`client_${d}`),n=(0,u.pick)(e,"client_id","jv_sess_id","user_token","visitorId");return(0,c.setCookie)(t,n)}};t.StorageProvider=m},20758:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(96394)),s=n(16016),l=n(21951),u=n(44733),c=n(69882),d=n(9393),f=n(47361),p=n(52028),g=n(45926);const h=n(89766).EventEmitter,m=1500;var _=new(function(){function e(){if((0,o.default)(this,e),this.readMessages={},this.lastBufferUpdatedTime=(new Date).getTime(),this.initBufferFn=(0,f.debounce)(this.initBuffer.bind(this),500),this.initBuffer(),this.emitter=new h,(0,c.isWixEditor)()||p.isDesignerEditor)return;const t=(0,g.getPageWindow)();(0,l.addListener)(t,"storage",(e=>{(e||t.event).key==="jv_eBuffer_"+a.default.widget_id&&this.parseNewEvents()}))}return(0,i.default)(e,[{key:"initBuffer",value:function(){const e=u.StorageProvider.get("eBuffer")||[],t=this.filterOldEvents(e);(0,d.each)(t,(e=>{this.readMessages[e.id]})),e.length!==t.length&&u.StorageProvider.set("eBuffer",t)}},{key:"sendEvent",value:function(e,t){const n={time:(new Date).getTime(),id:(0,s.generateGUIDCount)(2),name:e,data:t||{}},r=this.filterOldEvents(u.StorageProvider.get("eBuffer")||[]);r.push(n),this.readMessages[n.id]=!0,u.StorageProvider.set("eBuffer",r),setTimeout((()=>{this.initBufferFn()}),1505)}},{key:"filterOldEvents",value:function(e){var t=[];return(0,d.each)(e,(e=>{(new Date).getTime()-e.time>m?delete this.readMessages[e.id]:t.push(e)})),t}},{key:"parseNewEvents",value:function(){const e=u.StorageProvider.get("eBuffer");e&&(0,d.each)(e,(e=>{!this.readMessages[e.id]&&(new Date).getTime()-e.time<m&&this.triggerEvent(e)}))}},{key:"triggerEvent",value:function(e){this.readMessages[e.id]=!0,this.emitter.emit("tabsEvent_"+e.name,e.data)}},{key:"on",value:function(e,t){return this.emitter.addListener("tabsEvent_"+e,t)}}]),e}());t.default=_},34973:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(44733),s=n(9393),l=r(n(20758)),u=n(52028),c=n(97615),d=n(90061),f=n(47361),p=n(20827),g=n(16016),h=r(n(6131));const m=(0,d.createLogger)("ArrayStore"),_=n(89766).EventEmitter;let v=function(){function e(t){(0,o.default)(this,e),this.settings=t,this.emitter=new _,this.store=[],this.initArrayStore(),this.protectOthersTabs(),this.triggerFn=(0,f.debounce)(this.trigger,100)}return(0,i.default)(e,[{key:"initArrayStore",value:function(){const e=a.StorageProvider.get(this.settings.name+"_items")||[];(0,s.each)(e,(e=>{if(!a.StorageProvider.get(e))return;const t=new(this.settings.itemClass||h.default)({type:this.settings.type,name:e,keys:this.settings.keys});this.addTriggers(t),this.store.push(t),this.sort()}))}},{key:"addTriggers",value:function(e){e.on("all",(()=>{this.trigger("update",e)})),e.on("destroy",this.onRemoveItem.bind(this,e))}},{key:"push",value:function(e){const t=this.createInst(e);return this.addTriggers(t),t.set(e),this.store.push(t),this.sort(),this.backup(t),this.triggerFn("create",t),t.unStorage&&t.unStorage()||l.default.sendEvent(`${this.settings.name}_addArrayItem`,{name:t.getName()}),t}},{key:"createInst",value:function(e){let t=this.settings.type;(e.body&&e.body.unsave||u.isDesignerEditor)&&(t="memory");let n={};const r=this.settings.itemClass||h.default;for(let e=0;e<3&&(n=new r({type:t,name:(0,g.generateGUIDCount)(2),keys:this.settings.keys}),!(n instanceof r));e++);return n}},{key:"sort",value:function(){}},{key:"pushAll",value:function(e){var t=[];return(0,s.each)(e,(e=>{t.push(this.push(e))})),t}},{key:"getAll",value:function(){return this.store}},{key:"toJSON",value:function(){var e=[];return(0,s.each)(this.store,(t=>{e.push(t.toJSON())})),e}},{key:"each",value:function(e){(0,s.each)(this.store,(t=>{e(t.toJSON(),t)}))}},{key:"onRemoveItem",value:function(e){const t=this.store.findIndex((t=>t===e));this.store.splice(t,1),this.trigger("remove"),this.backup(),l.default.sendEvent(`${this.settings.name}_removeArrayItem`,{name:e.getName()})}},{key:"backup",value:function(){const e=[];(0,s.each)(this.store,(t=>{t.unStorage&&t.unStorage()||e.push(t.getName())})),a.StorageProvider.set(this.settings.name+"_items",e.length?e:[])}},{key:"protectOthersTabs",value:function(){l.default.on(`${this.settings.name}_addArrayItem`,(e=>{const t=new(this.settings.itemClass||h.default)({type:this.settings.type,name:e.name,keys:this.settings.keys});(0,p.isEmpty)(t)?m.warn(`${this.settings.name}_addArrayItem inst is empty!`,e,t):(this.addTriggers(t),this.store.push(t),this.sort(),this.trigger("create",t,!0))})),l.default.on(`${this.settings.name}_removeArrayItem`,(e=>{const t=this.store.findIndex((t=>t.getName()===e.name));t>=0&&(this.store.splice(t,1),this.sort(),this.trigger("remove"))}))}},{key:"trigger",value:function(e,t,n){setTimeout((()=>{this.emitter.emit(e,t,n)}),0)}},{key:"itemTrigger",value:function(){}},{key:"on",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"onItem",value:function(e){return this.emitter.addListener(`${this.settings.name}_update`,cb)}},{key:"destroy",value:function(){const e=this.store;this.store=[],e.forEach((e=>{e.destroy()})),this.backup(),this.trigger("remove")}}]),e}();t.default=v,c.EnvironmentManager.isDevelopment()&&(window.parent.ArrayStore=v)},66547:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(9393),s=r(n(73687));const l=(0,n(90061).createLogger)("SessionStore",{style:"color: grey"}),u="sess_";var c=new(function(){function e(){(0,o.default)(this,e),l.log("init session store"),this.sessionKeysList=this.initSessionKeysList(),this.startTimer()}return(0,i.default)(e,[{key:"initSessionKeysList",value:function(){return s.default.getKeysByPrefix(s.default.getPrefix()+u)}},{key:"set",value:function(e,t){-1===this.sessionKeysList.indexOf(e)&&this.sessionKeysList.push(e),s.default.set(u+e,t,43200)}},{key:"get",value:function(e){return s.default.get(u+e)}},{key:"startTimer",value:function(){setInterval((()=>{l.log("startTimer",this.sessionKeysList),(0,a.each)(this.sessionKeysList,(e=>{const t=this.get(e);t&&(l.log("update session",e,t),this.set(e,t))}))}),6e4)}}]),e}());t.default=c},6131:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(90061),s=n(16016),l=r(n(20758)),u=n(44733),c=n(97615),d=n(60277),f=n(9393),p=n(73422),g=n(47361);const h=(0,a.createLogger)("Store"),m=n(89766).EventEmitter,_=[];let v=function(){function e(t){(0,o.default)(this,e);if(this.registrName(t.name))return h.warn("Dublicate name for Store keyName"),{};this.settings=t,this.store=this.getDefaultKeys(),this.emitter=new m,"session"===t.type?this.initSessionStore():"default"===t.type?this.initDefaultStore():"memory"===t.type&&this.initMemoryStore(),this.protectOthersTabs(),this.allKeysUpdateDebounce=(0,g.debounce)(this.allKeysUpdate,150)}return(0,i.default)(e,[{key:"registrName",value:function(e){return _.indexOf(e)>-1||(_.push(e),!1)}},{key:"initDefaultStore",value:function(){var e=u.StorageProvider.get(this.settings.name)||{};this.store=(0,d.extend)(this.store,e)}},{key:"initMemoryStore",value:function(){}},{key:"initSessionStore",value:function(){let e=u.StorageProvider.get(this.settings.name)||{};if(e){h.log("resetSession store");var t=(0,s.generateGUIDCount)(2);e=this.store,e._id=t,e._clearTime=(new Date).getTime()+5e3,u.StorageProvider.set(this.settings.name,e),l.default.sendEvent(`${this.settings.name}_resetSessionStore`)}this.store=e}},{key:"getDefaultKeys",value:function(){var e={};return(0,f.each)(this.settings.keys,((t,n)=>{"function"==typeof t?e[n]=t():null!==t&&"{}"!==JSON.stringify(t)&&(e[n]=t)})),e}},{key:"isDeepName",value:function(e){return"string"==typeof e&&e.split(".").length>1}},{key:"getDeepName",value:function(e){const t=e.split(".");return this.isDeepName(e)?t:[e]}},{key:"set",value:function(e,t){if(!(0,p.isObject)(e))return this.setKey(e,t);(0,f.each)(e,((e,t)=>{this.set(t,e)}))}},{key:"setDeepKey",value:function(e,t,n){if("string"==typeof n&&(n=n.split(".")),!(n.length>1))return null===t?delete e[n[0]]:e[n[0]]=t,t;{const r=n.shift();(0,p.isObject)(e[r])||(e[r]={}),this.setDeepKey(e[r],t,n)}}},{key:"setKey",value:function(e,t,n){return void 0===this.settings.keys[this.getDeepName(e)[0]]?(h.error("Error: set not initialized key "+e),null):(this.get(e)===t||(this.isDeepName(e)?this.setDeepKey(this.store,t,e):null===t?delete this.store[e]:this.store[e]=t,this.trigger(e,t),n||this.triggerAndBackup(e)),t)}},{key:"get",value:function(e){return this.isDeepName(e)?void 0===this.settings.keys[this.getDeepName(e)[0]]?(h.error("Error: get not initialized key "+e),null):this.findObj(this.store,e):void 0===this.settings.keys[e]?(h.error("Error: get not initialized key "+e),null):this.store[e]||null}},{key:"findObj",value:function(e,t){const n=t.split(".");let r,o=e;for(r=0;r<n.length;++r){if(null==o[n[r]])return null;o=o[n[r]]}return o}},{key:"destroy",value:function(){this.trigger("destroy"),u.StorageProvider.remove(this.settings.name),this.store={},this.emitter.removeAllListeners()}},{key:"toJSON",value:function(){return this.store}},{key:"triggerAndBackup",value:function(e){"memory"!==this.settings.type&&(this.unStorage&&this.unStorage()||u.StorageProvider.set(this.settings.name,this.store),l.default.sendEvent(`${this.settings.name}_updateStore`,{name:this.settings.name,keyName:e,val:this.get(e)||null}))}},{key:"allKeysUpdate",value:function(){this.emitter.emit(`${this.settings.name}_change_all`,this.store)}},{key:"trigger",value:function(e,t){this.emitter.emit(`${this.settings.name}_change_${e}`,t),this.allKeysUpdateDebounce()}},{key:"on",value:function(e,t){return this.emitter.addListener(`${this.settings.name}_change_${e}`,t)}},{key:"protectOthersTabs",value:function(){l.default.on(`${this.settings.name}_updateStore`,(e=>{e.name===this.settings.name&&this.setKey(e.keyName,e.val,!0)})),l.default.on(`${this.settings.name}_resetSessionStore`,(()=>{this.store={}}))}},{key:"getName",value:function(){return this.settings.name}}]),e}();var y=v;t.default=y,c.EnvironmentManager.isDevelopment()&&(window.parent.Store=v)},73687:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(9393),s=r(n(96394)),l=n(44733),u=n(38632);const c=(0,n(90061).createLogger)("TempStore",{style:"color: grey"}),d="temp_";var f=new(function(){function e(){(0,o.default)(this,e),this.cleanExpiredKeys()}return(0,i.default)(e,[{key:"set",value:function(e,t,n){if(c.log("set",e,t,n),!n)throw new Error("cant set in TempStore without seconds");if(null===t)return c.log("remove key on data",e),void l.StorageProvider.remove(d+e);t={val:t,expire:(new Date).setTime((new Date).getTime()+1e3*n)},l.StorageProvider.set(d+e,t)}},{key:"get",value:function(e){const t=l.StorageProvider.get(d+e);return t&&t.expire?t.expire<(new Date).getTime()?null:t.val:t}},{key:"cleanExpiredKeys",value:function(){const e=this.getKeysByPrefix(d);(0,a.each)(e,(e=>{const t=d+e,n=l.StorageProvider.get(t);n&&n.expire&&n.expire<(new Date).getTime()&&(c.log("delete key on init expire:",t),l.StorageProvider.remove(t))}))}},{key:"getKeysByPrefix",value:function(e){const t=[],n=u.parentLS;if(n)for(const r in n)if(r&&0==r.search(new RegExp("^jv_"+e))){const n=r.replace(`jv_${e}`,"").replace(`_${s.default.widget_id}`,"");t.push(n)}return t}},{key:"getPrefix",value:function(){return d}}]),e}());t.default=f},97939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BotType=void 0;t.BotType={DEFAULT:"default",ASSISTANT:"assistant"}},34445:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatStatus=void 0;t.ChatStatus={STARTUP:"startup",STARTUP_OK:"startup_ok",STARTUP_ERROR:"startup_error",RESUME_OK:"resume_ok"}},4425:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatMode=void 0;t.ChatMode={OFFLINE:"offline",ONLINE:"online"}},18073:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emojiList=void 0;t.emojiList={angel:"1f607",unicorn_face:"1f984",confused:"1f615",rage:"1f621",imp:"1f608",disappointed:"1f61e",kissing_heart:"1f618",yum:"1f60b",disappointed_relieved:"1f625",weary:"1f629",grin:"1f601",laughing:"1f606",wink:"1f609",sunglasses:"1f60e",neutral_face:"1f610",winking_eye:"1f61c",hushed:"1f62e",thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f603"}},87884:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;t.Environment={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"}},12494:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploadError=void 0;t.FileUploadError={FILE_SIZE_EXCEEDED:"FILE_SIZE_EXCEEDED",RESTRICTED_FILE_TYPE:"RESTRICTED_FILE_TYPE",NO_EXTENSION:"NO_EXTENSION",REQUEST_FAILED:"REQUEST_FAILED",UPLOAD_CANCELED:"UPLOAD_CANCELED"}},6211:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Limits=void 0;t.Limits={STATS_CHUNK_LIMIT:40}},57930:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locator=void 0;t.Locator={LABEL_COPYRIGHT_POPUP:"LABEL_COPYRIGHT_POPUP",HEADER_AVATAR:"HEADER_AVATAR",HEADER_AVATAR_ANON:"HEADER_AVATAR_ANON",CHAT_AVATAR:"CHAT_AVATAR",CHAT_AVATAR_ANON:"CHAT_AVATAR_ANON",CHAT_COPYRIGHT:"CHAT_COPYRIGHT",INPUT:"INPUT",INPUT_SUBMIT:"INPUT_SUBMIT",FILE_UPLOAD:"FILE_UPLOAD",CONTACTS_FORM:"CONTACTS_FORM",CONTACTS_FORM_NAME:"CONTACTS_FORM_NAME",CONTACTS_FORM_PHONE:"CONTACTS_FORM_PHONE",CONTACTS_FORM_EMAIL:"CONTACTS_FORM_EMAIL",CONTACTS_FORM_SUBMIT:"CONTACTS_FORM_SUBMIT",CONTACTS_FORM_INPUT:"CONTACTS_FORM_INPUT",CALLBACK_BUTTON:"CALLBACK_BUTTON",CALLBACK_VIDEO_BUTTON:"CALLBACK_VIDEO_BUTTON",WA_BUTTON:"WA_BUTTON",CLOSE_BUTTON:"CLOSE_BUTTON",POWER_BUTTON:"POWER_BUTTON",MOBILE_POPUP_CLOSE_BUTTON:"MOBILE_POPUP_CLOSE_BUTTON",INPUT_MORE_BTN:"INPUT_MORE_BTN",INPUT_EMOJI_PANEL:"INPUT_EMOJI_PANEL",INPUT_UPLOAD_ICON:"INPUT_UPLOAD_ICON",RATE_TITLE:"RATE_TITLE",RATE_FORM_TEXT:"RATE_FORM_TEXT",RATE_COMMENT_TITLE:"RATE_COMMENT_TITLE",RATE_FORM_INPUT:"RATE_FORM_INPUT",RATE_SUBMIT_BUTTON:"RATE_SUBMIT_BUTTON",RATE_POSITIVE_SUBMIT_TEXT:"RATE_POSITIVE_SUBMIT_TEXT",RATE_NEGATIVE_SUBMIT_TEXT:"RATE_NEGATIVE_SUBMIT_TEXT",RATE_FORM_CLOSE_ICON:"RATE_FORM_CLOSE_ICON",RATE_GOOD:"RATE_GOOD",RATE_GOODNORMAL:"RATE_GOODNORMAL",RATE_NORMAL:"RATE_NORMAL",RATE_BADNORMAL:"RATE_BADNORMAL",RATE_BAD:"RATE_BAD",PRECHAT_BUTTON:"PRECHAT_BUTTON_",LABEL_TEXT:"LABEL_TEXT_"}},81152:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=t.MessageStatus=t.MessageName=t.MessageInitiator=t.MediaType=t.MediaStatus=void 0;t.MessageType={MESSAGE:"message",PROACTIVE:"proactive",MEDIA:"media",COBROWSE:"cobrowse",INVOICE:"invoice",SYSTEM:"system",PREFORM:"botsystem",FORM:"form",TEMPORARY:"temporary",SOCIAL:"social",EMAIL:"email",SEPARATOR:"separator",FOR_TEST:"fortest",PRECHAT:"prechat",BOT:"bot",INVITE:"invite",EMPTY:null,LISTPICKER:"keyboard",WEB_RTC_CALL:"webrtccall",RATE_FORM:"rateform",CALL:"call"};t.MessageStatus={SENT:"sent",SENDED:"sended",DELIVERED:"delivered",READ:"read",SEEN:"seen",NOT_DELIVERED:"notDelivered",FAILED:"failed",DELETED:"deleted",EMPTY:null};t.MessageInitiator={AGENT:"agent",AGENT_BOT:"bot",CLIENT:"client",SYSTEM:"system",FORM:"bot",BOT:"bot_agent",EMPTY:null};t.MediaStatus={UPLOADING:"uploading",COMPLETE:"complete",ERROR:"error",EXPIRED:"expired"};t.MediaType={VIDEO:"video",PHOTO:"photo",LOCATION:"location",VOICE:"voice",STICKER:"sticker",RICH_LINK:"rich_link"};t.MessageName={DELAYED_CALL_SUCCESS:"delayedCallSuccess",CALL_END:"callEnd",CALL_MESSAGE_START:"callMessageStart"}},99393:function(e,t){"use strict";t.e=void 0;t.e={LEFT:"left",RIGHT:"right",BOTTOM:"bottom"}},62168:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionStatus=t.Permission=void 0;t.PermissionStatus={UNKNOWN:0,ALLOWED:1,BLOCKED:2};t.Permission={AUDIO:"audio",VIDEO:"video"}},22271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Regexp=void 0;t.Regexp={SERVICEZONE_DOMAIN:/^https:\/\/servicezone+\S+jivosite.com/}},83907:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UtmSource=t.RuleTypes=t.RuleType=t.RuleConditions=t.DeviceType=void 0;t.RuleTypes={PROACTIVE:"proactive",OPEN_OFFLINE:"open_offline",HIDE:"hide",SYSTEM_MESSAGE:"system_message",SYSTEM_EMAIL:"system_message_email",SHOW_CALLFORM:"show_callform",SHOW_POPUP:"show_popup"};t.RuleConditions={ONLINE:"online",PAGE_URL:"page_url",PAGE_TITLE:"page_title",HOUR:"hour",WEEK_DAY:"week_day",TIME_AFTER_CLOSE:"time_after_close",TIME_AFTER_FIRST_MSG:"time_after_first_message",TIME_AFTER_INVITAION:"time_after_invitation",TIME_ON_PAGE:"time_on_page",TIME_ON_SITE:"time_on_site",NUMBER_OF_VISITS:"number_of_visits",GOAL_CLOSE:"goal_close",GOAL_SCROLL:"goal_scroll",GOAL_CLICK:"goal_click",GOAL_CUSTOM_ATTR:"goal_custom_attr",PAGES_COUNT:"pages_count",COUNTRY:"country",CITY:"city",ONCE_A_DAY:"once_a_day",UTM_SOURCE:"utm_source",DEVICE:"device"};t.DeviceType={MOBILE:"mobile",DESKTOP:"desktop"};t.UtmSource={BING:"bing",YANDEX:"yandex",GOOGLE:"google",YAHOO:"yahoo",DIRECT:"direct"};t.RuleType={ALL:"all",ANY:"any"}},51542:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shards=void 0;t.Shards={SBER:"sber1"}},47138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebRTCCallStatus=t.DelayedCallStatus=t.ChatState=t.CallStatus=t.CallPopupStatus=void 0;t.ChatState={NOT_STARTED_OR_CLOSED:"NOT_STARTED_OR_CLOSED",STARTED:"STARTED",ACCEPTED:"ACCEPTED"};t.CallStatus={WAIT:"cw_wait",CONNECTING:"cw_connecting",CONNECTED:"cw_connected",ENDED:"cw_call_end",ERROR:"cw_error"};t.DelayedCallStatus={WAIT:0,SUCCESS:1,MAX_REQUESTS_LIMIT:2,NOT_WORK_TIME:3,BAD_CALLBACK_TIME:4,BLOCKED:5,BAD_DIRECTION:6};t.WebRTCCallStatus={INITIAL:0,ACCEPTED:1,DECLINED:2,ERROR:3,ENDED:4};t.CallPopupStatus={ENABLED:"enabled",DISABLED:"disabled",ONLY_TRIGGERS:"only_triggers",ONLY_BUTTON_CLICK:"only_button_click"}},71047:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TempKey=t.STORAGE_TYPE=t.STORAGE_STATUS=t.STORAGED_ID=t.CampaignsKeys=void 0;t.STORAGED_ID={APP:"app",CALLBACK:"callback",CLIENT:"client",POSITION:"position"};t.STORAGE_STATUS={AVAILABLE:"available",UNAVAILABLE:"unavailable",EXCEED:"exceed"};t.STORAGE_TYPE={LOCAL:"localStorage",SESSION:"sessionStorage"};t.CampaignsKeys={POPUP_DELAY:"popup_delay"};t.TempKey={SENDED_TAGS:"sended_tags"}},26022:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientStatus=void 0;t.ClientStatus={ON_CHAT:"on_chat",INVITE_SENT:"invite_sent",ON_SITE:"on_site",PROACTIVE_SHOW:"proactive_show",ON_CALL:"on_call"}},40228:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(98661)),i=n(29865),a=r(n(45697)),s=r(n(21135)),l=n(58663),u=n(47138),c=n(83549),d=n(31011),f=n(702),p=n(21579),g=n(69726);const h=e=>{let t=e.route,n=e.isOnline,r=e.button,i=e.callbackAvailable,a=e.separateForm,h=e.enableRequestVideocall,m=e.videoCall,_=e.isMobileDesigner;(0,c.useErrorCatcher)("CallWidgetContainer");const v=(0,g.useEnhanced)({button:r,callbackAvailable:i}),y=v.hiddenByRules,b=v.isCallButtonEnabled;return o.default.createElement(o.default.Fragment,null,!b||_||y?null:o.default.createElement(s.default,{allowedRoutes:(0,l.getCallbackButtonAllowedRoutes)(),currentRoute:t},o.default.createElement(f.CallbackButton,{videoButton:!1,onClick:()=>{(0,l.onButtonClick)(!1)}})),(0,l.isVideoButton)(h,m,n)?o.default.createElement(s.default,{allowedRoutes:(0,l.getCallbackButtonAllowedRoutes)(),currentRoute:t},o.default.createElement(f.CallbackButton,{videoButton:!0,onClick:()=>{(0,l.onButtonClick)(!0)},isCallButtonEnabled:b})):null,!i&&a==u.CallPopupStatus.DISABLED||!a||d.platform.isMobileOrTablet?null:o.default.createElement(p.CallbackLazy,{type:"popup"}))};h.propTypes={route:a.default.string,isOnline:a.default.bool,callbackAvailable:a.default.bool,isDelayedCallback:a.default.bool,callTime:a.default.number,color:a.default.string,bubbleColor:a.default.string,button:a.default.bool,baseUrl:a.default.string,widgetId:a.default.string,eula:a.default.any,delayedCallStatus:a.default.any,separateForm:a.default.string,enableRequestVideocall:a.default.bool,videoCall:a.default.number,callbackStatus:a.default.oneOfType([a.default.string,()=>null]),callbackError:a.default.oneOfType([a.default.string,()=>null]),clientPhone:a.default.string,isMobileDesigner:a.default.bool};var m=(0,i.connect)(((e,t)=>({route:e.app.route,isOnline:e.app.isOnline,callbackAvailable:e.callback.available,isDelayedCallback:e.callback.isDelayed,callbackStatus:e.callback.status,callbackError:e.callback.error,clientPhone:e.client.phone,callTime:e.settings.user.callback.time,color:e.settings.user.callbackButtonColor,bubbleColor:e.settings.user.bubbleColor,button:e.settings.user.callback.button,baseUrl:e.settings.system.baseUrl,widgetId:e.settings.system.widgetId,eula:e.settings.features.eula&&!e.client.eulaAccepted,delayedCallStatus:e.callback.delayedStatus,separateForm:e.callback.separateForm,enableRequestVideocall:e.settings.features.enableRequestVideocall,videoCall:e.settings.features.modules?e.settings.features.modules.videoCall:null,isMobileDesigner:e.settings.designer.isMobileView})),{})(h);t.default=m},58663:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onButtonClick=t.isVideoButton=t.getShowButton=t.getCallbackButtonColor=t.getCallbackButtonAllowedRoutes=void 0;var o=n(52028),i=n(26932),a=n(21476),s=n(97490),l=n(50402),u=n(69882),c=r(n(138)),d=n(44145),f=n(47138),p=n(31011),g=n(21115),h=n(66434);t.getCallbackButtonAllowedRoutes=()=>[s.Route.LABEL];t.onButtonClick=e=>{o.isDesignerEditor||(i.userDispatchers.setCallHeaderText(null),i.appDispatchers.setChatOpenByClient(!0),e?(0,g.sendVideoCallChatMessage)():[f.CallPopupStatus.ENABLED,f.CallPopupStatus.ONLY_BUTTON_CLICK].includes((0,d.getCallback)().separateForm)?a.Router.next(s.RouterEvent.ToCallPopup):(i.transitionDispatchers.startTransition(l.ScriptName.OPEN_WIDGET),a.Router.next(s.RouterEvent.ToCall),c.default.trackCallClick()),(0,h.telemetry)("cw_button_click",{param1:e?"isVideo":null}))};t.getShowButton=(e,t)=>e&&t&&!p.platform.isMobileOrTablet&&!p.platform.isChatPage&&!(0,u.isAppCobrowse)()||o.isDesignerEditor;t.isVideoButton=(e,t,n)=>e&&t&&n&&!o.isDesignerEditor&&!p.platform.isMobileOrTablet&&!p.platform.isChatPage&&!(0,u.isAppCobrowse)();t.getCallbackButtonColor=e=>e||colorsFromFigma.GREEN_80},69726:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(e){let t=e.button,n=e.callbackAvailable;const r=(0,i.useSelector)(s.selectHiddenByRules),u=(0,a.useState)(!1),c=(0,o.default)(u,2),d=c[0],f=c[1];return(0,a.useEffect)((()=>{f((0,l.getShowButton)(t,n))}),[t,n]),{hiddenByRules:r,isCallButtonEnabled:d}};var o=r(n(67375)),i=n(29865),a=n(98661),s=n(65138),l=n(58663)},47548:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(23101)),i=r(n(98661)),a=r(n(94184)),s=r(n(45697)),l=n(57930),u=n(53400),c=r(n(4244)),d=r(n(5243)),f=r(n(40704));const p=e=>{let t=e.onClick,n=e.drag,r=e.callEnabled,s=e.inCall,p=e.show,g=e.ignoreDragHeight;return i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:(0,a.default)({[d.default.wrap]:!0,[d.default.__show]:p,[d.default.__call]:s}),dir:"ltr",id:"jivo_action"},i.default.createElement("jdiv",{className:d.default.closeButton,onClick:t,id:"jivo_close_button"},i.default.createElement(f.default,(0,o.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:d.default.closeIcon},(0,u.locator)(l.Locator.CLOSE_BUTTON))))),n?i.default.createElement(c.default,{isNarrow:r,IsIgnoreHeight:g}):null)};p.propTypes={onClick:s.default.func.isRequired,drag:s.default.bool,callEnabled:s.default.bool,inCall:s.default.bool,show:s.default.bool,ignoreDragHeight:s.default.bool};var g=i.default.memo(p);t.default=g},61744:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=void 0;var o=r(n(23101)),i=r(n(98661)),a=r(n(45697)),s=r(n(94184)),l=n(43417),u=n(18276),c=n(10838),d=r(n(47548)),f=r(n(40704)),p=n(81351),g=n(49798),h=n(26932),m=n(50402),_=n(21476),v=n(97490),y=n(19934),b=n(83549),C=n(31011),E=n(66434),D=r(n(308));const T=e=>{let t=e.onRetry;(0,b.useErrorCatcher)(T.displayName);const n=C.platform.isMobileOrChatpage,r=()=>{n?_.Router.next(v.RouterEvent.CloseWindow):h.transitionDispatchers.startTransition(m.ScriptName.CLOSE_WIDGET)},a=(0,y.useGetHeaderColors)(),w=a.background,S=a.leafBackground,O=a.isDarkText,A=a.patternUrl,I=(0,s.default)({[D.default.errorWrap]:!0,[D.default.__mobile]:n,[D.default.__dark]:O});return i.default.createElement("jdiv",{className:I},i.default.createElement("jdiv",{className:D.default.header,style:{background:w}},i.default.createElement("jdiv",{className:D.default.pattern,style:{backgroundImage:A?`url(${A})`:null}},n?i.default.createElement("jdiv",(0,o.default)({className:D.default.backWrapper},(0,l.onClickHandler)(r,!0,!0)),i.default.createElement(f.default,{iconName:"icon-close",color:O?"#272433":"#fff",className:D.default.backButton})):i.default.createElement(d.default,{drag:!1,callEnabled:!1,inCall:!1,show:!0,onClick:()=>{r()},ignoreDragHeight:!1}),i.default.createElement("jdiv",{className:D.default.headerText},(0,u.l10n)("cb_loading")),i.default.createElement(c.Leaf,{orientation:"bottom",backgroundColor:S,online:!0}))),i.default.createElement("jdiv",{className:D.default.errorContent},i.default.createElement("jdiv",{className:D.default.connectContainer},i.default.createElement(p.DisconnectAlert,{onReconnect:t})),i.default.createElement(f.default,{iconName:"iconErrorLoad",className:D.default.iconError}),i.default.createElement("jdiv",{className:D.default.errorText},(0,u.l10n)("maintenanceSystemText"),i.default.createElement(g.Button,{onClick:()=>{t(),(0,E.telemetry)("retry_button_click")}},(0,u.l10n)("tryAgain")))))};t.ErrorPage=T,T.propTypes={onRetry:a.default.func},T.displayName="ErrorPage"},4244:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(98661)),i=n(29865),a=r(n(45697)),s=n(42932),l=n(87692),u=n(24111),c=n(75998),d=r(n(95554));const f=e=>{let t=e.isNarrow,n=e.IsIgnoreHeight;const r=(0,i.useSelector)(l.selectWidgetOrientation),a=(0,i.useSelector)(l.selectWidgetPadding),f=(0,u.useAppDispatch)();return o.default.createElement(d.default,{orientation:r,padding:a,isNarrow:t,IsIgnoreHeight:n,onSetIsInDrag:e=>f((0,s.setIsInDrag)(e)),onSetPosition:e=>c.positionDispatch.initPositionStore(e)})};f.propTypes={isNarrow:a.default.bool,IsIgnoreHeight:a.default.bool};var p=f;t.default=p},95554:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(67375)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(98661)),a=r(n(94184)),s=r(n(45697)),l=r(n(10611)),u=n(9709);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=e=>{let t=e.orientation,n=e.padding,r=e.isNarrow,s=e.IsIgnoreHeight,c=e.onSetIsInDrag,d=e.onSetPosition;const f=(0,i.useRef)(null),p=(0,i.useState)({dragStarted:!1}),g=(0,o.default)(p,2),h=g[0],m=g[1],_=(0,u.dragEvents)({orientation:t,padding:n,onSetIsInDrag:c,IsIgnoreHeight:s,onSetPosition:d}),v=_.startDrag,y=_.drag,b=_.stopDrag;return i.default.createElement("jdiv",{className:(0,a.default)({[l.default.wrap]:!0,[l.default.__short]:r,[l.default.__active]:h.dragStarted}),ref:f,onMouseDown:e=>{h.dragStarted||(m({dragStarted:!0}),v(e))},onMouseMove:e=>{h.dragStarted&&y(e)},onMouseUp:()=>{h.dragStarted&&(b(),m({dragStarted:!1}))},onMouseOut:()=>{h.dragStarted&&(m({dragStarted:!1}),b())}})};d.propTypes={orientation:s.default.string,padding:s.default.number,isNarrow:s.default.bool,IsIgnoreHeight:s.default.bool,onSetIsInDrag:s.default.func,onSetPosition:s.default.func};var f=i.default.memo(d);t.default=f},9709:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.dragEvents=void 0;var o=n(24344),i=n(52274),a=n(70859),s=n(32183),l=n(45926),u=n(31011),c=r(n(75686)),d=n(2982),f=n(97490),p=n(44145);let g,h,m,_,v,y=null;const b=e=>{y=c.default.get(a.Component.SCROLL_CONTAINER),y&&y.style&&(y.style.display=e?"block":"none")},C=e=>{let t=e.e,n=e.onSetIsInDrag,r=e.mainSide;n(!0),_=t.screenX,v=t.screenY,b(!1);const o=c.default.get(a.Component.WIDGET_CONTAINER),u=r;var f;if("right"===u&&null===(0,d.getProperty)("right",o)&&((0,d.setProperty)("right",(f=o,(0,l.getPageWindow)().document.body.clientWidth-(f.offsetLeft||40)-f.offsetWidth+"px"),o),(0,d.setProperty)("left",null,o)),"left"===u&&null!==(0,d.getProperty)("right",o)){const e=o.offsetLeft+"px";(0,d.setProperty)("left",e,o),(0,d.setProperty)("right",null,o)}if("left"===u&&""===(0,d.getProperty)("left",o)){const e=o.offsetLeft||"40px";(0,d.setProperty)("left",e,o),(0,d.setProperty)("right",null,o)}const p=(0,s.getElementPosition)(o),y=o.offsetHeight;g=parseInt((0,d.getProperty)(u,o)),h=parseInt(y),p.minLeft="left"===u?40:30,p.maxLeft=p.windowWidth-p.width-p.minLeft,p.maxLeft-=30,p.minHeight=i.MINIMAL_WIDGET_HEIGHT,p.height=y<p.minHeight?p.minHeight:y,p.maxHeight=(0,l.getPageWindow)().innerHeight-30,m=p},E=e=>{let t=e.onSetIsInDrag,n=e.onSetPosition;b(!0);const r=(()=>{const e=c.default.get(a.Component.WIDGET_CONTAINER);let t=parseInt((0,d.getProperty)("height",e));t&&t<i.MINIMAL_WIDGET_HEIGHT&&(t=i.MINIMAL_WIDGET_HEIGHT),t||(t=i.DEFAULT_WIDGET_HEIGHT);const n=(0,d.getProperty)("left",e),r=(0,d.getProperty)("right",e);return{width:i.CHAT_WIDTH+"px",height:t+"px",left:n,right:r}})(),s=r.width,l=r.height;n({height:l,left:r.left,right:r.right}),t(!1),(0,o.callUserFunction)("onResizeCallback",{width:s,height:l})},D=e=>{let t=e.e,n=e.ignoreHeight,r=e.mainSide,o=_-t.screenX;const i=v-t.screenY,s=r;"left"==s&&(o=-o);const l=m,y=g?g+o:l.minLeft+o,b=c.default.get(a.Component.WIDGET_CONTAINER);y<l.minLeft?(0,d.setProperty)(s,l.minLeft+"px",b):y>l.maxLeft?(0,d.setProperty)(s,l.maxLeft+"px",b):(0,d.setProperty)(s,y+"px",b);let C=h+i;if(C!==l.height&&(C>l.minHeight||C>l.height)&&((()=>{const e=(0,p.getApp)().route;return-1!==[f.Route.CALL,f.Route.INTRODUCE].indexOf(e)})()&&(C="auto"),C>m.maxHeight&&(C=m.maxHeight),m.height=C,n||(0,d.setProperty)("height",C+"px",b)),u.platform.isSafari&&!u.platform.isMobileOrTablet){const e=(0,d.getSavedLabelPosition)();e&&((0,d.setProperty)("labelright",e.right,b),(0,d.setProperty)("labelleft",e.left,b),(0,d.setProperty)("labelwidth",e.offsetWidth,b)),(0,d.updateKeyframes)(b,!0)}};t.dragEvents=e=>{let t=e.orientation,n=e.padding,r=e.IsIgnoreHeight,o=e.onSetIsInDrag,i=e.onSetPosition;const a="left"===t||0===n&&"bottom"===t?"left":"right";return{startDrag:e=>C({e:e,onSetIsInDrag:o,mainSide:a}),drag:e=>D({e:e,IsIgnoreHeight:r,mainSide:a}),stopDrag:()=>E({onSetIsInDrag:o,onSetPosition:i})}}},66488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=l,t.replace=function(e,t){return String(e).replace(o.EMOJI_REGEX,t)},t.replaceEmoji=function(e){return e.replace(/:\w+:/g,(e=>{const t=e.replace(/:/g,"");return r.emojiList[t]?l(r.emojiList[t]):e}))},t.toCodePoint=void 0;var r=n(18073),o=n(30633);const i=String.fromCharCode,a=/\uFE0F/g,s=String.fromCharCode(8205);function l(e){let t="string"==typeof e?parseInt(e,16):e;return t<65536?i(t):(t-=65536,i(55296+(t>>10),56320+(1023&t)))}t.toCodePoint=(e,t)=>function(e,t){const n=[];let r=0,o=0,i=0;for(;i<e.length;)r=e.charCodeAt(i++),o?(n.push((65536+(o-55296<<10)+(r-56320)).toString(16)),o=0):55296<=r&&r<=56319?o=r:n.push(r.toString(16));return n.join(t||"-")}(e.indexOf(s)<0?e.replace(a,""):e,t)},25466:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUploadProgress=void 0;const r=(0,n(6400).createContext)({loadedSize:0,setLoadedSize:()=>{}});t.CurrentUploadProgress=r},66934:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.startUploadMedia=t.sendMedia=t.openIntroduce=t.getUrlEmoji=t.getTextMediaEmoji=t.getMediaDataFormatted=t.getMediaData=void 0;var o=r(n(61125)),i=r(n(14264)),a=n(88263),s=n(97490),l=n(69625),u=n(81152),c=n(53489),d=r(n(71277)),f=n(26932),p=n(90061),g=n(54415),h=n(52274),m=n(65465),_=n(55329),v=n(13077),y=n(42634),b=n(44145),C=n(16016),E=n(49963),D=n(75141),T=n(8717),w=n(77294),S=n(66434);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=(0,p.createLogger)("FileUploadHelpers"),k=e=>{E.connectionAdapter.checkConnection((()=>E.connectionAdapter.sendEvent(e)))};t.sendMedia=k;t.openIntroduce=e=>{(0,T.shouldRedirectToIntroduce)()&&(e.preventDefault(),e.stopPropagation(),a.routerService.next(s.RouterEvent.ToIntroduce))};const M=e=>{let t="";return t=e.indexOf("image")>=0?"📸":e.indexOf("video")>=0?"📽️":e.indexOf("audio")>=0?"🔉":"📄",t};t.getTextMediaEmoji=M;const x=e=>{const t={},n=e.get("body");if(n&&!n.error&&(n.file_url||n.file)){const e=!!n.status,r=n.file_url||n.file,o=`${M(e?n.mime_type:n.type)} ${r}`,i=A({},n);I.warn("getMediaData",e,i,o),i.file=r,delete i.file_url,e?(delete i.loadedSize,delete i.status):i.type=(0,D.detectType)(n.type),t.message=o,t.media=i,I.warn("data to send:",t)}return t};t.getMediaDataFormatted=x;const P=(e,t)=>{let n="";return n=e.indexOf("image")>=0?"📸":e.indexOf("video")>=0?"📽️":e.indexOf("audio")>=0?"🔉":"📄",n+" "+t};t.getUrlEmoji=P;t.getMediaData=e=>{try{return x(e)}catch(e){return g.Monitoring.reportException(e),!1}};t.startUploadMedia=(e,t)=>{let n=t.privateId,r=t.repliedMsgId,o=t.onUploadProgress,a=t.onCancel;n||(n=(0,C.generateGUID)()),r&&f.appDispatchers.setQuoteMsgId(null),(0,y.markInvitationAnswered)(),f.messagesDispatchers.addMessage({type:u.MessageType.MEDIA,from:u.MessageInitiator.CLIENT,private_id:n,replied_message:r?i.default.getMessageById(r).toJSON():null,body:{type:(0,D.detectType)(e.type),file_name:(0,c.sanitize)(e.name),file_size:e.size,mime_type:e.type,loadedSize:0,status:u.MediaStatus.UPLOADING}});const s=(0,b.getMessageByPrivateId)(n);l.mediaUploader.startUpload(s,e,(t=>{I.warn("file url:",s,e,t);const i=(0,D.detectType)(e.type),a={file:t.fullUrl,file_name:e.name,file_size:e.size,type:i,mime_type:e.type},l=A({},s.body),c=(0,w.isVideo)(e.type);if("photo"===i||c){c||(l.width=e.width,l.height=e.height,a.width=e.width,a.height=e.height);const n=(0,w.getSize)(a);a.thumb=`${t.fullUrl}?width=${n.width||h.MAX_IMAGE_WIDTH}&thumb`,l.thumb=a.thumb}l.status=u.MediaStatus.COMPLETE,l.file=t.fullUrl,l.file_size=e.size;const p=P(e.type,t.fullUrl);null==o||o(0),f.messagesDispatchers.updateMessage({privateId:n},{text:p,body:A(A({},s.body),l)});const g={name:"client_message",message:p,replied_msg_id:r,private_id:n,media:a};f.appDispatchers.setChatStarted(!0),k(g),m.messageActions.checkMessageStatus(n),(0,_.prechatEnabled)()&&m.messageActions.deletePrechatMsg(),(0,v.getRuleLocal)("firstMessageTime")||(0,v.setRuleLocal)("firstMessageTime",new Date),m.messageActions.startContactFormIfNeed(),d.default.play("outgoing_message"),(0,S.telemetry)("file_upload_success",{param1:e.type}),r&&(0,S.telemetry)("visitor_reply_button_send")}),o,a)}},89177:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.afterEmojiInserted=function(e){e&&e.check();const t=d.default.get(f.Component.INPUT);t&&(t.focus(),M(t,t.value))},t.checkOfflineForm=function(){s.messageActions.handleContactsForm()},t.getColorTheme=function(e){switch(e?"disabled":(0,_.getUserSettings)().bubbleColor||"green"){case"disabled":return{color:"#c9cdd3",hoverColor:"#c9cdd3"};case"blue":return{color:v.colorsFromFigma.BLUE_80,hoverColor:v.colorsFromFigma.BLUE_90};case"grey":return{color:v.colorsFromFigma.STEEL_80,hoverColor:v.colorsFromFigma.STEEL_90};default:return{color:v.colorsFromFigma.GREEN_80,hoverColor:v.colorsFromFigma.GREEN_90}}},t.getDisabled=function(e){if(e)return!0;return(0,i.isOfflineCanSend)()},t.getPlaceholder=function(e,t){let n="";if(e){if(n=(0,g.l10n)("offlineBlockedInputPlaceholder"),C.EnvironmentManager.isWidgetConstructor()&&(n=(0,g.l10n)("lblMessageHere")),(0,_.getApp)().maintenance&&(n=(0,g.l10n)("maintenanceBlockedPlaceholder")),(0,_.getFeatures)().recaptcha){const e=y.default.getInstance();e&&e.isBlocked()&&(n=(0,g.l10n)("maintenanceBlockedPlaceholder"))}}else n=(S.platform.isMobileOrTablet,(0,g.l10n)("lblMessageHere"));t&&(n=(0,g.l10n)("botListPickerBlock"));return n},t.getText=k,t.isActiveElementFocused=void 0,t.isFileUploadDisabled=function(){if(o.default.bots&&!(0,_.getFeatures)().botMedia&&!a.default.agent_id)return!0;return!x()},t.isFileUploadEnabled=x,t.isSocialButtonEnabled=function(){return o.default.joint&&(o.default.joint.vk||o.default.joint.fb)&&!S.platform.isMobileOrTablet&&!(0,h.isChatContactForm)()&&!S.platform.isChatPage},t.onFocus=function(){I.log("onFocus");const e=d.default.getComponent(f.Component.SCROLL_CONTAINER);e&&e.setIgnore(!1)},t.onInputSubmit=function(e){let t=e.value,n=e.repliedMsgId;s.messageActions.sendClientMessage({text:t,repliedMsgId:n}),(0,A.connectionTypingInsight)(""),(0,A.connectionClientTyping)(!1),l.default.play("outgoing_message")},t.onPaste=function(e,t,n){if(x()&&!(0,O.shouldRedirectToIntroduce)()){const r=(0,_.getMessages)().some((e=>{var t;return(null==e||null===(t=e.body)||void 0===t?void 0:t.status)===E.MediaStatus.UPLOADING})),o=e.clipboardData;if(!r.length&&o&&o.files&&o.files.length){e.preventDefault();const r=o.files[0];(0,D.startUploadMedia)(r,{privateId:null,repliedMsgId:t,onUploadProgress:n,onCancel:()=>{n(0)}})}}},t.replaceEmojiValue=function(e){return e.replace(b.EMOJI_REGEX," $& ")},t.setCursorEnd=M,t.setPaddingForFocus=void 0,t.setPlaceholder=function(e){if(e=e.replace(/&quot;/g,'"').replace(/&#039;/g,"'"),u.Router.getCurrentRoute()!==c.Route.LABEL){const t=d.default.get(f.Component.INPUT);t&&t.setAttribute("placeholder",e);const n=d.default.get(f.Component.AUTORESIZER);n&&n.check()}},t.startTyping=function(e){if(e){const t=k(e);I.log("startTyping",t),(0,A.connectionClientTyping)(t),(0,A.connectionTypingInsight)(t)}},t.stopTyping=function(){I.log("stopTyping"),(0,A.connectionClientTyping)(!1)};var o=r(n(96394)),i=n(81722),a=r(n(26754)),s=n(65465),l=r(n(71277)),u=n(21476),c=n(97490),d=r(n(75686)),f=n(70859),p=n(32183),g=n(18276),h=n(68403),m=n(90061),_=n(44145),v=n(36874),y=r(n(50216)),b=n(30633),C=n(97615),E=n(81152),D=n(66934),T=n(66488),w=n(45926),S=n(31011),O=n(8717),A=n(59767);const I=(0,m.createLogger)("InputHelpers");function k(e){return o.default.disable_emoji?e:(0,T.replaceEmoji)(e)}function M(e,t){e.setSelectionRange&&e.setSelectionRange(t.length+2,t.length+2)}function x(){const e=!o.default.disable_filetransfer&&0!==o.default.options;return(0,_.getApp)().isOnline?((0,_.getFeatures)().botMedia||!a.default.bot_id)&&e:e&&(0,_.getClient)().isIntroduced}t.isActiveElementFocused=()=>{const e=(0,w.getPageWindow)().document.activeElement;return!!e&&(0,p.isInput)(e.tagName)};t.setPaddingForFocus=e=>{const t=d.default.getComponent(f.Component.MESSAGES_CONTAINER);t&&t.style&&(t.style.paddingBottom=e?"44px":"0px")}},77294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSvgProgress=t.isVideo=t.isPreviewImage=t.isNewMedia=t.isFileGif=t.isAgentMessage=t.getUrl=t.getSize=t.getIconName=t.getIconColor=t.getCircleColor=t.getApiHost=t.formatOldMedia=t.calculateAspectRatio=void 0;var r=n(44145),o=n(52274),i=n(81152),a=n(31011),s=n(36874),l=n(45926);const u=(e,t,n,r)=>{const o=Math.min(n/e,r/t);return{width:(e*o).toFixed(),height:(t*o).toFixed()}};t.calculateAspectRatio=u;t.getIconColor=e=>{switch(e){case"blue":return s.colorsFromFigma.BLUE_80;case"grey":return s.colorsFromFigma.STEEL_80;default:return s.colorsFromFigma.GREEN_80}};t.getIconName=e=>{switch(e){case i.MediaType.VOICE:return"icon-audio";case i.MediaType.STICKER:return"icon-document";default:return`icon-${e}`}};t.getCircleColor=e=>{switch(e){case"blue":return s.colorsFromFigma.BLUE_90;case"grey":return s.colorsFromFigma.STEEL_90;default:return s.colorsFromFigma.GREEN_90}};t.getSize=e=>{const t={width:null,height:null};if(e.width&&e.width>o.MAX_IMAGE_WIDTH){const n=u(e.width,e.height,o.MAX_IMAGE_WIDTH,500);return t.width=n.width,t.height=n.height,t}return t.width=e.width,t.height=e.height,t};t.isAgentMessage=e=>e.from===i.MessageInitiator.AGENT||e.from===i.MessageInitiator.FORM||e.type===i.MessageType.PROACTIVE;t.isNewMedia=e=>!!e&&(e.includes("https://media")&&e.includes("jivosite.com"));t.getUrl=e=>a.platform.isMobileOrTablet&&a.platform.isChromeIos?null==e?void 0:e.replace(/^https?:\/\//i,"googlechrome://"):e;t.isPreviewImage=e=>{if(!e)return!1;const t=e.toLowerCase();return/\.(gif|jpg|jpeg|png|webp)$/i.test(t)};t.isVideo=e=>!!e&&/(video\/)/i.test(e.toLowerCase());t.isFileGif=e=>{if(!e)return!1;const t=e.toLowerCase();return/\.(gif)|\/(gif)$/i.test(t)};t.getApiHost=()=>{const e=(0,r.getSystemSettings)().apiHost;return(0,l.getProtocol)()+"//"+e||"https://api.jivosite.com"};t.formatOldMedia=e=>(e.name&&(e.file_name=e.name),e.icon_type&&(e.mime_type=e.type,e.type=e.icon_type),e.status||(e.status=e.error?i.MediaStatus.ERROR:i.MediaStatus.COMPLETE),e);t.setSvgProgress=(e,t,n,r)=>{if(n&&t&&t.current){let o=(r/n*100).toFixed(0);const i=t.current.getElementsByTagName("circle")[1];if(e&&(o=100),isNaN(o))i.style.strokeDashoffset=1;else if(i){const e=i.getAttribute("r"),t=(100-o)/100*(Math.PI*(2*e));i.style.strokeDashoffset=t}}}},55329:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updatePrechatTime=t.prechatUsed=t.prechatSetUsed=t.prechatEnabled=t.getPrechatUseTime=void 0;var o=n(13077),i=r(n(14264)),a=n(81152),s=n(44145),l=n(68403);let u=!1;t.prechatUsed=()=>u;t.prechatSetUsed=e=>{e&&(0,o.setRuleLocal)("prechatUseTime",(new Date).getTime()),u=e};const c=()=>{const e=(0,s.getProactive)(),t=e.campaignId,n=e.name,r=e.prechats,o=(0,l.isPaidCustomer)();return!(t&&n&&!r)&&((o||r&&t)&&((0,s.getFeatures)().prechat||r)&&!(0,s.getApp)().maintenance&&!(0,s.getSystemSettings)().botmode)};t.prechatEnabled=c;t.getPrechatUseTime=()=>{const e=(0,o.getRuleLocal)("prechatUseTime");if(!e)return null;const t=((new Date).getTime()-e)/1e3;return(0,o.setRuleLocal)("prechatUseTime",null),parseInt(t)};t.updatePrechatTime=e=>{if(c()){const t=i.default.getMessagesByType(a.MessageType.PRECHAT);t.length&&t[0].set("created_ts",e+1)}}},31694:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.PrechatEmitter=void 0,t.useEnhanced=function(){const e=(0,i.useState)([]),t=(0,o.default)(e,2),n=t[0],r=t[1],s=(0,i.useState)((()=>D.platform.isMobileOrTablet&&!D.platform.isChatPage)),O=(0,o.default)(s,2),A=O[0],I=O[1],k=(0,a.useDispatch)(),M=(0,i.useRef)(),x=(0,a.useSelector)(v.selectPrechat),P=(0,a.useSelector)(v.selectEnablePrechat),R=(0,a.useSelector)(v.selectBubbleColor),F=(0,a.useSelector)(v.selectLocale),L=(0,a.useSelector)(v.selectDisableEmoji),j=D.platform.isMobileOrTablet,N=D.platform.isIos,B=(0,a.useSelector)(C.selectProactive,a.shallowEqual),U=(0,a.useSelector)(E.selectCampaigns),W=(0,i.useCallback)((e=>{if(Array.isArray(x)&&!x.length)return[];if(U&&B.prechats&&Array.isArray(B.prechats))return B.prechats;const t=(0,c.sortBy)(null!=e?e:x,"id"),n=t.length||3,r=[];for(let e=0;e<n;e++){var o;const n=e+1,u=0===e?"":n;let c;var i,a,s,l;if(n<=3&&(c=(0,y.l10n)(`prechatText${u}`)),null!==(o=t[e])&&void 0!==o&&o.text&&(c=t[e].text),c)r.push({id:n,text:c,background:null!==(i=null===(a=t[e])||void 0===a?void 0:a.background)&&void 0!==i?i:void 0,text_color:null!==(s=null===(l=t[e])||void 0===l?void 0:l.text_color)&&void 0!==s?s:void 0})}return r}),[x]);return(0,i.useEffect)((function(){r(W())}),[W]),(0,i.useEffect)((function(){S.addListener("updatePrechatText",(e=>{r(W(e))}))}),[W]),(0,i.useEffect)((function(){m.default.set(u.Component.PRECHAT,M.current)}),[]),(0,i.useEffect)((function(){const e=setTimeout((()=>I(!1)),500);return()=>{clearTimeout(e)}}),[]),{componentRef:M,bubbleColor:R,phrases:n,isHidden:A,isDisabledEmoji:L,isMobile:j,isIos:N,enablePrechat:P,sendPhrase:(e,t)=>{(0,b.prechatSetUsed)(!0),(0,T.shouldRedirectToIntroduce)()?(k((0,g.setLastMessage)(e)),f.Router.next(p.RouterEvent.ToIntroduce)):(d.messageActions.sendClientMessage({text:e}),_.default.play("outgoing_message"),D.platform.isMobileOrTablet||(0,l.afterEmojiInserted)());I(!0),(0,w.telemetry)("prechat",{param1:t,param2:F},{once:!0}),h.default.trackPrechatClick(t)}}};var o=r(n(67375)),i=n(98661),a=n(29865),s=n(89766),l=n(89177),u=n(70859),c=n(938),d=n(65465),f=n(21476),p=n(97490),g=n(92056),h=r(n(138)),m=r(n(75686)),_=r(n(71277)),v=n(87692),y=n(18276),b=n(55329),C=n(7193),E=n(95448),D=n(31011),T=n(8717),w=n(66434);const S=new s.EventEmitter;t.PrechatEmitter=S},93254:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(84827)),s=r(n(85299)),l=r(n(55536)),u=r(n(98661)),c=n(29865),d=r(n(45697)),f=r(n(74379)),p=r(n(2167)),g=n(51730),h=r(n(21135)),m=n(21476),_=n(97490),v=r(n(94184)),y=n(47138),b=r(n(75686)),C=n(70859),E=n(34930),D=n(625),T=r(n(96394)),w=n(72665),S=n(29312),O=n(16217),A=n(31011),I=r(n(47860)),k=n(46658),M=n(33302);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}let P=function(e){(0,a.default)(n,e);var t=x(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).showState=!1,r}return(0,i.default)(n,[{key:"componentDidUpdate",value:function(){this.props.route===_.Route.LABEL||this.props.route===_.Route.CAMPAIGN_POPUP||A.platform.isTablet&&this.props.route===_.Route.MOBILE_MENU||this.props.route===_.Route.HIDDEN?f.default.unblockSite():f.default.blockSite(),this.props.route!=_.Route.HIDDEN?this.props.route!==_.Route.LABEL&&this.props.route!==_.Route.HIDDEN?f.default.setZoomChangeIterval(500):f.default.setZoomChangeIterval(1e3):clearInterval(f.default.intervalId)}},{key:"renderMenuContainer",value:function(){return A.platform.isTablet?null:u.default.createElement(h.default,{allowedRoutes:[_.Route.MOBILE_MENU],currentRoute:this.props.route,name:"OmniMenuContainer"},u.default.createElement(g.OmniMenuContainer,{show:!0,onCancelClick:()=>m.Router.next(_.RouterEvent.CloseWindow)}))}},{key:"renderWidgetContainer",value:function(){return u.default.createElement(h.default,{allowedRoutes:(0,k.getAllowedRoutes)(),currentRoute:this.props.route,name:"MobileWidgetContent"},u.default.createElement("jdiv",{className:(0,v.default)({[I.default.mobileContainer]:!0,[I.default.__tablet]:A.platform.isTablet||A.platform.isDesktop&&A.platform.isChatPage,[I.default.__cpFull]:A.platform.isChatPage&&T.default.enable_full_cp}),style:{zoom:(0,D.getZoom)(this.props.zoom),zIndex:2147483647,"-webkit-text-size-adjust":A.platform.isIos?f.default.getTextSize():"none"},ref:e=>{b.default.set(C.Component.MOBILE_CONTAINER,e)}},u.default.createElement(p.default,{needRenderCloseBtn:!1,needRenderCallContainer:(0,O.isCallbackEnabled)(),needRenderDrag:!1,showCloseButton:!0,showHeaderText:!0,showBody:!0,callbackEnabled:this.props.callbackEnabled,route:this.props.route,onCloseButtonClick:()=>{(0,E.closeWidget)(),this.props.callbackStatus===y.CallStatus.CONNECTED&&m.Router.next(_.RouterEvent.CloseWindow)}})))}},{key:"render",value:function(){return u.default.createElement(u.default.Fragment,null,this.renderWidgetContainer(),!M.locationParams.chatPageYClients&&u.default.createElement(u.default.Fragment,null,u.default.createElement(w.LandscapeOverlay,null),u.default.createElement(S.ZoomOverlay,null)),this.renderMenuContainer())}}]),n}(u.default.PureComponent);P.propTypes={chat:d.default.bool,tabletMenu:d.default.bool,callbackEnabled:d.default.bool,route:d.default.string,position:d.default.any,padding:d.default.number,callbackStatus:d.default.oneOfType([d.default.string,d.default.bool]),mobileOrientation:d.default.string,zoom:d.default.number};var R=(0,c.connect)((e=>({padding:e.settings.user.widgetPadding,mobileOrientation:e.settings.user.widgetMobileOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,zoom:e.zoom.app})),{})(P);t.default=R},46658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllowedRoutes=void 0;var r=n(97490);t.getAllowedRoutes=()=>[r.Route.CHAT,r.Route.CHAT_CALL,r.Route.CHAT_SOCIAL,r.Route.CHAT_MIN,r.Route.DEPARTMENTS,r.Route.INTRODUCE,r.Route.CALL,r.Route.DEPARTMENTS,r.Route.INTRODUCE,r.Route.DEBUG,r.Route.CHAT_SETUP_CALL]},21135:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(98661)),i=r(n(45697));const a=e=>{let t=e.children,n=e.allowedRoutes,r=e.currentRoute;return n.includes(r)?o.default.createElement(o.default.Fragment,null,t):null};a.propTypes={children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node,i.default.func]).isRequired,allowedRoutes:i.default.arrayOf(i.default.string).isRequired,currentRoute:i.default.string.isRequired};var s=o.default.memo(a);t.default=s},83502:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var o=r(n(23101)),i=r(n(98661)),a=r(n(45697)),s=r(n(94184)),l=n(97490),u=n(53400),c=n(31011),d=n(51730),f=r(n(21135)),p=r(n(56145)),g=r(n(40704)),h=n(42413),m=n(43417),_=n(21476),v=n(95429),y=r(n(40977));let b=!1;const C=e=>{let t=e.isCallEnabled,n=e.showLogo,r=e.top,a=e.left,C=e.unReadMessages,E=e.popup,D=e.iconColor,T=e.widgetMobileOrientation,w=e.desktopOffsetBottom,S=e.mobileOffsetBottom,O=e.powerButtonColor,A=e.zoom,I=e.linkOverlay,k=e.onOverlayClick,M=e.isOnline,x=e.route,P=e.onClick,R=e.hidden,F=e.isCustomLabel,L=e.isDesktop,j=e.isPopupShow,N=e.isMobileOrTablet,B=e.isWidgetTarget,U=e.desktopPosition,W=(e.isOmnichannelMenu,e.toggleOmnichannelMenu),H=e.designerOptions;const z=A.user>1.1,G=N&&Boolean(S),$=L&&Boolean(w),V={[y.default.wrap]:!0,[y.default._orientationRight]:L?"right"===U:"right"===T,[y.default._orientationLeft]:L?"left"===U:"left"===T,[y.default._popupShow]:j,[y.default._show]:!R,[y.default._hoverMenu]:L,[y.default._mobileDesigner]:H&&H.isMobileView,[y.default._desktopOffsetBottom]:$,[y.default._mobileOffsetBottom]:G,[y.default._extensionsTarget]:B,__jivoMobileButton:!(!N||z),__jivoDesktopButton:L},Z={};return z?Z.transform=`translate(${a}px,${r}px) scale(${A.app})`:1!==A.app&&(Z.zoom=A.app),G&&(Z["--jivoMobileOffsetBottom"]=`${null!=S?S:0}px`),$&&(Z["--jivoDesktopOffsetBottom"]=`${null!=w?w:0}px`),i.default.createElement("jdiv",(0,o.default)({className:(0,s.default)(V),style:Z},(0,u.locator)("POWER_BUTTON_"+(M?"ONLINE":"OFFLINE"))),E?i.default.createElement(v.MobileProactive,null):null,I?i.default.createElement("a",{className:y.default.overlay,href:I,target:c.platform.isChromeIos?"_self":"_blank",rel:"nofollow noopener noreferrer",onPointerDown:k}):null,i.default.createElement("jdiv",{className:(0,s.default)({[y.default.button]:!0,[y.default.__hide]:F,[y.default.__inzoom]:z}),style:{background:O},onClick:e=>{!L&&W(),!c.platform.supports.touch&&P(e)},onTouchStart:()=>{b=!1},onTouchMove:()=>{b=!0},onTouchEnd:e=>{b||(e.preventDefault(),W(),P(e))}},C?i.default.createElement(h.Badge,{show:!0,text:C,size:"large",top:-2,right:0}):null,(()=>{const e=L?[l.Route.LABEL,l.Route.MOBILE_MENU]:[l.Route.LABEL];return i.default.createElement(f.default,{allowedRoutes:e,currentRoute:x,name:"Icons"},i.default.createElement(p.default,{showLogo:n,isCallEnabled:t,iconColor:D,isOnline:M}))})(),L||x!==l.Route.MOBILE_MENU?null:i.default.createElement(f.default,{allowedRoutes:[l.Route.MOBILE_MENU],currentRoute:x,name:"CloseIcon"},i.default.createElement("jdiv",(0,o.default)({className:y.default.closeIconWrap},(0,m.onClickHandler)((()=>{_.Router.setNext(l.Route.LABEL)}))),i.default.createElement(g.default,{iconName:"icon-close",color:D,className:y.default.closeIcon})))),(()=>{const e=L?[l.Route.LABEL]:[l.Route.MOBILE_MENU];return i.default.createElement(f.default,{allowedRoutes:e,currentRoute:x,name:"OmniMenu"},i.default.createElement("jdiv",{className:(0,s.default)({[y.default.menuWrap]:!0,[y.default.__hover]:L})},i.default.createElement(d.OmniMenuContainer,{show:e})))})())},E=C.propTypes={isCallEnabled:a.default.bool,showLogo:a.default.bool,top:a.default.number,left:a.default.number,unReadMessages:a.default.number,popup:a.default.any,iconColor:a.default.string,iconTopColor:a.default.string,widgetMobileOrientation:a.default.string,desktopOffsetBottom:a.default.number,mobileOffsetBottom:a.default.number,powerButtonColor:a.default.string,zoom:a.default.any,linkOverlay:a.default.any,onOverlayClick:a.default.func,isOnline:a.default.bool,route:a.default.string,onClick:a.default.func,onPopupClick:a.default.func,onClosePopupClick:a.default.func,hidden:a.default.bool,isCustomLabel:a.default.bool,isDesktop:a.default.bool,desktopPosition:a.default.string,avatarHost:a.default.string,designerOptions:a.default.shape({isMobileView:a.default.bool,mobileRenderTarget:a.default.string})};t.componentProps=E;var D=i.default.memo(C);t.default=D},9004:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var o=r(n(98661)),i=n(98661),a=n(83549),s=r(n(21135)),l=n(97490),u=n(31011),c=n(23119),d=r(n(83502));function f(){(0,a.useErrorCatcher)(f.displayName);const e=(0,c.useEnhanced)(),t=e._window,n=e.position,r=e.isHidden,p=e.route,g=e.userZoom,h=e.isCallEnabled,m=e.isTopEnabled,_=e.isLogoShow,v=e.unreadMessages,y=e.popup,b=e.iconColor,C=e.iconTopColor,E=e.widgetMobileOrientation,D=e.desktopOffsetBottom,T=e.mobileOffsetBottom,w=e.powerButtonColorComputed,S=e.powerButtonDesktopPosition,O=e.zoom,A=e.isOnline,I=e.linkOverlay,k=e.isCustomLabel,M=e.avatarUrl,x=e.isOmniMenuShow,P=e.allowedRoutes,R=e.isMobileOrTablet,F=e.isWidgetTarget,L=e.isDesktop,j=e.isPopupShow,N=e.designerOptions,B=e.labelBubble,U=e.hiddenByRules,W=e.onToggleOmniMenu,H=e.onClickHandler,z=e.onOverlayClick,G=e.onClosePopupClick,$=n.top,V=n.left;return N.isMobileView&&N.mobileRenderTarget?(0,i.createPortal)(o.default.createElement(d.default,{hidden:r,isCallEnabled:h,isTopEnabled:m,showMenu:!1,showLogo:_,top:$,left:V,unReadMessages:v,popup:y,iconColor:b,iconTopColor:C,widgetMobileOrientation:E,desktopOffsetBottom:D,mobileOffsetBottom:T,powerButtonColor:w,zoom:O,isOnline:A,route:p,onClick:H,linkOverlay:I,onOverlayClick:z,onPopupClick:e=>H(e,!0),onClosePopupClick:G,isCustomLabel:k,isDesktop:L,isMobileOrTablet:R,isPopupShow:j,desktopPosition:S,avatarHost:M,isOmnichannelMenu:x,toggleOmnichannelMenu:W,designerOptions:N}),t.document.getElementById(N.mobileRenderTarget)):p===l.Route.HIDDEN||g>2||u.platform.isChatPage||L&&!B||U?null:o.default.createElement(s.default,{allowedRoutes:P,currentRoute:p,name:"PowerButtonNew"},o.default.createElement(d.default,{hidden:r,isCallEnabled:h,isTopEnabled:m,showMenu:!1,showLogo:_,top:$,left:V,unReadMessages:v,popup:y,iconColor:b,iconTopColor:C,widgetMobileOrientation:E,desktopOffsetBottom:D,mobileOffsetBottom:T,powerButtonColor:w,zoom:O,isOnline:A,route:p,onClick:H,linkOverlay:I,onOverlayClick:z,onPopupClick:e=>H(e,!0),onClosePopupClick:G,isCustomLabel:k,isDesktop:L,isMobileOrTablet:R,isWidgetTarget:F,isPopupShow:j,desktopPosition:S,avatarHost:M,isOmnichannelMenu:x,toggleOmnichannelMenu:W}))}f.displayName="PowerButtonContainer",f.propTypes={}},933:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reportOpenTelemetry=t.onOverlayClick=t.handleUnreadClick=t.handleOpenMenuClick=t.handleButtonClick=t.getPowerButtonColor=t.getPosition=t.getPopup=t.getOverlay=t.getIconColor=void 0;var o=r(n(27104)),i=n(65465),a=r(n(74379)),s=n(88263),l=n(97490),u=n(26932),c=n(81152),d=n(44145),f=n(62162),p=n(45926),g=n(31011),h=n(45683),m=n(42634),_=n(66434),v=n(85074);t.getPowerButtonColor=e=>{let t=e.isDesktop,n=e.powerButtonColor,r=e.powerGradient,i=e.color,a=e.color2;return r||t?o.default.getGradientBg(i,a):n};t.getIconColor=e=>{let t=e.isDesktop,n=e.powerButtonColor,r=e.powerGradient,i=e.color,a=e.widgetFontColor;const s="#3e414f",l="#fff";if("auto"!==a)return"light"===a?l:s;let u;return u=r||t?o.default.isLightColor(i):o.default.isLightColor(n),u?s:l};t.getPosition=(e,t)=>{const n=(0,p.getPageWindow)().visualViewport,r="left"===t,o=a.default.isSiteOptimizedForMobile?-15:15;if(g.platform.isMobileOrTablet&&n&&e>=1.1){const t=a.default.getPseudo(),i=t&&t.getBoundingClientRect().height||0,s=t&&t.getBoundingClientRect().width||0,l=n.width-s+n.offsetLeft,u=n.offsetLeft+o*e,c=r?u:l;return{top:n.height-i+n.offsetTop-o,left:c-o}}return{left:null,top:null}};t.handleButtonClick=()=>{u.appDispatchers.setAppIsFocused(!0),s.routerService.next(l.RouterEvent.Navigate),i.messageActions.deleteUnansweredOfflineSystemInvite(),i.messageActions.offlineSystemInvite(),i.messageActions.addPrechatMessage(),(0,v.onOpenChat)(),y("from_pwr")};t.handleOpenMenuClick=()=>{u.appDispatchers.setChatOpenByClient(!1),s.routerService.next(l.RouterEvent.ToMobileMenu),(0,_.telemetry)("powerbtn_open_menu",{param1:"menu",param2:g.platform.supports.pointer?1:0})};const y=e=>{const t={};e&&(t.param1=e,t.param2=g.platform.supports.pointer?1:0),(0,d.getSystemSettings)().botmode&&(t.param4=1),(0,_.telemetry)("widget_click",t)};t.reportOpenTelemetry=y;t.handleUnreadClick=(e,t)=>{u.appDispatchers.setAppIsFocused(!0),e?s.routerService.next(l.RouterEvent.ToCall):(s.routerService.next(l.RouterEvent.ToChat),u.userDispatchers.setCallHeaderText(null)),(0,v.onOpenChat)(),(0,m.readProactive)(),y(t?"from_popup":null)};t.getOverlay=e=>!!(g.platform.supports.iMessage&&e&&e.joint_id)&&(0,h.getIMessageLink)(e.joint_id);t.onOverlayClick=e=>{e.stopPropagation(),(0,_.telemetry)("powerbtn_open_im")};t.getPopup=(e,t)=>{if(!e)return null;if(t&&t.text&&t.status!==c.MessageStatus.READ){const e=(0,f.getProactiveAgent)(t);return{text:t.text,agent:e,isMarkdown:t.isMarkdown}}}},23119:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=(0,a.useSelector)(u.selectPowerButtonColor),t=(0,a.useSelector)(u.selectWidgetColor),n=(0,a.useSelector)(u.selectWidgetColor2),r=(0,a.useSelector)(u.selectPowerGradient),R=(0,a.useSelector)(u.selectWidgetOrientation),F=(0,a.useSelector)(u.selectWidgetPadding),L=(0,a.useSelector)(u.selectWidgetMobileOrientation),j=(0,M.useAppSelector)(w.selectDesktopOffsetBottom),N=(0,a.useSelector)(u.selectMobileOffsetBottom),B=(0,a.useSelector)(D.selectRoute),U=(0,a.useSelector)(u.selectCallHeaderText),W=(0,a.useSelector)(c.selectMessages),H=(0,a.useSelector)(D.selectIsOnline),z=(0,a.useSelector)(l.selectZoom),G=z.user,$=(0,a.useSelector)(d.selectProactive),V=(0,a.useSelector)(u.selectMobileProactive),Z=(0,a.useSelector)(u.selectAvatarUrl),q=(0,a.useSelector)(u.selectJoint),K=(0,a.useSelector)(u.selectLabelBubble),Y=(0,a.useSelector)(w.selectCampaignPopupSettings).display,J=(0,a.useSelector)(u.selectDesigner),X=J.isMobileView||O.platform.isMobileOrTablet,Q=!J.isMobileView&&O.platform.isDesktop,ee=(0,a.useSelector)(D.selectHiddenByRules),te=(0,a.useSelector)(w.selectFeaturesSettings).disableMobileBack,ne=(0,S.useWidgetExtensionsContext)().isWidgetTarget,re=(0,i.useState)(!1),oe=(0,o.default)(re,2),ie=oe[0],ae=oe[1],se=(0,i.useState)(Q||O.platform.isTablet),le=(0,o.default)(se,2),ue=le[0],ce=le[1],de=(0,i.useState)((0,P.getPosition)(G,L)),fe=(0,o.default)(de,2),pe=fe[0],ge=fe[1],he=(0,i.useState)(Q?(0,C.getPowerButtonDesktopPosition)(R,F):null),me=(0,o.default)(he,2),_e=me[0],ve=me[1],ye=q?q.im:null,be=(0,x.getUnreadMessagesWithProactive)(Boolean(U)),Ce=(0,P.getPopup)(V,$),Ee=(0,k.useBubbleColors)(),De=Ee.powerButtonColorComputed,Te=Ee.iconColor,we=Ee.iconTopColor,Se=(0,T.getPageWindow)(),Oe=(0,P.getOverlay)(ye),Ae=O.platform.isTablet?[m.Route.LABEL,m.Route.MOBILE_MENU]:[m.Route.LABEL];let Ie=null;const ke=()=>{clearTimeout(Ie),ae(G>=1.1),ge((0,P.getPosition)(G,L)),Ie=setTimeout((()=>{ae(!1)}),200)},Me=e=>{ce((t=>null!=e?e:!t))};return(0,y.useDidUpdate)((()=>{O.platform.isTablet&&ue&&(Me(!1),(0,E.closeWidget)(),v.appDispatchers.setAppRoute(m.Route.LABEL))}),[G]),(0,i.useEffect)((()=>{O.platform.isTablet&&B===m.Route.LABEL&&ue&&Me(!1)}),[B,ue]),(0,i.useEffect)((()=>{Q&&ve((0,C.getPowerButtonDesktopPosition)(R,F))}),[Q,R,F]),(0,i.useEffect)((()=>{const e=new h.HistoryManager,t=Se.document,n=(0,f.throttle)(ke,200),r=()=>{e.checkPopState()},o=e=>{"BODY"===e.target.tagName&&B!==m.Route.LABEL&&(0,_.hasClass)(t.documentElement,"jivo-tablet-overlay")&&(e.preventDefault(),(0,E.closeWidget)(),v.appDispatchers.setAppRoute(m.Route.LABEL))};return p.messageActions.deleteUnansweredOfflineSystemInvite(),(0,g.addListener)(Se,"scroll",n,!0),(0,g.addListener)(Se,"resize",n,!0),Se.visualViewport&&Se.addEventListener&&O.platform.isIos&&((0,g.addListener)(Se.visualViewport,"scroll",n,!0),(0,g.addListener)(Se.visualViewport,"resize",n,!0)),te||(0,g.addListener)(Se,"popstate",r),ae(!1),ge((0,P.getPosition)(G)),O.platform.tablet&&(0,g.addListener)(t.body,"touchstart",o),()=>{(0,g.removeEvent)(Se,"scroll",n),(0,g.removeEvent)(Se,"resize",n),(0,g.removeEvent)(Se,"popstate",r),(0,g.removeEvent)(Se.visualViewport,"scroll",n),(0,g.removeEvent)(Se.visualViewport,"scroll",n),(0,g.removeEvent)(t.body,"touchstart",o)}}),[]),{_window:Se,isHidden:ie,powerButtonColor:e,powerGradient:r,color:t,color2:n,isOnline:H,widgetMobileOrientation:L,desktopOffsetBottom:parseInt(j,10),mobileOffsetBottom:parseInt(N,10),route:B,callHeaderText:U,zoom:z,userZoom:G,mobileProactive:V,iMessageSettings:ye,messages:W,avatarUrl:Z,position:pe,unreadMessages:be,popup:Ce,iconColor:Te,iconTopColor:we,powerButtonColorComputed:De,powerButtonDesktopPosition:_e,linkOverlay:Oe,isOmniMenuShow:ue,allowedRoutes:Ae,isCustomLabel:(0,I.hasCustomLabel)(),isCallEnabled:(0,A.isCallbackEnabled)(),isLogoShow:(0,b.showAd)(),isPopupShow:Y,designerOptions:J,isMobileOrTablet:X,isWidgetTarget:ne,isDesktop:Q,labelBubble:K,hiddenByRules:ee,onViewportChanged:ke,onToggleOmniMenu:Me,onClickHandler:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(J.isMobileView)return;Q?(0,s.showChat)(H,m.RouterEvent.Navigate,{param1:"from_pwr_desktop"}):(0,x.openMenuClick)(U,t)},onOverlayClick:P.onOverlayClick,onClosePopupClick:P.onClosePopupClick}};var o=r(n(67375)),i=n(98661),a=n(29865),s=n(85074),l=n(42601),u=n(87692),c=n(66311),d=n(7193),f=n(73262),p=n(65465),g=n(21951),h=n(92790),m=n(97490),_=n(32183),v=n(26932),y=n(49862),b=n(68403),C=n(80598),E=n(34930),D=n(65138),T=n(45926),w=n(79105),S=n(13551),O=n(31011),A=n(16217),I=n(91920),k=n(95232),M=n(24111),x=n(84998),P=n(933)},56145:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var o=r(n(61125)),i=r(n(98661)),a=r(n(45697)),s=r(n(94184)),l=r(n(28843)),u=n(31076),c=r(n(40704)),d=n(16217),f=r(n(64734));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=e=>{let t=e.showLogo,n=e.isCallEnabled,r=e.iconColor,o=e.isOnline;const a=!(n&&!(0,d.isCallbackButtonEnabled)()),p={[f.default.iconWrap]:!0,[f.default._isCallEnabled]:!a,[f.default._showLogo]:t},h=e=>{const t=o?"mobile-cloud":"envelope",n=o?f.default.logoIconCloud:f.default.envelopeIcon;return i.default.createElement(c.default,{iconName:t,color:e,className:(0,s.default)(n,f.default.icons)})},m=()=>a?null:i.default.createElement("jdiv",{className:(0,s.default)(g(g({},p),{},{[f.default.iconWrap2]:!0}))},h(r));return i.default.createElement(i.default.Fragment,null,i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:(0,s.default)(g({},p))},t?i.default.createElement(c.default,{iconName:"logo-j-white",className:(0,s.default)(f.default.jivoIcon,f.default.icons),color:r}):null,a?h(r):null),m()),a?null:i.default.createElement("jdiv",{className:(0,s.default)(g(g({},p),{},{[f.default.iconWrap3]:!0}))},i.default.createElement(u.SvgIcon,{icon:l.default,color:r,className:(0,s.default)(f.default.callbackIcon,f.default.icons)})))},m=h.propTypes={showLogo:a.default.bool,isCallEnabled:a.default.bool,isOnline:a.default.bool,iconColor:a.default.string};t.componentProps=m;var _=i.default.memo(h);t.default=_},34137:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(84827)),s=r(n(85299)),l=r(n(55536)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(98661)),c=n(29865),d=n(62096),f=r(n(75686)),p=r(n(251)),g=r(n(93254)),h=r(n(40228)),m=n(37810),_=n(70859),v=n(40792),y=n(71277),b=n(46152),C=n(31011),E=n(41967),D=n(45926),T=n(54162),w=n(96545),S=r(n(9004));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}const I=u.default.lazy((()=>n.e(829).then(n.bind(n,3729)).then((e=>({default:e.Cobrowse})))));let k=function(e){(0,a.default)(n,e);var t=A(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,i.default)(n,[{key:"renderWidgetContainer",value:function(){return C.platform.isMobileOrTablet||C.platform.isChatPage?null:u.default.createElement(p.default,{ref:e=>{e&&f.default.set(_.Component.WIDGET_CONTAINER,e)}})}},{key:"renderSoundPlayer",value:function(){if(!y.isSoundDisabled&&y.WebAudioDisabled)return u.default.createElement(v.SoundPlayer,{sounds:y.Sounds})}},{key:"renderCallWidget",value:function(){return u.default.createElement(h.default,null)}},{key:"renderPowerButton",value:function(){return u.default.createElement(S.default,null)}},{key:"renderMouseTrack",value:function(){return C.platform.isMobileOrTablet?null:u.default.createElement("jdiv",{className:"jv-mouse-track",ref:e=>{e&&f.default.set(_.Component.MOUSE_TRACK,e)}})}},{key:"renderMobileContainer",value:function(){return C.platform.isMobileOrTablet||C.platform.isChatPage?u.default.createElement(g.default,null):null}},{key:"renderCampaignPopup",value:function(){return u.default.createElement(m.CampaignPopupContainer,null)}},{key:"renderCobrowse",value:function(){return(0,D.getCobrowseHash)()?u.default.createElement(u.Suspense,{fallback:null},u.default.createElement(I,null)):void 0}},{key:"render",value:function(){return u.default.createElement(c.Provider,{store:d.reduxStore},u.default.createElement(w.LocaleProvider,null,u.default.createElement(T.RootSwitch,null,u.default.createElement(b.RootContainer,null,this.renderCallWidget(),this.renderPowerButton(),this.renderMobileContainer(),C.platform.isDesktop&&!C.platform.isChatPage&&u.default.createElement(E.Label,null),this.renderSoundPlayer(),this.renderWidgetContainer(),this.renderCampaignPopup(),u.default.createElement("jdiv",{className:"jv-pseudo-height"}),this.renderMouseTrack(),this.renderCobrowse()))))}}]),n}(u.default.Component);t.default=k},40704:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(61125)),i=r(n(67375)),a=r(n(98661)),s=r(n(45697)),l=r(n(12298)),u=r(n(38353)),c=r(n(28336)),d=r(n(30349)),f=r(n(54446)),p=r(n(34948)),g=r(n(22764)),h=r(n(85972)),m=r(n(2482)),_=r(n(87409)),v=r(n(92809)),y=r(n(69357)),b=r(n(43055)),C=r(n(39581)),E=r(n(28149)),D=r(n(54304)),T=r(n(28372)),w=r(n(31617)),S=r(n(36972)),O=r(n(80441)),A=r(n(88921)),I=r(n(28122)),k=r(n(66574)),M=r(n(54983)),x=r(n(21525)),P=r(n(60783));function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const L={},j={"logo-j-white":l.default,"mobile-cloud":u.default,envelope:c.default,"icon-close":p.default,"logo-jivosite":d.default,"logo-jivochat":f.default,phone:g.default,"icon-emoji":h.default,"icon-attach":m.default,callMessageStartIcon:_.default,callEndIcon:v.default,"icon-photo":y.default,"icon-video":b.default,"icon-audio":C.default,"icon-document":E.default,"icon-error":T.default,"icon-cancel":D.default,"icon-ruble":w.default,"icon-v":S.default,"icon-close-chat":O.default,"icon-popup-close":A.default,"icon-tube":I.default,"icon-more":k.default,iconMic:M.default,iconErrorLoad:x.default},N=e=>{let t=e.title,n=e.iconName,r=e.className,o=e.color,s=e.color2,l=e.hoverColor,u=e.style,c=e["data-qa-id"];const d=a.default.useState(!1),f=(0,i.default)(d,2),p=f[0],g=f[1],h=P.default[n+"Icon"],m=r?r+(h?" "+h:""):void 0,_=e=>{l&&g(e)};return a.default.createElement("jdiv",{onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),style:F({backgroundImage:(()=>{const e=n+p?l:o;if(L[e])return L[e];let t=encodeURIComponent(j[n]);const r=p?l:o;o&&!p&&(t=t.replace(new RegExp("_COLOR1_","ig"),r.replace("#","%23"))),l&&p&&(t=t.replace(new RegExp("_COLOR1_","ig"),r.replace("#","%23"))),s&&(t=t.replace(new RegExp("_COLOR2_","ig"),s.replace("#","%23")));const i=`url("data:image/svg+xml,${t}")`;return L[n+o+s]=i,i})()},u),className:m,"data-qa-id":c,title:t})};N.propTypes={iconName:s.default.string.isRequired,className:s.default.string,color:s.default.string,color2:s.default.string,hoverColor:s.default.string,style:s.default.any,"data-qa-id":s.default.string,title:s.default.string};var B=a.default.memo(N);t.default=B},3579:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(61125)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(98661)),a=n(29865),s=r(n(94184)),l=r(n(45697)),u=n(2982),c=n(90061),d=n(13551),f=n(80797),p=r(n(75598)),g=r(n(86735));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=(0,c.createLogger)("NewTransition"),y=e=>{let t=e.name,n=e.scriptName,r=e.children,o=e.onClick,a=e.endCallbacks,l=void 0===a?{}:a,c=e.startCallbacks,h=void 0===c?{}:c,m=e.duration,y=void 0===m?"300ms":m,b=e.timingFunction,C=void 0===b?"cubic-bezier(0.39, 0.24, 0.21, 0.99)":b,E=e.delay,D=void 0===E?"0s":E,T=e.iterationCount,w=void 0===T?1:T,S=e.direction,O=void 0===S?"normal":S,A=e.fillMode,I=void 0===A?"both":A,k=e.playState,M=void 0===k?"running":k,x=e.customVars,P=e.style,R=e.animationPostfix,F=e.id;const L=(0,i.useRef)(null),j=(0,u.isFallbackNeeded)()?g.default.fallback:g.default[R],N=`${t}_${n}`,B=(0,d.useWidgetExtensionsContext)().isWidgetTarget,U=(0,f.useWidgetConstructorContext)().isWidgetConstructor;v.warn("render",N,R);const W=e=>e&&L.current&&e.target===L.current&&e.animationName===j[N]&&n;return(0,i.useEffect)((()=>{B&&L.current&&"jcont"===F&&L.current.style.setProperty("position","absolute","important")}),[]),i.default.createElement("jdiv",{ref:L,style:_(_({},(()=>{const e={animationDuration:U?null:y,animationTimingFunction:C,animationDelay:D,animationIterationCount:w,animationDirection:O,animationFillMode:I,animationPlayState:M,animationName:n?j[N]:null};return(e=>{if(x)for(const t in x)({}).hasOwnProperty.call(x,t)&&((0,u.isFallbackNeeded)()?e[t]=x[t]:e[(0,u.jivoCustomCSSProperty)(t)]=x[t])})(e),e})()),P),onAnimationEnd:e=>{W(e)&&l[n]&&l[n]()},onAnimationStart:e=>{W(e)&&h[n]&&h[n]()},onClick:o,id:F,translate:!1,className:(0,s.default)("notranslate",{[p.default.__widgetConstructor]:U&&B})},r)};y.propTypes={scriptName:l.default.string.isRequired,children:l.default.oneOfType([l.default.arrayOf(l.default.node),l.default.node]).isRequired,name:l.default.string.isRequired,onClick:l.default.func,endCallbacks:l.default.any,startCallbacks:l.default.any,duration:l.default.string,timingFunction:l.default.string,delay:l.default.string,iterationCount:l.default.number,direction:l.default.string,fillMode:l.default.string,playState:l.default.string,customVars:l.default.any,style:l.default.any,animationPostfix:l.default.string,id:l.default.string};var b=(0,a.connect)((e=>({scriptName:e.transition.currentScript})),{})(y);t.default=b},86735:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7949)),i=r(n(37871)),a=r(n(86052)),s=r(n(8741)),l=r(n(10193)),u=r(n(5446)),c={bottom:o.default,bottom_0:i.default,left:a.default,right:s.default,custom:l.default,fallback:u.default};t.default=c},28302:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onDeclineButtonClick=t.onAcceptButtonClick=t.getMessageId=t.getActiveMessage=t.getAcceptLink=void 0;var o=n(21476),i=n(97490),a=n(26932),s=n(47138),l=r(n(35802)),u=n(62168),c=n(97615),d=n(50789),f=n(44145),p=n(81152),g=n(90061),h=n(66434);const m=(0,g.createLogger)("WebrtcHelpers");t.onAcceptButtonClick=(e,t,n,r)=>{const c=l.default.getInstance().managers.permission;if(r)m.warn("onAcceptButtonClick",t.private_id),a.messagesDispatchers.updateWebRTCCallStatus(t.private_id,s.WebRTCCallStatus.ACCEPTED);else if(n!==u.PermissionStatus.ALLOWED||c.allMics.length>1)o.Router.next(i.RouterEvent.ToCallSetup);else{a.messagesDispatchers.updateWebRTCCallStatus(t.private_id,s.WebRTCCallStatus.ACCEPTED);const e=l.default.getInstance().managers.webRTCCall;e&&e.connectSdk()}(0,h.telemetry)("webrtc_accept_call")};t.onDeclineButtonClick=(e,t,n)=>{const r=l.default.getInstance().managers.webRTCCall;m.log("onDeclineButtonClick",r),r&&(d.ApiProvider.declineWebRTCCall(r.callId,(e=>{m.warn("CALL DECLINE REQUEST SUCCESS",e)})),r.stopCall());const o=n?s.WebRTCCallStatus.ENDED:s.WebRTCCallStatus.DECLINED;a.messagesDispatchers.updateWebRTCCallStatus(t.private_id,o),a.callbackDispatchers.setActiveWebRTCCallMessageId(null),(0,h.telemetry)("webrtc_deny_call")};t.getMessageId=e=>e.get("private_id");t.getAcceptLink=e=>{if(!e)return null;const t=l.default.getInstance().managers.webRTCCall;if(!t)return null;const n=t.callId,r=t.voxUserLogin,o=t.voxUserPassword,i=t.voxNode,a=l.default.getInstance().config,s=c.EnvironmentManager.isDevelopment()?"//localhost:8080":a.base_url,u=(0,f.getClient)(),d=a.tel_host;let p=`cid=${n}&vl=${r}&vp=${o}&vn=${i}&si=${a.site_id}&wi=${a.widget_id}&ci=${u.clientId}&th=${d}&bu=${a.base_url}&shard=${a.shard_id}&lang=${a.locale}&hash=fdbd3c5`;a.enable_webrtc_start_call&&(p+=`&sc=${a.enable_webrtc_start_call}`),a.err_host&&(p+=`&errorHost=${a.err_host}`),a.telemetry_host&&(p+=`&telemetryHost=${a.telemetry_host}`);return`https:${s}/webrtc/?${window.btoa(p)}`};t.getActiveMessage=e=>{const t=(0,f.getMessages)().filter((t=>t.type===p.MessageType.WEB_RTC_CALL&&t.body&&t.body.webRTCCallStatus===e));return t.length?t[0]:null}},251:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(67375)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(98661)),a=n(29865),s=r(n(45697)),l=r(n(3579)),u=n(50402),c=n(97490),d=n(70859),f=r(n(2167)),p=n(31011),g=n(21476),h=r(n(75686)),m=r(n(91275)),_=n(47138),v=n(97615),y=n(34930),b=n(24344),C=n(69882),E=n(26932),D=n(81722),T=n(44145),w=n(92400),S=n(75998),O=n(80797),A=n(45926),I=n(16217),k=n(42634),M=n(66434),x=n(85074),P=n(33813);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}const F=e=>{let t=e.callbackEnabled,n=e.route,r=e.position,s=e.padding,R=e.orientation,F=e.callbackStatus,L=e.isInDrag;const j=(0,O.useWidgetConstructorContext)().isPreview,N=(0,i.useState)(!1),B=(0,o.default)(N,2),U=B[0],W=B[1],H=(0,i.useState)(!0),z=(0,o.default)(H,2),G=z[0],$=z[1],V=(0,i.useState)(!0),Z=(0,o.default)(V,2),q=Z[0],K=Z[1],Y=h.default.get(d.Component.LABEL),J=-1!==[c.Route.CALL,c.Route.INTRODUCE].indexOf(n),X=n===c.Route.CALL_POPUP,Q=n!==c.Route.CALL||-1===[_.CallStatus.WAIT,_.CallStatus.CONNECTING,_.CallStatus.CONNECTED].indexOf(F),ee=!p.platform.isMobileOrTablet&&!(0,C.isWixIframe)()&&n!==c.Route.CHAT_MIN,te=U&&ee,ne=(0,a.useSelector)(w.selectTransitionCurrentScript),re=(0,a.useSelector)(T.getProactive),oe=re.campaignId,ie=re.name;if(n===c.Route.HIDDEN)return null;if(oe&&ie&&ne===u.ScriptName.OPEN_WIDGET){const e=(0,D.getMaxWidgetHeightForProactive)();e&&S.positionDispatch.setWidgetHeight(e)}const ae=(0,P.getCustomVars)(R,s,r,Y,J),se=e=>{(0,b.callUserFunction)("onResizeCallback",(0,P.getSize)(e,R,r.height?r.height:ae.height,g.Router.getCurrentRoute()))};return i.default.createElement(l.default,{id:"jcont",name:d.Component.WIDGET_CONTAINER,startCallbacks:{[u.ScriptName.OPEN_WIDGET]:()=>{L||(W(!1),$(!0),K(!1),m.default.initSocial(),(0,k.addMessagesOnOpen)(),(0,b.callUserFunction)("onOpen"),se(!0))},[u.ScriptName.CLOSE_WIDGET]:()=>{W(!1),$(!1),K(!1),se(!1)},[u.ScriptName.MINIMIZE_WIDGET]:()=>{W(!1),$(!0),K(!0),g.Router.next(c.RouterEvent.CloseWindow),se(!1)}},endCallbacks:{[u.ScriptName.OPEN_WIDGET]:()=>{L||(W(!0),K(!0),(0,P.fixSafariKeyframes)())},[u.ScriptName.CLOSE_WIDGET]:()=>{X||g.Router.next(c.RouterEvent.CloseWindow)},[u.ScriptName.MAXIMIZE_WIDGET]:()=>{L||(W(!0),$(!0),K(!0),(0,b.callUserFunction)("onOpen"),se(!0))},[u.ScriptName.MIN_WIDGET]:()=>{}},customVars:ae,style:(()=>{const e={display:"block",position:"fixed"};return p.platform.isSafari&&v.EnvironmentManager.isRegPage()&&(e.width="336px",e.height="496px",e.animation="none"),e})(),animationPostfix:(0,P.getAnimationPostfix)(R,s)},i.default.createElement(f.default,{needRenderCloseBtn:Q,needRenderCallContainer:(0,I.isCallbackEnabled)(),needRenderDrag:te,showCloseButton:U,showHeaderText:G,showBody:q,callbackEnabled:t,route:n,onCloseButtonClick:()=>{if(j){(0,A.getPageWindow)()._widgetCampaignConstructorAPI.reset()}else(0,y.closeWidget)(),setTimeout((()=>{(0,P.fixSafariKeyframes)(!0)}),0),(0,x.isChatMinAvailable)()?E.transitionDispatchers.startTransition(u.ScriptName.MINIMIZE_WIDGET):F===_.CallStatus.CONNECTED?g.Router.next(c.RouterEvent.CloseWindow):E.transitionDispatchers.startTransition(u.ScriptName.CLOSE_WIDGET),(0,M.telemetry)("widget_close_click")},isStatic:J}))};F.propTypes={callbackEnabled:s.default.bool,route:s.default.string,position:s.default.any,padding:s.default.number,orientation:s.default.string,callbackStatus:s.default.oneOfType([s.default.string,s.default.bool]),isInDrag:s.default.bool};var L=(0,a.connect)((e=>({padding:e.settings.user.widgetPadding,orientation:e.settings.user.widgetOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,isInDrag:e.app.isInDrag})),{})(i.default.memo(F));t.default=L},33813:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getSize=t.getCustomVars=t.getContainerStyle=t.getChatPosition=t.getAnimationPostfix=t.fixSafariKeyframes=t.callResize=t.addCustomVarsToStyle=void 0;var o=r(n(61125)),i=n(52028),a=n(2982),s=r(n(75686)),l=n(70859),u=n(52274),c=n(97490),d=n(31011),f=n(62096),p=n(44145),g=n(97615),h=n(24344),m=n(91920);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const v=(e,t,n,r,o)=>{let i={};const a=r&&r.offsetWidth,s=r&&r.offsetHeight;return"bottom"===e&&(i=y(t,a,s)),"left"===e&&(i=b(t,a,s)),"right"===e&&(i=C(t,a,s)),i=E(i,n),!n.height>>0&&(i.height="496px"),o&&(i.height="auto"),i};t.getChatPosition=v;const y=e=>{const t={};return 100===e||50===e?(t.right="30px",50===e&&(t.translate50="50%")):t.left="40px",t},b=(e,t)=>{const n={left:"40px",bottom:`calc(50% - ${t/2}px)`};return 100===e&&(n.bottom="20px"),n},C=(e,t)=>({right:"39px",bottom:t?50===e?`calc(50% - ${t/2}px)`:0:"50%"}),E=(e,t)=>{const n=e;return t.right&&(n.right=t.right),t.height&&(n.height=t.height),t.left&&(n.left=t.left),n};t.getAnimationPostfix=(e,t)=>{const n=f.reduxStore.getState().settings.user.labelBubble;return(0,m.hasCustomLabel)()||i.isDesignerEditor||g.EnvironmentManager.isExtensionsEnable()||d.platform.isDesktop&&n?"custom":"bottom"===e&&0===t?`${e}_0`:e};t.getCustomVars=(e,t,n,r,i)=>{const s=(0,a.getSavedLabelPosition)(),l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({labelwidth:r&&r.offsetWidth?`${r.offsetWidth}px`:s.offsetWidth,labelright:r&&r.style&&r.style.right?r.style.right:s.right,labelleft:r&&r.style&&r.style.left?r.style.left:s.left},v(e,t,n,r,i));return l};const D=(e,t,n,r)=>{if(r==c.Route.CHAT_MIN)return{width:u.CHAT_WIDTH+"px",height:u.HEADER_HEIGHT+"px"};if(r==c.Route.CALL)return{width:u.CHAT_WIDTH+"px",height:u.DEFAULT_WIDGET_HEIGHT+"px"};const o=(0,a.getSavedLabelPosition)().offsetWidth,i=e?u.CHAT_WIDTH+"px":o;return"bottom"===t||e?{width:i,height:e?n:u.LABEL_HEIGHT+"px"}:{width:u.LABEL_HEIGHT+"px",height:o}};t.getSize=D;t.fixSafariKeyframes=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(d.platform.isSafari&&!d.platform.isMobileOrTablet){const t=s.default.get(l.Component.WIDGET_CONTAINER);(0,a.updateKeyframes)(t,e)}};t.getContainerStyle=()=>{const e={display:"block",position:"fixed"};return d.platform.isSafari&&g.EnvironmentManager.isRegPage()&&(e.width="336px",e.height="496px",e.animation="none"),e};t.callResize=e=>{const t=(0,p.getPosition)(),n=(0,p.getUserSettings)().widgetOrientation,r=(0,p.getApp)().route;(0,h.callUserFunction)("onResizeCallback",D(e,n,t.height,r))};t.addCustomVarsToStyle=(e,t)=>{if(t)for(const n in t)({}).hasOwnProperty.call(t,n)&&((0,a.isFallbackNeeded)()?e[n]=t[n]:e[(0,a.jivoCustomCSSProperty)(n)]=t[n]);return e}},2167:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(67375)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(98661)),a=r(n(45697)),s=r(n(21135)),l=r(n(47548)),u=n(97490),c=n(91763),d=n(80797),f=n(13551),p=n(21579),g=n(61744),h=n(90883),m=n(25466);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const v=(0,c.lazyLoaderFactory)((()=>n.e(535).then(n.bind(n,79601))),h.LoaderWrap,g.ErrorPage),y=[u.Route.CHAT,u.Route.CHAT_CALL,u.Route.CHAT_SOCIAL,u.Route.CHAT_MIN,u.Route.CHAT_SETUP_CALL,u.Route.DEPARTMENTS,u.Route.INTRODUCE,u.Route.DEBUG],b=[u.Route.CALL],C=e=>{let t=e.needRenderCloseBtn,n=e.needRenderCallContainer,r=e.needRenderDrag,a=e.showCloseButton,c=e.showHeaderText,g=e.showBody,h=e.callbackEnabled,_=e.route,C=e.onCloseButtonClick,E=e.isStatic;const D=(0,d.useWidgetConstructorContext)(),T=D.isWidgetConstructor,w=D.isPreview,S=(0,f.useWidgetExtensionsContext)().isWidgetTarget,O=(0,i.useState)(0),A=(0,o.default)(O,2),I=A[0],k=A[1],M=(0,i.useMemo)((()=>({loadedSize:I,setLoadedSize:k})),[I,k]);return i.default.createElement(i.default.Fragment,null,(()=>{const e=!(T&&S||!t)&&(w||a);return i.default.createElement(l.default,{drag:r,callEnabled:h,inCall:_===u.Route.CALL,show:e,onClick:C,ignoreDragHeight:E})})(),i.default.createElement(s.default,{allowedRoutes:y,currentRoute:_,name:"ChatContainer"},i.default.createElement(m.CurrentUploadProgress.Provider,{value:M},i.default.createElement(v,{showHeaderText:c,showBody:g}))),n?i.default.createElement(s.default,{allowedRoutes:b,currentRoute:_,name:"CallContainer"},i.default.createElement(p.CallbackLazy,{type:"call"})):null)};C.propTypes={needRenderCloseBtn:a.default.bool.isRequired,needRenderCallContainer:a.default.bool.isRequired,needRenderDrag:a.default.bool.isRequired,showCloseButton:a.default.bool.isRequired,showHeaderText:a.default.bool.isRequired,showBody:a.default.bool.isRequired,route:a.default.string.isRequired,onCloseButtonClick:a.default.func.isRequired,callbackEnabled:a.default.bool,isStatic:a.default.bool};var E=i.default.memo(C);t.default=E},19270:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.DataProvider=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(90061),s=n(50789),l=n(56348),u=r(n(4867)),c=n(87252);const d=(0,a.createLogger)("ApiInvitations.DataProvider");let f=function(){function e(t,n){(0,o.default)(this,e),this.userToken=t,this.manager=n,this.timer=new c.Timer(this.update.bind(this)),this.store=new l.InvitationsStore({type:"default",name:"api_invites",itemClass:u.default,keys:{id:null,text:null,ruleName:null,read:null,isPopup:null,isMarkdown:null,prechat:null}}),this.update()}return(0,i.default)(e,[{key:"update",value:function(){d.log("Update invitations"),this.getInvitationsFromApi();const e=Math.floor(120*Math.random()+90);this.timer.start(60*e*1e3)}},{key:"getInvitationsFromApi",value:function(){d.log("Getting invitations from Api"),s.ApiProvider.getCustomerIoInvites(this.userToken,((e,t)=>{e?d.error("Bad request",e.status,e.statusText):t.data?t.data&&t.data.ok&&(this.store.save(t.data.invitations),d.log("Invitations are up to date"),this.manager.addInvitationsToChat()):d.warn("No response data")}))}},{key:"hasInvitations",value:function(){return this.store.length()||!1}},{key:"getInvitations",value:function(){return this.store.getAll()}},{key:"markInvitationsRead",value:function(){this.store.markInvitationsRead()}}]),e}();t.DataProvider=f},56348:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.InvitationsStore=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(84827)),s=r(n(85299)),l=r(n(55536)),u=r(n(34973)),c=n(44145),d=n(90061),f=n(66434);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}const g=(0,d.createLogger)("ApiInvitations.InvitationsStore");let h=function(e){(0,a.default)(n,e);var t=p(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,i.default)(n,[{key:"save",value:function(e){g.log("Storing invitations",e),this.store.length?this.merge(e):e.forEach((e=>{this.add(e)}))}},{key:"merge",value:function(e){g.log("Merging invitations",e),this.deleteUnreads(),e.forEach((e=>{this.findById(e.invitation_id)||this.add(e)}))}},{key:"deleteUnreads",value:function(){g.log("Deleting unread invitations");this.store.filter((e=>!e.get("read"))).forEach((e=>{e.destroy()}))}},{key:"add",value:function(e){g.log("Adding invitation",e);const t=e.text,n=e.rule_name,r=e.invitation_id,o=e.is_popup,i=e.prechat,a=(0,c.getClient)();this.push({text:t,ruleName:n,id:r,read:!1,isPopup:o||null,prechat:i||null}),(0,f.telemetry)("receive_api_invitation",{param1:n,param2:r,param3:a.email})}},{key:"findById",value:function(e){return this.store.find((t=>t.get("id")===e))}},{key:"length",value:function(){return this.store.length}},{key:"markInvitationsRead",value:function(){this.store.filter((e=>!e.get("read"))).forEach((e=>{e.set("read",!0)}))}}]),n}(u.default);t.InvitationsStore=h},78692:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ApiInvitationsManager=void 0;var o=r(n(61125)),i=r(n(33119)),a=r(n(92664)),s=n(96394),l=n(40694),u=r(n(71277)),c=r(n(14264)),d=r(n(2833)),f=r(n(26754)),p=n(81152),g=n(26932),h=n(65465),m=n(88263),_=n(97490),v=n(50402),y=n(44145),b=n(44145),C=n(24344),E=n(90061),D=n(8717),T=n(19270),w=n(66434);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const A=(0,E.createLogger)("ApiInvitationsManager");const I=new(function(){function e(){(0,i.default)(this,e),this.userToken=null,this.initialized=!1,this.dataProvider=null,this.needToSendTelemetry={answer_api_invitation:!0,read_api_invitation:!0,click_link_api_invitation:!0},this.invitationsCount=0,this.needToOpenChat=!0,this.needToShowPopup=!1,this.needToShowPrechat=!1}return(0,a.default)(e,[{key:"initialize",value:function(e){this.initialized||(this.dataProvider=new T.DataProvider(e,this),this.userToken=e,this.initialized=!0,m.routerService.on("route_change",(e=>{(0,D.isChatInputRoute)(e)&&this.markInvitationsRead()})))}},{key:"isInitialized",value:function(){return this.initialized}},{key:"hasInvitations",value:function(){return this.initialized&&this.dataProvider&&this.dataProvider.hasInvitations()}},{key:"saveUnreadInvitations",value:function(){if(!this.initialized)return;c.default.getUnreadApiInvitations().forEach((e=>{delete e.get("body").unsave;const t=Object.assign({},e.toJSON());t.status=p.MessageStatus.READ,g.messagesDispatchers.addMessage(t),e.destroy()})),this.dataProvider.markInvitationsRead()}},{key:"sendUrlClickTelemetry",value:function(){this.initialized&&this._sendInvitationsTelemetry("click_link_api_invitation")}},{key:"markInvitationsAnswered",value:function(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry("answer_api_invitation"))}},{key:"markInvitationsRead",value:function(){if(!this.initialized)return;this.dataProvider.markInvitationsRead();c.default.getUnreadApiInvitations().forEach((e=>e.set("status",p.MessageStatus.READ))),this._sendInvitationsTelemetry("read_api_invitation")}},{key:"_sendInvitationsTelemetry",value:function(e){if(!this.initialized)return;const t=this.getCurrentInvitations(),n=(0,b.getClient)();t&&this.needToSendTelemetry[e]&&(t.forEach((t=>{(0,w.telemetry)(e,{param1:t.get("ruleName"),param2:t.get("id"),param3:n.email})})),this.needToSendTelemetry[e]=!1)}},{key:"addInvitationsToChat",value:function(){if(!this.initialized)return;A.log("addRulesToChat",this.store);const e=this.dataProvider.getInvitations(),t=(0,b.getClient)();let n,r;d.default.getActiveAgent((o=>{const i=c.default.getUnreadApiInvitations(),a=i.length;if(i.forEach((e=>{e.destroy()})),this.invitationsCount=0,e.forEach((e=>{if(!e.get("read")&&!(0,y.getApp)().chatStarted){A.log("Active agent:",o),o&&(Object.assign(f.default,o),g.agentsDispatchers.addAgent((0,l.agentToReduxFormat)(o)),o.bot_id||t.priorityAgentId&&t.priorityAgentId===o.agent_id||g.clientDispatchers.setPaId(o.agent_id),g.chatsDispatchers.setJoinedAgents([o]));const i=e.get("text");n=e.get("ruleName"),r=e.get("id");const a=O(O({},o||null),{},{customerIO:!0,is_markdown:!0,unsave:!0,invitationId:r}),s={type:p.MessageType.MESSAGE,from:p.MessageInitiator.AGENT,from_id:o&&o.agent_id,text:i,body:a};g.messagesDispatchers.addMessage(s),this.invitationsCount++,this.needToShowPopup=e.get("isPopup")||!1,this.needToShowPrechat=e.get("prechat")||!1}})),this.invitationsCount!==a){if(u.default.play("notification"),this.needToOpenChat&&this.needToShowPopup?(m.routerService.next(_.RouterEvent.ToLabelInvitation),(0,w.telemetry)("api_invitation_open_chat",{param1:n,param2:r,param3:t.email}),this.needToOpenChat=!1):(m.routerService.next(_.RouterEvent.ToChat),g.transitionDispatchers.startTransition(v.ScriptName.OPEN_WIDGET),(0,C.callUserFunction)("onMessageReceived")),this.needToShowPrechat&&this.needToShowPrechat.length){const e=this._formatInvitationPrechats(this.needToShowPrechat);h.messageActions.deletePrechatMsg(),(0,s.setConfigParam)("prechat",e),(0,s.setConfigParam)("enable_prechat",1),g.featuresDispatchers.enablePrechat(!0),g.userDispatchers.setPrechat(e),h.messageActions.pushPrechat(e)}I.markInvitationsRead()}}))}},{key:"_formatInvitationPrechats",value:function(e){return e.map(((e,t)=>({id:t,text:e})))}},{key:"getCurrentInvitations",value:function(){return this.initialized?this.dataProvider.getInvitations():null}}]),e}());t.ApiInvitationsManager=I},87252:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var o=r(n(33119)),i=r(n(92664));let a=function(){function e(t){(0,o.default)(this,e),this.timerId=null,this.cb=t||null}return(0,i.default)(e,[{key:"setCallback",value:function(e){this.cb=e}},{key:"start",value:function(e){clearTimeout(this.timerId),this.timerId=setTimeout(this.cb,e)}},{key:"stop",value:function(){clearTimeout(this.timerId)}}]),e}();t.Timer=a},35802:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(98661)),s=n(68367),l=n(90061),u=n(62096),c=r(n(96394)),d=n(26932),f=n(21951),p=n(69882),g=n(97490),h=n(45926),m=n(23336),_=r(n(91275)),v=r(n(45430)),y=n(99012),b=n(22618),C=n(74603),E=n(97615),D=r(n(75686)),T=n(70859),w=n(24344),S=r(n(34137)),O=n(53182),A=n(15688),I=n(58164),k=n(68848);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const x=a.default.lazy((()=>n.e(829).then(n.bind(n,3729)).then((e=>({default:e.Cobrowse}))))),P=(0,l.createLogger)("Jivo Widget");let R=null;var F=function(){function e(){if((0,o.default)(this,e),R)return R;R=this,this.config=c.default,this.managers={sound:null,connection:null,environment:null,eula:null,history:null,loaderContext:null,pageVisibility:null,position:null,ref:null,rule:null,title:null,transition:null,windowResize:null},this.stores={app:null,client:null,agent:null,agents:null,history:null,local:null,proactive:null,session:null,messages:null,temp:null},this.integrations={},this.utils={},this.rootContainer=null,this.devTools=null,this.reduxStore=u.reduxStore,this.initialize(),this.sendInitialTelemetry()}return(0,i.default)(e,[{key:"initialize",value:function(){(0,m.initPolyfills)(),this.initStories(),this.initManagers(),this.initIntegrations(),this.initPublicApi(),(0,m.subscribeToPageVisibilityChanges)(this)}},{key:"initStories",value:function(){P.log("Initializing stories"),(0,m.generateVisitorId)(),(0,m.initSession)(),_.default.initReduxStores(),(0,m.initDeprecatedStores)(this)}},{key:"initManagers",value:function(){P.log("Initializing managers"),this.managers.ref=D.default,(0,m.initLoaderContextManager)(this),(0,m.initDebugDataCollector)(),(0,m.initAbTestManager)(this),(0,m.initMonitoring)(),(0,m.initiWindowResizeManager)(this),(0,m.initConnection)(this),v.default.run(),(0,m.initDevTools)()}},{key:"initIntegrations",value:function(){P.log("Initializing integrations"),(0,m.initRecaptcha)(this),(0,y.initCallTouch)(),(0,b.initVideoForce)(),(0,m.initAnalytics)(),_.default.requestCWAvailable(),(0,p.deleteNonce)()}},{key:"initPublicApi",value:function(){P.log("Initializing public api"),(0,m.exposeJivoVersion)(),(0,m.exposeApi)(),(0,C.designerApiInit)(),(0,O.initPopupAPI)(),(0,A.initExtensionsAPI)(),(0,I.initCampaignWidgetConstructorAPI)(),(0,k.initContactFormPreviewAPI)()}},{key:"sendInitialTelemetry",value:function(){(0,m.sendLoadTimeTelemetry)(),(0,m.sendLoadedInIframeTelemetry)()}},{key:"start",value:function(){if(P.warn("start"),(0,p.isAppCobrowse)()){(0,s.createRoot)((0,h.getPageWindow)().document.createElement("jdiv")).render(a.default.createElement(a.Suspense,{fallback:null},a.default.createElement(x,null)))}else(0,m.resetAgents)(),this.renderApp()}},{key:"renderApp",value:function(){this.render(),d.appDispatchers.setAppStarted(!0),(0,m.initRuleManager)(this),(0,m.sendBundleLoadedTelemetry)(),(0,m.handleChatPageStart)()}},{key:"stop",value:function(){P.warn("stop"),(0,m.stop)()}},{key:"render",value:function(){if(P.log("Rendering"),(0,w.callUserFunction)("onInitCallback"),E.EnvironmentManager.isDevelopment()){n(14369),n(67665);const e=n(6400),t=e.options,r=e.Fragment,o=e.Component;window.parent.__PREACT_DEVTOOLS__&&window.parent.__PREACT_DEVTOOLS__.attachPreact("10.11.2",t,{Fragment:r,PreactComponent:o}),window.parent.JSONFormatter=n(66280)}const e=(0,h.getPageWindow)(),t=e.document.body;this.rootContainer=e.document.createElement("jdiv"),(0,f.addListener)(e,"jBeforeunload",this.unmount.bind(this)),t.appendChild(this.rootContainer);const r=this.stores.app,o=r.is_online,i=r.chat_started,l=!(!o&&this.config.hide_offline&&i);if(P.log("RENDER",l),l&&!this.isBot){(0,s.createRoot)(this.rootContainer).render(a.default.createElement(S.default,{ref:e=>{D.default.set(T.Component.ROOT_COMPONENT,e)}})),(0,m.initSoundManager)(this)}this.stores.app.route===g.Route.HIDDEN&&P.warn("Widget is hidden."),(0,w.callUserFunction)("onLoadCallback")}},{key:"unmount",value:function(){P.log("Unmounting");const e=(0,h.getPageWindow)(),t=e.document.body;if(this.rootContainer){(0,s.createRoot)(this.rootContainer).unmount(),this.rootContainer=null}const n=e.document.querySelectorAll("body > jdiv");n.length>0&&n.forEach((e=>t.removeChild(e))),(0,f.removeEvent)(e,"jBeforeunload",this.unmount.bind(this)),(0,w.callUserFunction)("onWidgetDestroy")}}],[{key:"getInstance",value:function(){return R}}]),e}();t.default=F},23336:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToPageVisibilityChanges=t.stop=t.setOfflineIntroduced=t.sendLoadedInIframeTelemetry=t.sendLoadTimeTelemetry=t.sendBundleLoadedTelemetry=t.resetAgents=t.reportCampaignContactsStat=t.needIntroduceInOffline=t.initializePermissionManager=t.initiWindowResizeManager=t.initSoundManager=t.initSession=t.initRuleManager=t.initRecaptcha=t.initPolyfills=t.initMonitoring=t.initLoaderContextManager=t.initDevTools=t.initDeprecatedStores=t.initDebugDataCollector=t.initConnection=t.initAnalytics=t.initAbTestManager=t.handleChatPageStart=t.generateVisitorId=t.exposeJivoVersion=t.exposeApi=void 0;var o=r(n(96394)),i=r(n(26754)),a=n(44145),s=r(n(55908)),l=r(n(22866)),u=r(n(66547)),c=r(n(73687)),d=r(n(91275)),f=r(n(95003)),p=r(n(14762)),g=r(n(138)),h=r(n(14264)),m=n(28723),_=n(21476),v=n(97490),y=r(n(71277)),b=r(n(5735)),C=r(n(50216)),E=r(n(74890)),D=r(n(16500)),T=n(86383),w=r(n(8117)),S=r(n(51094)),O=n(24344),A=n(42908),I=n(62096),k=n(26932),M=n(69882),x=n(16016),P=n(54415),R=r(n(45493)),F=n(97615),L=n(90061),j=n(25528),N=n(49963),B=r(n(73439)),U=r(n(40426)),W=r(n(34783)),H=n(43902),z=n(45926),G=n(42634),$=n(31011),V=r(n(61811)),Z=n(66434),q=n(68403),K=n(44145),Y=n(74619);const J=(0,L.createLogger)("App Utils");t.resetAgents=()=>{J.log("resetting agents"),(0,a.getApp)().chatStarted||k.chatsDispatchers.setNoJoinedAgents()};t.exposeJivoVersion=()=>{J.log("exposeJivoVersion"),(0,z.getPageWindow)().jivo_version=F.EnvironmentManager.getVersion()};t.exposeApi=()=>{J.log("exposeApi"),(0,z.getPageWindow)().jivo_api=A.api};t.subscribeToPageVisibilityChanges=e=>{J.log("subscribeToPageVisibilityChanges"),D.default.subscribe((t=>{t&&(T.TitleManager.cancelBlink(),Q(e)),(0,M.isAppCobrowse)()||(d.default.reloadStories(),d.default.initReduxStores())}))};t.generateVisitorId=()=>{const e=(0,a.getClient)();e.visitorId?J.log("Visitor id already exists:",e.visitorId):(e.visitorId=(0,x.generateGUIDCount)(4),J.log("New visitor id:",e.visitorId))};const X=()=>{const e=(0,a.getApp)(),t=(0,a.getClient)();return!e.isOnline&&!(t.email||t.phone||t.name||t.displayName)};t.needIntroduceInOffline=X;t.setOfflineIntroduced=()=>{X()&&k.clientDispatchers.setIsIntroduced(!1)};t.sendBundleLoadedTelemetry=()=>{J.log("sendBundleLoadedTelemetry"),setTimeout((()=>{var e;(0,Z.telemetry)("bundle_loaded",{param1:F.EnvironmentManager.getVersion(),param2:window.loaderContext.store.isNewCode?"newCode":"oldCode",param3:window.navigator.language,param4:(e=window.loaderContext.scriptSrc,(null==e?void 0:e.replace(/\/([A-Za-z0-9]{10})$/,""))||"")},{probability:"high"})}),1e3)};t.sendLoadedInIframeTelemetry=()=>{J.log("sendLoadedInIframeTelemetry"),window.parent.window!=window.top&&(0,a.getApp)().route!==v.Route.HIDDEN&&(0,Z.telemetry)("in_iframe_started",void 0,{probability:"medium"})};t.sendLoadTimeTelemetry=()=>{J.log("sendLoadTimeTelemetry");const e=R.default.getInstance();if(e&&$.platform.supports.localStorage){const t=e.store.loadTime;t&&((0,Z.telemetry)("cdn_load_time",{param1:parseInt(t)}),e.setInStore("loadTime",null))}};t.initDebugDataCollector=()=>{J.log("initDebugDataCollector");const e=(0,a.getApp)(),t=(0,a.getClient)();new l.default(e,o.default,t,i.default,I.reduxStore,h.default)};t.initSoundManager=e=>{J.log("initSoundManager"),e.managers.sound=y.default,(0,j.isSoundPlayerDisabled)()||y.default.initSoundPlayer()};t.initRuleManager=e=>{var t;e.managers.rule=b.default,(0,q.isPaidCustomer)()||null!==(t=o.default.campaigns)&&void 0!==t&&t.length?(b.default.init(),J.log("initRuleManager success")):J.log("initRuleManager failure")};t.initAnalytics=()=>{(0,q.isPaidCustomer)()?(J.log("initAnalytics success"),g.default.init()):J.log("initAnalytics failure")};t.initLoaderContextManager=e=>{J.log("initLoaderContextManager"),e.managers.loaderContext=new R.default(o.default.widget_id,f.default)};t.initRecaptcha=()=>{if((0,K.getFeatures)().recaptcha){J.log("initRecaptcha");new C.default(o.default.recaptcha).addRecaptchaToPage()}};t.initiWindowResizeManager=e=>{J.log("initiWindowResizeManager");e.managers.windowResize=new V.default((e=>{(0,O.callUserFunction)("onResizeCallback",e)})),e.managers.windowResize.checkHeight()};t.initMonitoring=()=>{J.log("initMonitoring"),P.Monitoring.init()};t.initPolyfills=()=>{J.log("initPolyfills"),E.default.init()};t.initSession=()=>{J.log("initSession");const e=u.default.get("enter_ts"),t=(0,a.getClient)();if(!e){u.default.set("enter_ts",(new Date).getTime());const e=c.default.get("visits_count");c.default.set("visits_count",e?e+1:1,31556952);try{w.default.setUTM({href:(0,z.getPageWindow)().location.href,refer:(0,z.getPageWindow)().document.referrer,setterFn:k.clientDispatchers.setUTM})}catch(e){e.message+=" setUTM",P.Monitoring.reportException(e),(0,Z.telemetry)("set_utm_error",{param1:JSON.stringify({href:(0,z.getPageWindow)().location.href,refer:(0,z.getPageWindow)().document.referrer}),param2:e.message})}}if(o.default.campaigns&&o.default.campaigns.length){if(f.default.route===v.Route.HIDDEN)return;const e=o.default.campaigns.reduce(((e,t)=>{const n=H.StatsManager.get(t.campaign_id);return n||(H.StatsManager.create(t),e.push(t.campaign_id)),n&&!n.isSubmitted&&e.push(t.campaign_id),e}),[]);e.length&&H.StatsManager.send({campaignIds:e},"visit")}const n=()=>{J.log("pushHistory"),m.HistoryStore.push({url:(0,M.getCurrentPage)().url,title:(0,M.getCurrentPage)().title})};t.sessionId||(n(),(0,K.getFeatures)().enableSpaNavigate&&new Y.Observer({onUrlChange:n}))};t.initDevTools=()=>{F.EnvironmentManager.isProduction()||F.EnvironmentManager.isPartnerApp()||(async()=>{(new(0,(await n.e(308).then(n.bind(n,10517))).default)).installOnPage(),(0,O.callUserFunction)("onDevToolsInit")})()};t.stop=()=>{k.appDispatchers.setAppRoute(v.Route.HIDDEN),y.default.disableSoundPlayer()};const Q=()=>{const e=(0,a.getClient)(),t=(0,K.getFeatures)().recaptcha;if(J.warn("initConnection"),N.connectionAdapter.getInstance()||N.connectionAdapter.setConnectionInstance(new B.default(U.default,W.default)),t&&!e.captchaToken)return void J.warn("Wait for captcha to connect");const n=!!h.default.getClientSendedMessages().length,r=(0,a.getApp)(),o=!r.maintenance&&(r.isOnline&&n||e.sessionId||!r.isOnline&&r.chatStarted);J.warn("needToConnect",o),o&&!N.connectionAdapter.isConnected()&&N.connectionAdapter.openConnect()};t.initConnection=Q;t.initDeprecatedStores=e=>{e.stores.app=f.default,e.stores.agent=i.default,e.stores.agents=p.default,e.stores.history=m.HistoryStore,e.stores.messages=h.default,e.stores.session=u.default,e.stores.temp=c.default};t.initAbTestManager=()=>{new s.default};t.handleChatPageStart=()=>{$.platform.isChatPage&&(k.appDispatchers.setAppIsFocused(!0),_.Router.next(v.RouterEvent.Navigate),setTimeout((()=>{(0,G.addMessagesOnOpen)()}),50))};t.initializePermissionManager=e=>{o.default.enable_webrtc_calls&&(e.managers.permission=new S.default)};t.reportCampaignContactsStat=()=>{const e=(0,a.getProactive)().campaignId,t=(0,a.getClient)(),n=t.isIntroduced,r=t.eulaAccepted;if(e&&!n){if(o.default.eula&&!r)return;H.StatsManager.send({campaignId:e},"contacts_fill")}}},48553:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664));var a=function(){function e(t,n){(0,o.default)(this,e),this.doc=t,this.cssURL=n,this.loaded=!1,this.failed=!1,this.loadCss()}return(0,i.default)(e,[{key:"loadCss",value:function(){const e=this.doc.head||this.doc.getElementsByTagName("head")[0];if(e&&e.querySelector(`link[href="${this.cssURL}"]`))return this.loaded=!0,void(this.onLoadCallback&&this.onLoadCallback());const t=this.doc.createElement("link");t.rel="stylesheet",t.href=this.cssURL,t.className="jv-css",window.parent.jivo_cspNonce&&t.setAttribute("nonce",window.jivo_cspNonce),t.addEventListener("load",(e=>{this.loaded=!0,this.onLoadCallback&&this.onLoadCallback()})),t.addEventListener("error",(e=>{this.failed=!0,this.onFailedCallback&&this.onFailedCallback()})),e.appendChild(t)}},{key:"setOnLoadedCallback",value:function(e){this.loaded?e&&e():this.onLoadCallback=e}},{key:"setOnFailedCallback",value:function(e){this.failed?e&&e():this.onFailedCallback=e}},{key:"subscribe",value:function(e,t){this.setOnLoadedCallback(e),this.setOnFailedCallback(t)}}]),e}();t.default=a},31984:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.callWidgetPing=function(e,t){if(E.warn("callWidgetPing",t),(0,l.isEmpty)(i.default.callback_settings)||(0,h.isAppCobrowse)()||s.isDesignerEditor)return void E.log("callback disabled");const n=u.default.get("callback_ping_response");if(n)e(n);else{const n=(0,c.getClient)(),r=t&&n.clientId?n.clientId.split(".")[0]:"0";g.xhrRequest.get(D("/sites/"+i.default.site_id+"/widgets/"+i.default.widget_id+"/clients/"+r+"/telephony/callback"),((t,n)=>{if(t)return E.error("in request"),e({});let r=n.data;r||(r={ok:!1});const o=r.work_time;let i;o?("cw_connected"!==(0,c.getCallback)().status&&(0,v.initDelayedCall)(o),r.ok=!0):r.ok&&(0,v.resetDelayedCall)(),i=r.ok||r.error_list&&"time_not_in_range"===r.error_list[0]?60:20,u.default.set("callback_ping_response",r,i),e(r)}))}},t.checkPhoneLength=function(e,t,n){const r=e.length,o=t.length;if(["EG"].indexOf(n)>=0)return r>=o-5&&r<=o+1;if(["BG"].indexOf(n)>=0)return r>=o-4&&r<=o+3;if(["NZ","RS"].indexOf(n)>=0)return r>=o-2&&r<=o+1;return["BR","MX","DE","AT","KH","CH","IL","NZ"].indexOf(n)>=0?r>=o-1&&r<=o+1:r===o},t.checkStartCall=async function(e,t){E.warn("checkStartCall",e);const n=e.phone,r=e.invitationText,a=e.clientToken,s=e.requestGRecaptchaToken?await _.default.getInstance().getGRecaptchaToken({action:"callback"}):null;if(!a)return E.warn("checkStartcall",`client_id is ${a}`),f.callbackDispatchers.setCallbackAvailable(!0),f.callbackDispatchers.setCallbackStatus(p.CallStatus.ERROR),f.callbackDispatchers.setCallbackError((0,m.getCallDefaultError)()),void(0,b.telemetry)("cw_call_error",{param1:"startup_error_client_id"});const l=a.split(".")[0],u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({phone:n,invitation_text:null!=r?r:""},s&&{callback_token:s});g.xhrRequest.post(D("/sites/"+i.default.site_id+"/widgets/"+i.default.widget_id+"/clients/"+l+"/telephony/callback"),t,{headers:{"Content-Type":d.CONTENT_TYPE.X_WWW_FORM},body:u})},t.detectPriorityCountry=T,t.getMaskedPhone=function(e){if(!e)return e;const t=S(e);if(!t)return e;return"+"+t.phoneCode+" "+O(t.innerNumber,t.phoneFormat)},t.getMaskedValue=O,t.getPhoneInfo=w,t.getPhoneNumberInfo=S,t.telephonyUrl=D;var o=r(n(61125)),i=r(n(96394)),a=n(90061),s=n(52028),l=n(20827),u=r(n(73687)),c=n(44145),d=n(6693),f=n(26932),p=n(47138),g=n(95911),h=n(69882),m=n(41168),_=r(n(50216)),v=n(3296),y=n(20749),b=n(66434);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const E=(0,a.createLogger)("CallUtils",{style:"color: grey"});function D(e){if(i.default.tel_host)return"https://"+i.default.tel_host+"/api/1"+e}function T(e){if(E.log("detectPriorityCountry",e),!e)return null;const t={UA:{codes:["38"]},KZ:{codes:["77"]},RU:{codes:["79"]},CA:{codes:["1204","1226","1236","1249","1250","1289","1306","1343","1365","1403","1416","1418","1431","1437","1438","1450","1506","1514","1519","1548","1579","1581","1587","1600","1604","1613","1639","1647","1705","1709","1778","1780","1782","1807","1819","1825","1867","1873","1902","1905"]},DO:{codes:["1809"]},PR:{codes:["1787","1939"]}};for(const n in t)if({}.hasOwnProperty.call(t,n)){const r=t[n],o=e.substr(0,r.codes[0].length);if(r.codes.indexOf(o)>=0)return E.log("codeFound",n),{code:n}}return null}function w(e,t){const n="+"===t[0]?e.phone_code.length+1:e.phone_code.length,r=t.slice(n);return{countryCode:e.code,countryName:e.name,phoneCode:e.phone_code,phoneFormat:e.phone_format,innerNumber:r,number:t}}function S(e){E.log("getPhoneNumberInfo",e);let t=e.replace(/\D+/g,"");const n=i.default.callback_settings.countries;let r,o="",a="";if(i.default.geoip&&(a=i.default.geoip.split(";")[0]),t.length<9||t.length>15)return null;for(let e=0;e<t.length;e++)if(!r)if(o=t.slice(0,e+1),r=n.filter((e=>e.phone_code===o.toString())),r.length>0){const e=T(t);if(e)r=r.filter((t=>t.code===e.code));else{const e=r.filter((e=>e.code===a));e.length&&(r=e)}}else r=null;return r||(r=n.filter((e=>e.code===a)),r&&"RU"==a&&(13==t.length&&(t=t.replace("8","+7")),10==t.length&&(t="+7"+t))),r&&r.length?(r=r[0],w(r,t)):null}function O(e,t){return y.Masker.toPattern(e,t)}},53182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initPopupAPI=void 0;var r=n(75998),o=n(45948);const i=window.parent||window;let a=!1;const s={updateConfig(e){r.campaignPopupDispatch.updateCampaignPopup(e)},setActiveScreen(e){r.campaignPopupDispatch.updateCampaignPopup({activeScreen:e})},setRenderTarget(e){r.campaignPopupDispatch.updateCampaignPopup({target:e,previewTargetDesktop:"",previewTargetMobile:"",isGalleryView:!1})},setRenderPreviewTarget(e,t){r.campaignPopupDispatch.updateCampaignPopup({previewTargetDesktop:e,previewTargetMobile:t,target:"",isGalleryView:!1})},setMobileView(e){r.campaignPopupDispatch.updateCampaignPopup({isMobileView:e})},showPopupGalleryPreview(e){if(a)return;a=!0,r.campaignPopupDispatch.setDisplay(!1);const t=setTimeout((()=>{Object.assign(e,{target:"",previewTargetDesktop:"",previewTargetMobile:"",isGalleryView:!0}),r.campaignPopupDispatch.updateCampaignPopup(e),r.campaignPopupDispatch.setDisplay(!0),clearTimeout(t)}),300),n=setTimeout((()=>{a=!1,clearTimeout(n)}),550)}};t.initPopupAPI=()=>{o.isPopupConstructor&&(i._popupAPI=s)}},45948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPopupConstructor=void 0;const r=n(97615).EnvironmentManager.isPopupConstructor();t.isPopupConstructor=r},48999:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.sendCampaignData=t.getCampaignById=void 0;var o=r(n(96394)),i=r(n(86961)),a=n(66434);t.getCampaignById=e=>{var t;return null===(t=o.default.campaigns)||void 0===t?void 0:t.filter((t=>t.campaign_id===e))[0]};t.sendCampaignData=(e,t)=>{i.default.postCampaignData(e,((n,r)=>{var o,i;r&&(null==t||t(null===(o=r.data)||void 0===o||null===(i=o.result)||void 0===i?void 0:i.client_answer_id),(0,a.telemetry)("send_campaign_data_success",{param1:JSON.stringify(null==r?void 0:r.data)}));n&&(null==t||t(null),(0,a.telemetry)("send_campaign_data_error",{param1:JSON.stringify(e),param2:n.status}))}))}},81722:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getMaxWidgetHeightForProactive=function(){if(!p.platform.isDesktop||p.platform.isChatPage||m||a.default.getClientMessages().length)return;h.default.get(c.Component.PROACTIVE_MESSAGE)&&(m=!0);const e=(0,g.getProactive)(),t=h.default.get(c.Component.MESSAGES_CONTAINER),n=null==t?void 0:t.clientHeight,r=e.text.includes("[]("),o=!!e.prechats&&e.prechats>=3,i=r&&o?d.DEFAULT_WIDGET_HEIGHT+300:d.DEFAULT_WIDGET_HEIGHT;if(n){const e=(0,f.getPageWindow)().innerHeight-s.HEADER_HEIGHT,t=n+s.HEADER_HEIGHT+s.INPUT_HEIGHT,r=t>e?e:t;return t<i?`${i}px`:`${r}px`}return`${i}px`},t.isOfflineCanSend=function(){if((0,u.isAssistantBot)())return!1;const e=(0,l.getClient)();return!(0,g.getApp)().isOnline&&!e.isIntroduced&&!o.default.enable_bot_offline&&a.default.getClientMessages().length&&(a.default.getOfflineTmpMessage()||a.default.getFormMessage().length)},t.isValidEmail=function(){const e=(0,l.getClient)();return e.email&&i.default.email(e.email)};var o=r(n(96394)),i=r(n(98960)),a=r(n(14264)),s=n(52274),l=n(44145),u=n(54346),c=n(70859),d=n(52274),f=n(45926),p=n(31011),g=n(44145),h=r(n(75686));let m=!1},22866:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(96394)),s=n(97615),l=n(90061),u=n(87144),c=n(7547);let d=null,f=function(){function e(t,n,r,i,a,s){(0,o.default)(this,e),this.webSocketEventsStore=null,this.viSocketEventsStore=null,this.exceptionsStore=null,this.initialized=!1,this.messagesFormatter=new c.MessagesFormatter(s),this.messageHistory={},this.appStore=t,this.widgetConfig=n,this.clientStore=r,this.agentStore=i,this.reduxStore=a,this.webSocketEventsStore=new u.EventStore,this.viSocketEventsStore=new u.EventStore,this.exceptionsStore=new u.EventStore,this.actionsStore=new u.EventStore,this.initialized=!0,d=this}return(0,i.default)(e,[{key:"isInitialized",value:function(){return this.initialized}},{key:"saveSocketEvent",value:function(e){this.webSocketEventsStore.save(e)}},{key:"saveViEvent",value:function(e){this.viSocketEventsStore.save(e)}},{key:"saveException",value:function(e){this.exceptionsStore.save(e)}},{key:"saveReduxAction",value:function(e){this.actionsStore.save(e)}},{key:"saveMessageHistory",value:function(e,t){this.messageHistory[e]=t}},{key:"pageHasErrors",value:function(){return this.exceptionsStore.length()>0}},{key:"getStore",value:function(){return this.exceptionsStore.getAll()}},{key:"exportData",value:function(){return JSON.stringify({agentStore:this.agentStore,appStore:this.appStore,clientStore:this.clientStore,config:this.widgetConfig,exceptionsStore:this.exceptionsStore.getAll(),messagesStore:this.messagesFormatter.toDebugLog(),messageHistory:this.messageHistory,reduxStore:this.reduxStore.getState(),userAgent:navigator.userAgent,version:s.EnvironmentManager.getVersion(),visitorsInsightEventsStore:this.viSocketEventsStore.getAll(),webSocketEventsStore:this.webSocketEventsStore.getAll(),actionsStore:this.actionsStore.getAll(),lastLog:l.lastLogs.join("\r\n"),configLogs:{lastStatus:a.default.lastStatus}})}}],[{key:"getInstance",value:function(){return d}}]),e}();t.default=f},87144:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.EventStore=void 0;var o=r(n(33119)),i=r(n(92664));let a=function(){function e(){(0,o.default)(this,e),this.events=[]}return(0,i.default)(e,[{key:"save",value:function(e){this.events.push(e)}},{key:"getAll",value:function(){return this.events||null}},{key:"length",value:function(){return this.events.length}}]),e}();t.EventStore=a},7547:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesFormatter=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(45926),s=n(52161),l=n(44145),u=n(90061),c=n(36874);const d=(0,u.createLogger)("MessagesFormatter");let f=function(){function e(t){(0,o.default)(this,e),this.messagesStore=t}return(0,i.default)(e,[{key:"toTxt",value:function(){d.log("toTxt")}},{key:"getMessagesAsHTML",value:function(){try{const e=this.toHTML(),t=new Blob([e],{type:"text/html"}),n=window.parent.URL.createObjectURL(t);return{url:n,fileName:`${(new Date).toISOString()}_${(0,a.getPageWindow)().location.host}_chat_log.html`}}catch(e){return{url:null,fileName:null}}}},{key:"toHTML",value:function(){d.log("toHTML");let e="";this.messagesStore.store.forEach((t=>{const n=t.store;let r;if("client"===n.from)r="you";else{if("agent"!==n.from&&"bot"!==n.from)return;{let e=n.from_id&&(0,l.getAgentById)(+n.from_id);"bot"===n.from&&(e=n.from_id&&(0,l.getBotById)(+n.from_id)),r=e?`${e.name} (${e.title})`:"agent"}}let o=n.text;if(!o||"form"===n.type||"botsystem"===n.type)return;if("media"===n.type&&n.body&&n.body.file_url){const e=n.body.name||n.body.file_name,t=n.body.file_url||n.body.file;o=`<a target="_blank" rel="nofollow noopener" href="${encodeURI(t)}">${e}</a>`}const i="cobrowse"===n.type&&n.body&&n.body.address;if(i){const e=n.body.text||"",t=`${n.body.url}#jvhs_${n.body.address}`;o=`<a target="_blank" rel="nofollow noopener" href="${encodeURI(t)}">${(0,s.escape)(e).trim()}</a>`}let a=o?(0,s.escape)(o).trim():"";i&&(a=o);const u=new Date(n.created_ts),c=u.toLocaleDateString(),d=u.toLocaleTimeString();e+=`<div class="message ${n.from}MessageWrap">\n                <span class="messageInfo">${c} ${d}, ${r}</span>\n                <br>\n                <span>${a}</span>\n            </div>\n            <br>`}));return`<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>Chat log from ${(0,a.getPageWindow)().location.host}</title>\n            <style>\n                * {\n                    font-family: sans-serif;\n                }\n                a {\n                    color: #0044d3 !important;\n                }\n                h1 {\n                    display: block;\n                    margin: 15px auto;\n                    text-align: center;\n                    width: 600px;\n                }\n                .wrap {\n                    display: flex;\n                    flex-direction: column;\n                    width: 600px;\n                    margin: 0 auto;\n                }\n                .wrap .message {\n                    display: block;\n                    max-width: 100%;\n                    min-width: 40px;\n                    margin-bottom: 2px;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    text-indent: 0;\n                    user-select: text;\n                    border-radius: 5px;\n                }\n                .message a {\n                    color: inherit;\n                }\n                .messageInfo {\n                    opacity: 0.7;\n                    font-size: 14px;\n                }\n                .clientMessageWrap {\n                    background-color: ${c.colorsFromFigma.GREEN_80};\n                    color: white;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 0 0 auto;\n                }\n                .agentMessageWrap,\n                .botMessageWrap {\n                    background-color: #f1f0f0;\n                    color: #222d38;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 auto 0 0;\n                }\n                .printButton {\n                    position: fixed;\n                    top: 13px;\n                    right: 30px;\n                    background-color: ${c.colorsFromFigma.GREEN_80};\n                    color: white;\n                    width: 80px;\n                    height: 40px;\n                    border-radius: 5px;\n                    font-size: 20px;\n                    box-shadow: none;\n                    border: none;\n                }\n                .printButton:hover {\n                    background-color: ${c.colorsFromFigma.GREEN_90};\n                    cursor: pointer;\n                }\n                @media print {\n                    .printButton {\n                        display: none;\n                    }\n                }\n            </style>\n        </head>\n        <body>\n            <h1>Chat log from ${(0,a.getPageWindow)().location.host}</h1>\n            <button class="printButton" onclick="window.print()">Print</button>\n            <div class="wrap">\n                ${e}\n            </div>\n        </body>\n        </html>`}},{key:"toDebugLog",value:function(){return d.log("toDebugLog"),this.messagesStore.store}}]),e}();t.MessagesFormatter=f},74603:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.designerApiInit=function(){v.isDesignerEditor&&(E._dAPI=w)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(96394)),i=n(42908),a=r(n(14264)),s=r(n(14762)),l=r(n(27104)),u=r(n(26754)),c=r(n(75686)),d=n(70859),f=n(26932),p=n(65465),g=n(31694),h=n(90061),m=n(81152),_=n(44145),v=n(52028),y=n(45926);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const C=(0,h.createLogger)("DesignerApi"),E=(0,y.getPageWindow)(),D=(e,t)=>{window.parent._desingerConfig[e]=t},T=()=>{const e=c.default.getComponent(d.Component.ROOT_COMPONENT);e&&e.forceUpdate()},w={showChat(){C.log("showChat"),i.api.open()},showLabel(){C.log("closeChat"),i.api.close()},setAgent(e){C.log("setAgent",{params:e}),s.default.destroy(),s.default.push({agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl,body:{state:"join",unsave:!0}}),Object.assign(u.default,{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}),f.agentsDispatchers.addAgent({id:1,name:e.name,title:e.title,avatarUrl:e.avatarUrl,isBot:!1}),f.chatsDispatchers.setJoinedAgents([{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}]),f.chatsDispatchers.addJoinedAgent(1),T()},addMessages(e){C.log("addMessages",{messages:e});const t=[];e.forEach((e=>{t.push({from:e.from,from_id:"agent"===e.from?1:null,text:e.text,type:"message",status:"read",created_ts:(new Date).getTime(),body:{unsave:!0}})})),f.messagesDispatchers.addMessages(t)},updateAgent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;C.log("updateAgent",{params:e,id:t}),Object.assign(u.default,{agent_id:t,display_name:e.name,title:e.title,avatar_url:e.avatarUrl});const n=s.default.getAgentById(t);n&&(n.set("display_name",e.name),n.set("title",e.title),n.set("avatar_url",e.avatar_url)),f.agentsDispatchers.updateAgent({id:t,name:e.name,title:e.title,avatarUrl:e.avatarUrl})},editLastMessage(e){C.log("editLastMessage",{text:e});const t=(0,_.getAgentMessages)((0,_.getMessages)());if(t.length){const n=t[t.length-1];f.messagesDispatchers.updateMessage({privateId:n.private_id,messageId:null},{text:e})}},cleanMessages(){C.log("cleanMessages"),a.default.destroy(),a.default.trigger("update")},setWidgetColor(e,t){C.log("setWidgetColor",{color:e,color2:t}),f.userDispatchers.setWidgetColor(e),f.userDispatchers.setWidgetColor2(t),T()},setDesktopSettings(e){C.log("setDesktopSettings",e),f.userDispatchers.setPowerGradient(e)},setMobileWidgetColor(e){C.log("setMobileWidgetColor",e),f.userDispatchers.setPowerButtonColor(e)},setCallbackColor(e){C.log("setCallbackColor",{color:e}),(0,o.setConfigParam)("callback_btn_color",e),f.userDispatchers.setCallbackButtonColor(e),T()},setBubbleColor(e){C.log("setBubbleColor",{color:e}),f.userDispatchers.setBubbleColor(e),(0,o.setConfigParam)("bubble_color",e),(0,v.runBind)("setBubbleColor"),T()},setPattern(e){C.log("setPattern",{pattern:e}),f.userDispatchers.setPattern(e),(0,o.setConfigParam)("pattern",e),T()},setWidgetPosition(e,t){C.log("setWidgetPosition",{orientation:e,padding:t});const n=+t;f.userDispatchers.setWidgetOrientation(e),f.userDispatchers.setWidgetPadding(n),(0,o.setConfigParam)("widget_orientation",e),(0,o.setConfigParam)("widget_padding",n),(0,v.runBind)("setWidgetPosition",{orientation:e,padding:n}),T()},setMobileWidgetOrientation(e){C.log("setMobileWidgetOrientation",e),f.userDispatchers.setWidgetMobileOrientation(e)},setMobileBottomOffset(e){C.log("setMobileBottomOffset",e),f.userDispatchers.setMobileOffsetBottom(e||null)},setDesktopBottomOffset(e){C.log("setDesktopBottomOffset",e),f.userDispatchers.setDesktopOffsetBottom(e||null)},setFontColor(e){C.log("setFontColor",{type:e}),"auto"===e&&(e=l.default.isLightColor(o.default.widget_color)?"dark":"light"),(0,o.setConfigParam)("widget_font_color",e),f.userDispatchers.setWidgetFontColor(e),T()},setFontSize(e){C.log("setFontSize",{size:e}),f.userDispatchers.setWidgetFontSize(e),(0,o.setConfigParam)("font_size",e),T()},setFontFamily(e){C.log("setFontFamily",{family:e}),f.userDispatchers.setWidgetFontFamily(e),(0,o.setConfigParam)("font_family",e),T()},setFontType(e){C.log("setFontType",{type:e}),f.userDispatchers.setWidgetFontType(e),(0,o.setConfigParam)("font_type",e),T()},setLabelBubble(e){C.log("setLabelBubble",{bool:e});const t=e?1:0;f.userDispatchers.setWidgetLabelBubble(t),(0,o.setConfigParam)("label_bubble",t)},setOnlineText(e){C.log("setOnlineText",{text:e}),f.userDispatchers.setOnlineLabel(e),(0,o.setConfigParam)("online_widget_label",e),(0,v.runBind)("setOnlineText",e)},setLabelText(e){C.log("setLabelText",{text:e}),"online"===o.default.chat_mode?(f.userDispatchers.setOnlineLabel(e),(0,o.setConfigParam)("online_widget_label",e)):(f.userDispatchers.setOfflineLabel(e),(0,o.setConfigParam)("offline_widget_label",e)),(0,v.runBind)("setLabelText",e)},setOfflineFormText(e){C.log("setOfflineFormText",{text:e});const t=(0,_.getLastMessageByType)(m.MessageType.FOR_TEST);t&&(f.messagesDispatchers.updateMessage({privateId:t.private_id},{text:e}),f.userDispatchers.setOfflineFormText(e),(0,o.setConfigParam)("offline_form_text",e),(0,v.runBind)("setOfflineFormText",e))},setChatOnline(){C.log("setChatOnline"),D("chat_mode","online"),(0,o.setConfigParam)("chat_mode","online"),(0,v.runBind)("setChatOnline"),T()},setChatOffline(){C.log("setChatOffline"),D("chat_mode","offline"),(0,o.setConfigParam)("chat_mode","offline"),(0,v.runBind)("setChatOffline"),T()},addPrechat(e){w.cleanPrechat(),C.log("addPrechat",{prechats:e}),(0,o.setConfigParam)("prechat",e),(0,o.setConfigParam)("enable_prechat",1),p.messageActions.pushPrechat(),f.featuresDispatchers.enablePrechat(!0),f.userDispatchers.setPrechat(e)},updatePrechats(e){if(C.log("updatePrechats",{prechats:e}),!e)return;c.default.getComponent(d.Component.PRECHAT)&&g.PrechatEmitter.emit("updatePrechatText",e)},cleanPrechat(){C.log("cleanPrechat"),p.messageActions.deletePrechatMsg(),a.default.trigger("update")},setMobileView(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).target;e?f.designerDispatchers.updateDesignerSettings({isMobileView:e,mobileRenderTarget:t}):f.designerDispatchers.updateDesignerSettings({isMobileView:!1,mobileRenderTarget:""})}}},52028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.designerBind=function(e,t){if(!i)return;void 0!==o[e]||(o[e]=[]),o[e].push(t)},t.isDesignerEditor=void 0,t.runBind=function(e,t){void 0!==o[e]&&o[e].forEach((e=>{e(t)}))};var r=n(97615);const o={},i=r.EnvironmentManager.isDesignerEditor();t.isDesignerEditor=i},2439:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(96394)),s=n(12494),l=n(52274),u=n(21434),c=n(97615);let d=function(){function e(t){(0,o.default)(this,e),this.file=t,this.fileExtension=(0,u.fileName)(t.name).ext,this.fileMimeType=t.type,this.fileSize=t.size,this.reason=null,this.isExtendedEnabled=Boolean(a.default.enable_extended_file_transfer)}return(0,i.default)(e,[{key:"isValid",value:function(){return this.isAllowedFileSize()&&this.isAllowedExtensionAndMime()}},{key:"getReason",value:function(){return this.reason}},{key:"isAllowedExtensionAndMime",value:function(){if(!this.fileExtension)return this.reason=s.FileUploadError.NO_EXTENSION,!1;const e=c.EnvironmentManager.getAllowedFileTypes();for(let t=0;t<e.length;t++){const n=e[t];if(n.extension===this.fileExtension.toLowerCase()&&n.mimeType===this.fileMimeType)return!0}return this.reason=s.FileUploadError.RESTRICTED_FILE_TYPE,!1}},{key:"isAllowedFileSize",value:function(){return!(this.fileSize>(this.isExtendedEnabled?l.MAX_EXTENDED_FILE_SIZE:l.MAX_FILE_SIZE))||(this.reason=s.FileUploadError.FILE_SIZE_EXCEEDED,!1)}}]),e}();t.default=d},69625:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.mediaUploader=void 0;var o=r(n(61125)),i=r(n(33119)),a=r(n(92664)),s=r(n(96394)),l=n(52274),u=n(44145),c=r(n(2439)),d=n(12494),f=n(75141),p=n(58271),g=n(53489),h=n(21434),m=n(18276),_=n(77294),v=n(81152),y=n(26932),b=n(95911),C=n(90061),E=n(66434);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const w=(0,C.createLogger)("MediaUploader");const S=new(function(){function e(){(0,i.default)(this,e),this.mediaMessage=null,this.sign=null,this.file_name=null,this.client_id=(0,u.getClient)().clientId?(0,u.getClient)().clientId.split(".")[0]:0,this.site_id=(0,u.getSystemSettings)().siteId,this.public_id=(0,u.getSystemSettings)().widgetId,this.currentQuery=null}return(0,a.default)(e,[{key:"getSignUrl",value:function(){return(0,_.getApiHost)().replace("code","auth")+"/api/1.0/auth/media/sign/put"}},{key:"getSign",value:async function(){w.warn("getSign");return await b.promisedRequest.get(this.getSignUrl(),{timeout:3e4,params:{file_name:this.file_name,client_id:(0,u.getClient)().clientId?(0,u.getClient)().clientId.split(".")[0]:0,site_id:this.site_id,public_id:this.public_id}}).then((e=>{const t=e.data;return this.metadata=t.metadata,this.sign=t.sign,this.ts=t.ts,this.media_server_url=t.url,(0,E.telemetry)("media_get_sign_success",{param1:JSON.stringify(T(T({},t),{},{sign:t.sign[0]})),param2:this.file_name||"none"}),t})).catch((e=>{w.error("Upload file error",e),(0,E.telemetry)("media_get_sign_error"),this.setMessageError(d.FileUploadError.REQUEST_FAILED)}))}},{key:"onUploadProgress",value:function(){const e=this.mediaMessage;var t;e&&(e.body.status===v.MediaStatus.ERROR&&(null===(t=this.currentQuery)||void 0===t||t.call(this)))}},{key:"uploadFile",value:async function(e,t){var n;w.warn("uploadFile");const r=(0,p.bytesToMB)(null!==(n=this.file.size)&&void 0!==n?n:5),o=3e4*Math.ceil(r),i=b.xhrRequest.put(`${this.media_server_url}/${this.file_name}?ts=${this.ts}&sign=${this.sign}&public`,((n,r)=>{if(w.warn("onLoad",n,r),n)return null==t||t(),void this.setMessageError(d.FileUploadError.REQUEST_FAILED);const o=r.headers.location||r.headers.Location,i=this.mediaMessage;if(y.messagesDispatchers.updateMessage({privateId:i.private_id},{body:T(T({},i.body),{},{unsave:null})}),!o)return e(0),y.messagesDispatchers.updateMessage({privateId:i.private_id},{body:T(T({},i.body),{},{status:v.MediaStatus.ERROR,error:(0,m.l10n)("file_upl_error")})}),void(0,E.telemetry)("file_upload_no_location",{param1:this.file_name,param2:JSON.stringify(r.headers),param3:r.status});this.onSuccess({fullUrl:this.media_server_url+r.headers.location})}),{timeout:o,headers:{"Content-Type":this.file.type,"X-Metadata":this.metadata},body:this.file,onUpload:t=>{w.warn("onUpload",t.loaded),e&&e(t.loaded),this.onUploadProgress()}});this.currentQuery=()=>{null==i||i.abort(),null==t||t()}}},{key:"getError",value:function(e){if(e){let t=(0,m.l10n)("file_upl_error"),n=null;switch(e){case d.FileUploadError.FILE_SIZE_EXCEEDED:t=(0,m.l10n)("file_upl_error_max_size",{size:(0,p.fileSize)(s.default.enable_extended_file_transfer?l.MAX_EXTENDED_FILE_SIZE:l.MAX_FILE_SIZE)}),n={param1:d.FileUploadError.FILE_SIZE_EXCEEDED};break;case d.FileUploadError.UPLOAD_CANCELED:t=(0,m.l10n)("file_upl_cancel"),n={param1:d.FileUploadError.UPLOAD_CANCELED};break;case d.FileUploadError.NO_EXTENSION:t=(0,m.l10n)("file_upl_error_no_ext"),n={param1:d.FileUploadError.NO_EXTENSION};break;case d.FileUploadError.RESTRICTED_FILE_TYPE:t=(0,m.l10n)("file_upl_error"),n={param1:(0,h.fileName)(this.file.name).ext,param2:d.FileUploadError.RESTRICTED_FILE_TYPE};break;case d.FileUploadError.REQUEST_FAILED:n={param1:d.FileUploadError.REQUEST_FAILED}}return n&&(0,E.telemetry)("file_upload_error",n),t}}},{key:"setMessageError",value:function(e){const t=this.getError(e),n=this.mediaMessage;n&&y.messagesDispatchers.updateMessage({privateId:n.private_id},{body:T(T({},n.body),{},{status:v.MediaStatus.ERROR},t&&{error:t}),status:v.MessageStatus.DELIVERED})}},{key:"checkIfFileReadIsNeeded",value:function(e){if(w.warn("checkIfFileReadIsNeeded",e.type),"photo"===(0,f.detectType)(e.type)&&"FileReader"in window)try{return this.readFileContent(e),!0}catch(e){return this.setMessageError(),!1}}},{key:"checkFileInfo",value:function(e){const t=new c.default(e);if(t.isValid())return this.checkIfFileReadIsNeeded(e),!0;{const e=t.getReason();return this.setMessageError(e),!1}}},{key:"readFileContent",value:function(e){const t=new FileReader;t.onload=function(){const n=new Image;n.onload=function(){e.width=n.width,e.height=n.height,w.warn("readFileContent",e)},n.onerror=e=>{w.log("FileReader error",e),(0,E.telemetry)("file_upload_error",{param1:"image_generate_failed"})},n.src=t.result},t.onprogress=function(){},t.readAsDataURL(e)}},{key:"startUpload",value:async function(e,t,n,r,o){if(!t)return!1;if(this.file=t,this.file_name=(0,g.sanitize)(t.name),this.onSuccess=n,this.mediaMessage=e,this.checkFileInfo(t)){await this.getSign()&&await this.uploadFile(r,o)}}}]),e}());t.mediaUploader=S},99012:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.initCallTouch=function(){if(o.default.enable_calltouch){const e=(0,i.getPageWindow)(),t=(0,a.getClient)();if("function"==typeof e.ct){s.log("init");try{const n=e.ct("calltracking_params");n&&n.length&&n.forEach((n=>{const r=`{"site_id": ${o.default.site_id}, "widget_id": "${o.default.widget_id}", "visitor_id": "${t.visitorId}"}`;s.log("set attr:",r),e.ct(n.modId,"set_attrs",r)}))}catch(e){s.error("Fail to sync with calltouch",e)}}}};var o=r(n(96394)),i=n(45926),a=n(44145);const s=(0,n(90061).createLogger)("CallTouch",{style:"color: grey"})},22618:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.initVideoForce=function(){const e=o.default.integrations;if(e&&e.videoforce){const t="https://widget.videoforce.io/";try{const n=document.createElement("script");n.src=t+e.videoforce,n.crossorigin="anonymous",n.async="true";const r=(0,i.getPageWindow)().jivo_cspNonce;r&&n.setAttribute("nonce",r);const o=(0,i.getPageWindow)().document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}catch(e){a.Monitoring.reportException(e)}}};var o=r(n(96394)),i=n(45926),a=n(54415)},55908:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(44733),s=n(99040);const l=(0,n(90061).createLogger)("AbTestManager");let u=null,c=function(){function e(){if((0,o.default)(this,e),u)return u;this.activeTest=null,this.storeName="abTests",this._initialize(),this._cleanUp(),u=this}return(0,i.default)(e,[{key:"testIsActive",value:function(e){return this.activeTest&&this.activeTest.name===e}},{key:"getActiveTest",value:function(){return this.activeTest?this.activeTest:null}},{key:"getGroup",value:function(e){return this.testIsActive(e)?this.activeTest.chosenGroup:null}},{key:"getNumberOfGroupsInTest",value:function(e){return this.testIsActive(e)?this.activeTest.numberOfGroups:null}},{key:"isInTestGroup",value:function(e,t){return this.getGroup(e)===t}},{key:"getActiveTestAsString",value:function(){return this.activeTest?`${this.activeTest.name},${this.activeTest.chosenGroup}`:null}},{key:"getActiveTestName",value:function(){return this.activeTest?this.activeTest.name:null}},{key:"getActiveTestGroup",value:function(){return this.activeTest?this.activeTest.chosenGroup:null}},{key:"_initialize",value:function(){if(s.ACTIVE_TEST){const e=this._getSavedTestGroup(s.ACTIVE_TEST.name);this.activeTest={name:s.ACTIVE_TEST.name,numberOfGroups:s.ACTIVE_TEST.groups,chosenGroup:e||this._getRandomGroupNumber(s.ACTIVE_TEST.groups)},a.StorageProvider.set(this.storeName,this.activeTest),l.log("Ab-testing is ebabled.",`TestName: ${this.getActiveTestName()}.`,`Group: ${this.getActiveTestGroup()}.`)}}},{key:"_getRandomGroupNumber",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"_getSavedTestGroup",value:function(e){const t=a.StorageProvider.get(this.storeName);return t&&t.name===e?t.chosenGroup:null}},{key:"_cleanUp",value:function(){this.activeTest||a.StorageProvider.remove(this.storeName)}}],[{key:"getInstance",value:function(){return u}}]),e}();t.default=c},97615:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentManager=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(87884),s=n(68403);const l=new(function(){function e(){(0,o.default)(this,e),this.env="production",this.version="165.7.0",this.loaderVersion="0.1",this.branch="HEAD_fdbd3c5",this.allowedFiles=JSON.parse('[{"extension":"7z","mimeType":"application/x-7z-compressed"},{"extension":"aac","mimeType":"audio/aac"},{"extension":"aiff","mimeType":"audio/aiff"},{"extension":"amr","mimeType":"audio/amr"},{"extension":"avi","mimeType":"video/avi"},{"extension":"avi","mimeType":"video/x-msvideo"},{"extension":"css","mimeType":"text/css"},{"extension":"csv","mimeType":"text/csv"},{"extension":"djvu","mimeType":"image/vnd.djvu"},{"extension":"doc","mimeType":"application/msword"},{"extension":"docx","mimeType":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{"extension":"epub","mimeType":"application/epub+zip"},{"extension":"gif","mimeType":"image/gif"},{"extension":"gz","mimeType":"application/gzip"},{"extension":"heic","mimeType":"image/heic"},{"extension":"heif","mimeType":"image/heif"},{"extension":"htm","mimeType":"text/html"},{"extension":"html","mimeType":"text/html"},{"extension":"ics","mimeType":"text/calendar"},{"extension":"ico","mimeType":"image/x-icon"},{"extension":"jpeg","mimeType":"image/jpeg"},{"extension":"jpg","mimeType":"image/jpeg"},{"extension":"json","mimeType":"application/json"},{"extension":"log","mimeType":"text/plain"},{"extension":"log","mimeType":""},{"extension":"mid","mimeType":"audio/midi"},{"extension":"mov","mimeType":"video/quicktime"},{"extension":"mp3","mimeType":"audio/mpeg"},{"extension":"mp4","mimeType":"application/mp4"},{"extension":"mp4","mimeType":"video/mp4"},{"extension":"mp4a","mimeType":"audio/mp4"},{"extension":"mpeg","mimeType":"video/mpeg"},{"extension":"odp","mimeType":"application/vnd.oasis.opendocument.presentation"},{"extension":"ods","mimeType":"application/vnd.oasis.opendocument.spreadsheet"},{"extension":"odt","mimeType":"application/vnd.oasis.opendocument.text"},{"extension":"oga","mimeType":"audio/ogg"},{"extension":"ogg","mimeType":"audio/ogg"},{"extension":"ogv","mimeType":"video/ogg"},{"extension":"ogg","mimeType":"video/ogg"},{"extension":"ogg","mimeType":"application/ogg"},{"extension":"opus","mimeType":"audio/ogg"},{"extension":"pdf","mimeType":"application/pdf"},{"extension":"ai","mimeType":"application/pdf"},{"extension":"png","mimeType":"image/png"},{"extension":"pkpass","mimeType":"application/vnd.apple.pkpass"},{"extension":"ppt","mimeType":"application/vnd.ms-powerpoint"},{"extension":"pptx","mimeType":"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{"extension":"psd","mimeType":"image/vnd.adobe.photoshop"},{"extension":"rar","mimeType":"application/vnd.rar"},{"extension":"rar","mimeType":"application/x-rar-compressed"},{"extension":"rtf","mimeType":"application/rtf"},{"extension":"stl","mimeType":"application/vnd.ms-pki.stl"},{"extension":"stl","mimeType":"application/x-navistyle"},{"extension":"svg","mimeType":"image/svg+xml"},{"extension":"tar","mimeType":"application/x-tar"},{"extension":"ttf","mimeType":"font/ttf"},{"extension":"tgs","mimeType":"application/x-gzip"},{"extension":"txt","mimeType":"text/plain"},{"extension":"usdz","mimeType":"model/vnd.usdz+zip"},{"extension":"vsd","mimeType":"application/vnd.visio"},{"extension":"wav","mimeType":"audio/wav"},{"extension":"wav","mimeType":"audio/wave"},{"extension":"weba","mimeType":"audio/webm"},{"extension":"webm","mimeType":"video/webm"},{"extension":"webp","mimeType":"image/webp"},{"extension":"wmv","mimeType":"video/x-ms-wmv"},{"extension":"xls","mimeType":"application/vnd.ms-excel"},{"extension":"xlsx","mimeType":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{"extension":"xml","mimeType":"text/xml"},{"extension":"zip","mimeType":"application/x-zip-compressed"},{"extension":"zip","mimeType":"application/zip"},{"extension":"yml","mimeType":"application/x-yaml"},{"extension":"yaml","mimeType":"application/x-yaml"},{"extension":"tiff","mimeType":"image/tiff"},{"extension":"tif","mimeType":"image/tiff"},{"extension":"cdr","mimeType":"image/cdr"},{"extension":"eps","mimeType":"image/x-eps"}]')||null,this.isDesigner=this._checkIfDesignerEditor(),this.isCampaignPopupConstructor=this._checkIfCampaignPopupConstructor(),this.isCampaignWidgetConstructor=this._checkIfCampaignWidgetConstructor(),this.isContactFormPreviewEnable=this._checkIfContactFormPreview(),this.isExtensions=this._checkIfWidgetExtensions()}return(0,i.default)(e,[{key:"isProduction",value:function(){return this.env===a.Environment.PRODUCTION}},{key:"isTesting",value:function(){return this.env===a.Environment.TESTING}},{key:"isDevelopment",value:function(){return this.env===a.Environment.DEVELOPMENT}},{key:"isSelfhosted",value:function(){return Boolean(!1)}},{key:"getVersion",value:function(){return this.version}},{key:"getLoaderVersion",value:function(){return this.loaderVersion}},{key:"getBranch",value:function(){return this.branch}},{key:"getAllowedFileTypes",value:function(){return this.allowedFiles}},{key:"getWindow",value:function(){return window.parent||window}},{key:"isPartnerApp",value:function(){return this.getWindow().jivo_partner||!1}},{key:"isDesignerEditor",value:function(){return this.isDesigner}},{key:"isPopupConstructor",value:function(){return this.isCampaignPopupConstructor}},{key:"isWidgetConstructor",value:function(){return this.isCampaignWidgetConstructor}},{key:"isContactFormPreview",value:function(){return this.isContactFormPreviewEnable}},{key:"isExtensionsEnable",value:function(){return this.isExtensions}},{key:"isApp",value:function(){return new RegExp(/^(app|app3|app3alpha|app3beta)\.(jivosite\.com|jivo\.ru)$/i).test(this.getPageHost())}},{key:"getPageHost",value:function(){return this.getWindow().location.host}},{key:"isSignUpPage",value:function(){return new RegExp(/.*\/signup\.html/i).test(this.getWindow().location.pathname)}},{key:"isRegPage",value:function(){return this.isProduction()?this.isApp()&&this.isSignUpPage():this.isSignUpPage()}},{key:"isDesignerPage",value:function(){return this.getWindow()._jivoDesigner}},{key:"isCampaignPopupConstructorPage",value:function(){return this.getWindow()._jivoCampaignPopupConstructor}},{key:"isCampaignWidgetConstructorPage",value:function(){return this.getWindow()._jivoCampaignWidgetConstructor}},{key:"isContactFormPreviewPage",value:function(){return this.getWindow()._jivoContactFormPreview}},{key:"isExtensionsPage",value:function(){return this.getWindow()._jivoWidgetExtensions}},{key:"isJsApiAvaiable",value:function(){return!!(0,s.isPaidCustomer)()||(this.isApp()||this.isRegPage()||this.isSignUpPage()||this.isDesignerEditor()||this.isPopupConstructor()||this.isPartnerApp())}},{key:"_checkIfCampaignPopupConstructor",value:function(){const e=this.isProduction(),t=e&&this.isApp();return Boolean(this.isCampaignPopupConstructorPage())&&(t||!e)}},{key:"_checkIfCampaignWidgetConstructor",value:function(){const e=this.isProduction(),t=e&&this.isApp();return Boolean(this.isCampaignWidgetConstructorPage())&&(t||!e)}},{key:"_checkIfWidgetExtensions",value:function(){const e=this.isProduction(),t=e&&this.isApp();return Boolean(this.isExtensionsPage())&&(t||!e)}},{key:"_checkIfContactFormPreview",value:function(){const e=this.isProduction(),t=e&&this.isApp();return Boolean(this.isContactFormPreviewPage())&&(t||!e)}},{key:"_checkIfDesignerEditor",value:function(){const e=this.isProduction(),t=e&&this.isApp();return!(!this.isDesignerPage()||!t&&e&&!this.isSelfhosted())}}]),e}());t.EnvironmentManager=l},45493:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(31011);let s=null;var l=function(){function e(t,n){if((0,o.default)(this,e),s)return s;this.appStore=n,this.appStore.addListener((()=>{this.updateChatStarted()})),this.storeName="jv_loader_info_"+t,this.store={},a.platform.supports.localStorage&&(this.store=JSON.parse(localStorage.getItem(this.storeName))||{}),s=this}return(0,i.default)(e,[{key:"setInStore",value:function(e,t){this.store[e]=t,this.saveStore()}},{key:"saveStore",value:function(){a.platform.supports.localStorage&&localStorage.setItem(this.storeName,JSON.stringify(this.store))}},{key:"updateChatStarted",value:function(){this.store.isChatStarted!==this.appStore.chat_started&&(this.store.isChatStarted=this.appStore.chat_started,this.saveStore())}}],[{key:"getInstance",value:function(){return s}}]),e}();t.default=l},74619:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Observer=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(45926),s=n(90061),l=n(21951);const u=(0,s.createLogger)("ObserverManager");let c=function(){function e(t){(0,o.default)(this,e),"function"==typeof MutationObserver&&(this.currentTitle=this.getTitle(),this.currentHref=this.getHref(),this.currentPath=this.getPathName(),this.observer=new MutationObserver((()=>{var e,n;this.getTitle()!==this.currentTitle&&(this.currentTitle=this.getTitle(),u.log("title changed",this.currentTitle),null===(e=t.onTitleChange)||void 0===e||e.call(t));this.getPathName()!==this.currentPath&&(this.currentHref=this.getHref(),this.currentPath=this.getPathName(),u.log("location also changed",this.currentHref,this.currentPath),null===(n=t.onUrlChange)||void 0===n||n.call(t))})),this.observer.observe((0,a.getPageWindow)().document,{subtree:!0,childList:!0}),(0,l.addListener)(window,"beforeunload",this.disconnect),(0,l.addListener)(window,"jBeforeunload",this.disconnect))}return(0,i.default)(e,[{key:"getTitle",value:function(){return(0,a.getDocumentTitle)()}},{key:"getHref",value:function(){return(0,a.getPageWindow)().location.href}},{key:"getPathName",value:function(){return(0,a.getPageWindow)().location.pathname}},{key:"disconnect",value:function(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}}]),e}();t.Observer=c},16500:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(21951),s=n(32183);const l=(0,n(90061).createLogger)("PageVisibilityManager");var u=new(function(){function e(){(0,o.default)(this,e),this.pageVisible=(0,s.pageVisible)(),this.subscribers=[],(0,a.listenVisibility)((()=>{this.pageVisible=(0,s.pageVisible)(),l.log("Page visibility changed to:",this.pageVisible),this.fireSubscriptions(this.pageVisible)}))}return(0,i.default)(e,[{key:"fireSubscriptions",value:function(e){this.subscribers.forEach((t=>{t(e)}))}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){this.subscribers=this.subscribers.filter((t=>{if(t!==e)return t}))}}]),e}());t.default=u},51094:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(26932),s=n(62168);const l=(0,n(90061).createLogger)("PermissionManager");var u=function(){function e(){(0,o.default)(this,e),this.allowedMics=[],this.allMics=[],this.allSpeakers=[],this.getAllDevices()}return(0,i.default)(e,[{key:"checkAudio",value:async function(){if(!navigator.mediaDevices)return l.warn("can't check mic access - old browser"),a.permissionsDispatchers.updatePermission(s.Permission.AUDIO,s.PermissionStatus.BLOCKED),s.PermissionStatus.BLOCKED;{await this.getAllDevices(),l.log("start check mic access");let e=null;try{e=await navigator.mediaDevices.getUserMedia({audio:!0}),l.log("mic is allowed");const t=e.getTracks();return t.forEach((e=>e.stop())),this.allowedMics=t,a.permissionsDispatchers.updatePermission(s.Permission.AUDIO,s.PermissionStatus.ALLOWED),s.PermissionStatus.ALLOWED}catch(e){return l.warn("mic is not allowed",e),a.permissionsDispatchers.updatePermission(s.Permission.AUDIO,s.PermissionStatus.BLOCKED),s.PermissionStatus.BLOCKED}}}},{key:"getAllDevices",value:async function(){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){const e=await navigator.mediaDevices.enumerateDevices();this.allMics=e.filter((e=>"audioinput"===e.kind)),this.allSpeakers=e.filter((e=>"audiooutput"===e.kind))}}}]),e}();t.default=u},50216:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(96394),s=n(90061),l=n(26932),u=n(64123),c=n(95911),d=n(45926),f=n(62096),p=n(49963),g=n(66434);const h=(0,s.createLogger)("RecaptchaManager");let m=null,_=function(){function e(t){(0,o.default)(this,e),this.token=t,this.recaptchaWidgetIndex=null,this.grecaptcha=null,this.blocked=null,m=this}return(0,i.default)(e,[{key:"isBlocked",value:function(){return this.blocked}},{key:"addRecaptchaToPage",value:function(){h.log("Insertion of reCaptcha code",this.token);const e=(0,d.getPageWindow)(),t=e.document.head,n=e.document.createElement("script");n.async=!0,n.src="//google.com/recaptcha/api.js?render=explicit&onload=jivo_onRecaptchaLoadCallback",e.jivo_onRecaptchaLoadCallback=this.onLoadCallback.bind(this),t.appendChild(n)}},{key:"onLoadCallback",value:function(){h.log("onLoadCallback"),this.grecaptcha=(0,d.getPageWindow)().grecaptcha,this.recaptchaWidgetIndex=this.grecaptcha.render({sitekey:this.token,badge:"bottomleft"}),p.connectionAdapter.openConnect()}},{key:"getGRecaptchaToken",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.action;return h.log("getGRecaptchaToken: request token"),this.grecaptcha.execute(this.recaptchaWidgetIndex,{action:t})}},{key:"getJivoAntispamToken",value:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"startup";h.log("getJivoAntispamToken",n),this.grecaptcha.ready((()=>{h.log("GRECAPTCHA READY: Request token"),this.getGRecaptchaToken({action:n}).catch((e=>{this.onTokenFailure(e,t)})).then((n=>{this.onTokenSuccess(n,e,t)}))}))}},{key:"getRecaptchaHandleUrl",value:function(e){const t=f.reduxStore.getState(),n=(0,a.getConfig)(),r=n.base_url,o=n.widget_id;return(0,d.getProtocol)()+r+`/script/recaptcha-token/${encodeURIComponent(o)}?visitor_id=${encodeURIComponent(t.client.visitorId)}&token=${encodeURIComponent(e)}`}},{key:"onTokenSuccess",value:function(e,t,n){e&&(h.log("JivoAntispamToken REQUEST SUCCESS: GRecaptcha token received",e),c.xhrRequest.get(this.getRecaptchaHandleUrl(e),((e,r)=>{if(e)return(0,g.telemetry)("recaptcha_error",{param1:"Server error: "+JSON.stringify(e)});const o=r.data;return o.ok&&o.token?(l.clientDispatchers.setCaptchaToken(o.token),(0,g.telemetry)("recaptcha_success",{param1:o.score}),h.log("Recaptcha request is successful"),t&&t()):o.ok?void 0:((0,g.telemetry)("recaptcha_failure",{param1:o.score,param2:null===(i=o.reason)||void 0===i?void 0:i.join(",")}),h.log("Recaptcha request is unsuccessful"),this.block(),setTimeout((()=>{(0,u.enableRecaptchaAntispam)()}),1500),n&&n());var i})))}},{key:"onTokenFailure",value:function(e,t){h.log("Execution error",e),(0,g.telemetry)("recaptcha_error",{param1:"Client error: "+JSON.stringify(e)}),t&&t(e)}},{key:"block",value:function(){this.blocked=!0}}],[{key:"getInstance",value:function(){return m}}]),e}();var v=_;t.default=v},75686:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664));var a=new(function(){function e(){(0,o.default)(this,e),this.refs={},this.observers={}}return(0,i.default)(e,[{key:"set",value:function(e,t){e&&t&&(this.refs[e]=t,this._fire(e))}},{key:"get",value:function(e){if(e&&this.refs[e])return this.refs[e].base?this.refs[e].base:this.refs[e]}},{key:"getComponent",value:function(e){return this.refs[e]}},{key:"subscribe",value:function(e,t){this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t)}},{key:"unsubscribe",value:function(e,t){this.observers[e]=this.observers[e].filter((e=>{if(e!==t)return e}))}},{key:"_fire",value:function(e){this.observers[e]||(this.observers[e]=[]),this.observers[e].forEach((e=>{e()}))}}]),e}());t.default=a},46902:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioBufferStore=void 0;var o=r(n(33119)),i=r(n(92664));const a=new(function(){function e(){(0,o.default)(this,e),this.audioBuffers={},this.mp3BuffersLengths={notification:5808,agent_message:3760,outgoing_message:5014},this.oggBufferLengths={notification:6140,agent_message:6464,outgoing_message:7165}}return(0,i.default)(e,[{key:"set",value:function(e,t){this.audioBuffers[e]=t}},{key:"get",value:function(e){return this.audioBuffers[e]||null}},{key:"getReadyAudioBuffersCount",value:function(){return Object.keys(this.audioBuffers).length}},{key:"getReferenceBufferLength",value:function(e,t){switch(t){case"mp3":return this.mp3BuffersLengths[e];case"ogg":return this.oggBufferLengths[e]}}}]),e}());t.AudioBufferStore=a},39933:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLAudioSoundManager=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(7819)),s=r(n(84827)),l=r(n(85299)),u=r(n(55536)),c=n(14433),d=n(21951),f=n(54415),p=n(31011),g=r(n(75686));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}const m=(0,n(90061).createLogger)("HTMLAudioSoundManager");let _=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var r;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.default)(this,n),(r=t.call(this,e,i)).touchListenerTimeout=null,r._windowOnClicked,r._mobileHackHandler=r._mobileHackHandler.bind((0,a.default)(r)),r}return(0,i.default)(n,[{key:"getSound",value:function(e){return g.default.get(`sound_${e}`.toUpperCase())}},{key:"initSoundPlayer",value:function(){m.log("Initialization started"),this.disabled||p.platform.isMobileOrTablet&&this._addHackListeners([window.parent,window],"click",this._mobileHackHandler)}},{key:"play",value:function(e,t){if(this.disabled)return void m.log(`Cannot play sound "${e}". SoundManager is disabled.`);const n=this.getSound(e);if(n&&void 0!==n.play)try{(p.platform.isIos||p.platform.isSafari)&&n.load();const r=n.play();this._promisesSupported(r)?t?r.then((()=>{this._pause(e)})):r.catch((t=>{this.touchListenerTimeout||(this._windowOnClicked=this._windowOnClicked.bind(this,e),p.platform.isMobileOrTablet&&this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler),this._addHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=setTimeout((()=>{this._removeHackListeners([window.parent,window],"click",this._windowOnClicked)}),3e3))})).then():t&&this._pause(e)}catch(e){f.Monitoring.reportException(e)}}},{key:"_pause",value:function(e){if(this.disabled)return;const t=this.getSound(e);t&&void 0!==t.pause&&t.pause()}},{key:"_promisesSupported",value:function(e){return("object"==typeof e||"function"==typeof e)&&e.then&&"function"==typeof e.then}},{key:"_windowOnClicked",value:function(e){this.play(e),clearTimeout(this.touchListenerTimeout),this._removeHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=null}},{key:"_mobileHackHandler",value:function(){this._mobileHack(),this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler)}},{key:"_mobileHack",value:function(){this.play(this.sounds[1],!0)}},{key:"_addHackListeners",value:function(e,t,n){e.forEach((e=>(0,d.addListener)(e,t,n)))}},{key:"_removeHackListeners",value:function(e,t,n){e.forEach((e=>(0,d.removeEvent)(e,t,n)))}}]),n}(c.SoundManagerBase);t.HTMLAudioSoundManager=_},21201:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.SoundDownloader=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(54415),s=n(97615),l=n(95911),u=n(69479),c=n(46902),d=n(90061),f=n(45683),p=n(66434);const g=(0,d.createLogger)("SoundDownloader");let h=function(){function e(t){(0,o.default)(this,e),this.audioContext=t,this.soundValidator=new u.SoundValidator,this.exceptionReported=!1}return(0,i.default)(e,[{key:"downloadSounds",value:function(e,t){e.forEach((e=>{this.download(e,t)}))}},{key:"download",value:function(e,t){l.xhrRequest.get(this._getUrl(e,t),((n,r)=>{if(n)return this._handleDownloadError(n,e,t);const o=this.soundValidator.validate(e,t,r.data);if(o.success)this._decodeBuffer(r.data,e,t);else if(o.error){this._fallback(e,t)||((0,p.telemetry)("sound_fallback",{param1:e,param2:t,param3:"validation"},{probability:"low"}),g.warn(o.error))}}),{responseType:"arraybuffer"})}},{key:"_getUrl",value:function(e,t){const n=(s.EnvironmentManager.isDevelopment()?"/public":"")+`/sounds/${e}.`;return(0,f.getStaticURL)(n+t)}},{key:"_decodeBuffer",value:function(e,t,n){this.audioContext.decodeAudioData(e,(e=>{c.AudioBufferStore.set(t,e)}),(e=>{this._handleDecodeBufferError(e,t,n)}))}},{key:"_handleDownloadError",value:function(e,t,n){this._fallback(t,n)||((0,p.telemetry)("sound_fallback",{param1:t,param2:n,param3:"download"},{probability:"low"}),g.warn(`Error downloading arrayBuffer for sound "${t}.${n}". Reason: ${e.code} ${e.text}`))}},{key:"_handleDecodeBufferError",value:function(e,t,n){this._fallback(t,n)||((0,p.telemetry)("sound_fallback",{param1:t,param2:n,param3:"decode"},{probability:"low"}),g.warn(`Error decoding arrayBuffer for sound "${t}.${n}". Reason: ${e}`))}},{key:"_fallback",value:function(e,t){const n=this._getFallbackExtension(t);return!!n&&((0,p.telemetry)("sound_fallback",{param1:e,param2:t,param3:"fallback"},{probability:"low"}),this.download(e,n),!0)}},{key:"_getFallbackExtension",value:function(e){return"mp3"===e?"ogg":null}},{key:"_reportErrorMessageOnce",value:function(e){this.exceptionReported||(a.Monitoring.reportException(e),this.exceptionReported=!0)}}]),e}();t.SoundDownloader=h},14433:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.SoundManagerBase=void 0;var o=r(n(33119)),i=r(n(92664));const a=(0,n(90061).createLogger)("SoundManagerBase");let s=function(){function e(t,n){(0,o.default)(this,e),this.disabled=n,this.sounds=t}return(0,i.default)(e,[{key:"initSoundPlayer",value:function(){a.log("initSoundPlayer method is NOT implemented!")}},{key:"enableSoundPlayer",value:function(){this.disabled=!1}},{key:"disableSoundPlayer",value:function(){this.disabled=!0}},{key:"play",value:function(e){a.log("play method is NOT implemented!")}}]),e}();t.SoundManagerBase=s},69479:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.SoundValidator=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(46902);let s=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"validate",value:function(e,t,n){let r;return n?n instanceof ArrayBuffer?this._isValidBufferLength(e,t,n)?{success:!0,error:null}:(r=new Error(`ArrayBuffer byteLength for sound "${e}.${t}" is ${n.byteLength}, should be ${a.AudioBufferStore.getReferenceBufferLength(e,t)}.`),{success:!1,error:r}):(r=new Error(`ArrayBuffer for sound "${e}.${t}" is not an instance of ArrayBuffer.`),{success:!1,error:r}):(r=new Error(`No arrayBuffer for sound "${e}.${t}"`),{success:!1,error:r})}},{key:"_isValidBufferLength",value:function(e,t,n){return n.byteLength===a.AudioBufferStore.getReferenceBufferLength(e,t)}}]),e}();t.SoundValidator=s},50725:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.WebAudioSoundManager=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(84827)),s=r(n(85299)),l=r(n(55536)),u=n(14433),c=n(54415),d=n(31011),f=n(90061),p=n(21201),g=n(46902);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}const m=(0,f.createLogger)("WebAudioSoundManager");let _=function(e){(0,a.default)(n,e);var t=h(n);function n(e){var r;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.default)(this,n),(r=t.call(this,e,i)).audioContext=null,r.soundDownloader=null,r}return(0,i.default)(n,[{key:"initSoundPlayer",value:function(){if(m.log("Initialization started"),this.disabled||this._checkIfIsInitialized())return;const e=d.platform.isFirefox?"ogg":"mp3";this.audioContext=this._createAudioContext(),this.soundDownloader=new p.SoundDownloader(this.audioContext),this.soundDownloader.downloadSounds(this.sounds,e)}},{key:"play",value:function(e){!this.disabled&&this._checkIfIsInitialized()?(this.audioContext||(m.log("AudioContext was created on play"),this.audioContext=this._createAudioContext()),"suspended"===this.audioContext.state?this.audioContext.resume().then((()=>{m.log("AudioContext was resumed"),this._startBufferAudio(e)})):this._startBufferAudio(e)):m.log(`Cannot play sound "${e}". SoundManager is either disabled or is not initialized.`)}},{key:"_createAudioContext",value:function(){m.log("Creating AudioContext");try{let e=window.AudioContext||window.webkitAudioContext;if(e){return new e}}catch(e){let t=new Error(`Exception during the creation of audio context. ${e.message}`);return c.Monitoring.reportException(t),this.disableSoundPlayer(),null}}},{key:"_startBufferAudio",value:function(e){let t=g.AudioBufferStore.get(e);if(t){let n=this.audioContext.createBufferSource();if(n)n.buffer=t,n.connect(this.audioContext.destination),n.start();else{let t=new Error(`Error creating buffer source for sound "${e}".`);c.Monitoring.reportException(t),this.disableSoundPlayer()}}else{let t=new Error(`Error there is no audiobuffer for sound "${e}".`);c.Monitoring.reportException(t),this.disableSoundPlayer()}}},{key:"_checkIfIsInitialized",value:function(){return this.sounds.length===g.AudioBufferStore.getReadyAudioBuffersCount()&&(this.soundDownloader=null,!0)}}]),n}(u.SoundManagerBase);t.WebAudioSoundManager=_},25528:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isSoundPlayerDisabled=void 0;var o=r(n(73687)),i=n(97490),a=n(31011),s=n(44145),l=n(97615);t.isSoundPlayerDisabled=()=>a.platform.isOperaMini||(0,s.getApp)().route===i.Route.HIDDEN||o.default.get("is_blacklisted")||l.EnvironmentManager.isWidgetConstructor()||(0,s.getFeatures)().disableSounds},71277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSoundDisabled=t.default=t.WebAudioDisabled=t.Sounds=void 0;var r=n(31011),o=n(50725),i=n(39933),a=n(25528);const s=["agent_message","notification","outgoing_message"];t.Sounds=s;const l=!function(){if(!r.platform.isMobileOrTablet||!window.AudioContext&&!window.webkitAudioContext||r.platform.isEdge)return!1;{const e=window.AudioContext||window.webkitAudioContext;try{return(new e).close(),!0}catch(e){return!1}}}();t.WebAudioDisabled=l;const u=(0,a.isSoundPlayerDisabled)();t.isSoundDisabled=u;var c=l?new i.HTMLAudioSoundManager(s,u):new o.WebAudioSoundManager(s,u);t.default=c},49594:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMessagesFromHistory=b,t.updateEditedMessages=C,t.updateHistory=function(e){const t=(0,_.getApp)(),n=t.lastMsgId,r=t.started,i=!!e.jv_client_id,E=e.last_msg_id&&n!==e.last_msg_id;y.log("updateHistory",e),i&&E&&function(e,t){y.log("getMsgHistory",e);const n=(new Date).getTime();l.default.getHistoryMessages("messages",{},((r,o)=>{if(r)return function(e,t,n){y.log("handleError",e),t();const r=Math.round(((new Date).getTime()-n)/1e3);(0,h.telemetry)("api_get_messages_error",{param1:r,param2:(0,_.getSystemSettings)().chatHost}),r>=3&&(0,h.telemetry)("api_get_messages_error_timeout",{param1:r,param2:(0,_.getSystemSettings)().chatHost})}(r,t,n);const i=o.data;if(y.log("receive new history",i),v.default.getInstance().saveMessageHistory("lastMessageHistoryRequest",o),i.result){const n=i.result;l=n.chat_opened,y.log("setWidgetStatus",l),c.appDispatchers.setChatStarted(l||!1),l||(s.default.closeChat(),c.appDispatchers.setChatAccepted(!1),(0,g.needShowDepartments)()),function(e,t,n){if(y.log("handleMessages",e),e&&e.length){const r=function(){y.log("getLastMessage");const e=s.default.filter((e=>{const t=e.get("from");return(t===u.MessageInitiator.CLIENT||t===u.MessageInitiator.AGENT)&&e.get("msg_id")}));return e[e.length-1]}(),o=function(e){y.log("getLastMessageId",e);let t=e?e.get("msg_id"):null;e||(e=s.default.getLastProactive())&&(t=e.get("msg_id"));return t}(r),i=e.filter((e=>{const t=(0,a.filterMessage)(e);return e.type===u.MessageType.PROACTIVE&&r&&r.get("type")===u.MessageType.PROACTIVE&&r.destroy(),t&&o!==e.msg_id}));if(i.forEach((e=>{if(e.deleted)e.status=u.MessageStatus.DELETED;else{y.log("add item from history",e);const t=1e3*e.created_ts,n=1e3*e.updated_ts;e.created_ts=t,e.updated_ts&&(e.updated_ts=n),e.status=e.status?e.status:u.MessageStatus.DELIVERED,e.status===u.MessageStatus.SEEN&&(e.status=u.MessageStatus.READ),e.type===u.MessageType.EMAIL&&(e.type=u.MessageType.MESSAGE),e.media&&(e.media.status=u.MediaStatus.COMPLETE),e.private_id||(e.private_id=(0,m.generateGUID)())}})),"resume_ok"===n&&!f.platform.isMobileOrTablet&&i.length&&(0,p.openChatOnMessage)({fromHistory:!0}),c.messagesDispatchers.addMessages(i),t){const t=!!i.length;let n=(t?i:e).slice(-1)[0],r=n.chat_id,o=n.created_ts;t||(o*=1e3),(0,p.needToRateForm)(r,o)}(0,h.telemetry)("api_get_messages_received",{param1:(0,_.getSystemSettings)().chatHost})}}(n.messages,n.chat_rate_requested,e.name),b(n.messages),C(n.messages),e&&c.appDispatchers.setLastMsgId(e.last_msg_id),t(n)}else y.error("Empty history data"),t();var l}))}(e,(()=>{}));r||o.cssLoader.subscribe((()=>{d.default.getInstance().start()}),(()=>{d.default.getInstance().stop()}))};var o=n(33180),i=n(90061),a=n(96879),s=r(n(14264)),l=r(n(86961)),u=n(81152),c=n(26932),d=r(n(35802)),f=n(31011),p=n(15787),g=n(59767),h=n(66434),m=n(16016),_=n(44145),v=r(n(22866));const y=(0,i.createLogger)("MessageHistory");function b(e){const t=e.filter((e=>e.deleted));t.length&&t.forEach((e=>{const t=s.default.getMessageById(e.msg_id);t&&t.set({status:u.MessageStatus.DELETED,type:u.MessageType.MESSAGE,body:null})}))}function C(e){const t=e.filter((e=>!e.deleted));t.length&&t.forEach((e=>{const t=s.default.getMessageById(e.msg_id);t&&e.updated_ts&&(y.warn("message edited: ",t.toJSON()),t.set({updated_ts:1e3*e.updated_ts,text:e.text}))}))}},54415:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Monitoring=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(75048),s=n(97615),l=n(67597),u=n(44733),c=n(66434),d=n(40300),f=n(44145);let p=function(){function e(){(0,o.default)(this,e),this.provider=new a.MonitoringProvider}return(0,i.default)(e,[{key:"init",value:function(){window.onerror=(e,t,n,r,o)=>{if(!o&&(o={}),!window&&!arguments&&"function"!=typeof this.reportException)return;const i=(0,f.getClient)(),a=i.clientId,u=i.visitorId;this.reportException({client_id:a?a.split(".")[0]:u,message:e,lineNumber:n,fileName:(0,l.getBundleSrc)()+"&v="+s.EnvironmentManager.getVersion(),columnNumber:r,stack:JSON.stringify(o.stack||o.stacktrace||o)})};const e=t=>{const n=(0,d.getTelemetryState)().reportedEvents,r=n.chat_invite||n.offline_invite;t.persisted||!r||u.StorageProvider.get("hide_reported")||(u.StorageProvider.set("hide_reported",!0),(0,c.telemetry)("page_hide",{param1:"has_proactive"},{once:!0})),window.removeEventListener("pagehide",e)};window.addEventListener("pagehide",e,!1)}},{key:"reportException",value:function(e,t){this.provider.reportException(e,t)}},{key:"reportStats",value:function(e,t){this.provider.reportStats(e,t)}}]),e}();const g=new p;t.Monitoring=g},75048:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.MonitoringProvider=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(90061),s=n(31011),l=r(n(22866)),u=n(97615),c=n(44145),d=n(6693),f=n(95911),p=n(45926),g=r(n(96394)),h=n(73422),m=r(n(138)),_=n(58345),v=n(6211),y=n(40300);const b=(0,a.createLogger)("MonitoringProvider");let C=function(){function e(){(0,o.default)(this,e),this.errorSentCnt=0}return(0,i.default)(e,[{key:"isNotSearchSpider",value:function(){const e=navigator.userAgent.toLowerCase();return-1==e.search(/google/gi)&&-1==e.search(/\+http:\/\/yandex\.com\/bots/gi)&&-1==e.search(/\+http:\/\/www\.cloudflare\.com\/always-online/gi)&&-1==e.search(/linespider\//gi)}},{key:"reportException",value:function(e,t){if(l.default.getInstance()&&l.default.getInstance().saveException(e),!g.default.disable_error_reporting&&this.isNotSearchSpider()){if(++this.errorSentCnt>3)return;try{this.reportError(e,3,t)}catch(e){b.error(e.message)}}else b.warn("REPORT",e)}},{key:"reportError",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2?arguments[2]:void 0;const r=`${(0,p.getProtocol)()}//${g.default.err_host}/widget`,o=(0,c.getClient)(),i=o.clientId,a=o.visitorId,l={body:{widget:"true",widget_id:g.default.widget_id,widget_version:u.EnvironmentManager.getVersion(),level:t,url:this.getUrl(),client_id:i?i.split(".")[0]:a,lineNumber:e.lineNumber,fileName:e.fileName,column:e.columnNumber,full_message:n+"\r\n"+this.getStack(e.message,e.stack),short_message:e.message,device:s.platform.device,shard:this.getShard()},headers:{"Content-Type":d.CONTENT_TYPE.APP_JSON},responseType:"json",monitoring:!0};this.ignoreMessage(l.body.full_message,["chrome://internal","chrome-extension://"])||f.xhrRequest.post(r,((e,t)=>{b.warn("Error reported:",e,t)}),l)}},{key:"ignoreMessage",value:function(e,t){return Boolean(t.filter((t=>e.includes(t))).length)}},{key:"getUrl",value:function(){const e=(0,p.getPageWindow)().location;return e.protocol+"//"+e.host+e.pathname}},{key:"getStack",value:function(e,t){const n=a.lastLogs.join("\r\n"),r=(0,y.getTelemetryState)().lastEvents;return"Script error."==e||'setting getter-only property "message" (in MessagesContainer component)'==e?`errCount: ${this.errorSentCnt}\r\n${t} \r\n ${n}`:"{}"!=t&&""!=t&&t?t.replace(/(?:\\[n])+/,"\r\n"):`Custom stack: \r\n${n}\r\n\r\n${r.join("\r\n")}`}},{key:"getShard",value:function(){return g.default.shard_id||"main"}},{key:"getStatsUrl",value:function(e,t,n){const r=(0,c.getSystemSettings)(),o=r.siteId,i=r.widgetId,a=r.baseUrl,s=n?"":`${t}/`;return`${(0,p.getProtocol)()}${a}/script/stat/campaign/${e}/${o}/${s}${i}`}},{key:"reportStats",value:function(e,t){if(e&&(0,h.isString)(e)){if(this.isNotSearchSpider()){b.log("stats",e,t);try{const n=["visit"].includes(e),r=this.getStatsUrl(e,t,n);if(n&&Array.isArray(t)){const n=t;(0,_.chunkArray)(n,v.Limits.STATS_CHUNK_LIMIT).forEach((e=>{this.postCampaignStats(r,e)})),"visit"===e&&n.forEach((t=>{m.default.reportCampaign(e,t)}))}else this.postCampaignStats(r,t),m.default.reportCampaign(e,t)}catch(e){b.warn(e)}}}else b.warn("EventName is empty")}},{key:"postCampaignStats",value:function(e,t){Array.isArray(t)&&(e+="?",t.forEach(((n,r)=>{e+=`ids[]=${n}`,t.length!==r+1&&(e+="&")}))),f.xhrRequest.get(e,(()=>{}),{responseType:"json"})}}]),e}();t.MonitoringProvider=C},74890:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={init:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(window.document||window.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}};t.default=n},2833:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(90061),s=r(n(86961)),l=n(44145),u=n(35967),c=n(73422),d=n(66434);const f=(0,a.createLogger)("Proactive");var p=new(function(){function e(){(0,o.default)(this,e),this.agents=null,this.departments=null,this.proactiveDepartmentId=null}return(0,i.default)(e,[{key:"getActiveAgent",value:function(e,t){f.log("getActiveAgent"),t&&(this.proactiveDepartmentId=t),s.default.getStatus(((t,n)=>{this.parseStatus(t,n,e)}))}},{key:"parseStatus",value:function(e,t,n){if(e)return(0,d.telemetry)("widget_status",{param1:e.code}),this.agents=null,this.departments=null,n(!1);const r=(0,l.getClient)(),o=r.assignedAgentId||r.priorityAgentId;n(this.getAgent(t.data,o,this.proactiveDepartmentId))}},{key:"getAgent",value:function(e,t,n){const r=e.departments;if(f.log("parseStatus",e,t,n),e.bots)return e.bots[0];if(this.agents=e.bots||e.agents,this.departments=r,this.agents.length){if(n&&(0,c.isObject)(r)&&n in r){const e=this.departments[n],r=this.getOnlineAgentInDep(t,e.agents);if(r)return r;const o=this.getRandomOnlineAgentFromDep(e.agents);return o||(f.log("no online agents from proactive department."),!1)}const e=this.getAgentById(t);if(e)return e;const o=this.getRandomAgent(this.agents.length-1);return o||!1}return!1}},{key:"getRandomAgent",value:function(e){return this.agents[this.randomInt(0,e)]}},{key:"randomInt",value:function(e,t){const n=e+Math.random()*(t+1-e);return Math.floor(n)}},{key:"getAgentById",value:function(e){return this.agents.find((t=>t.agent_id===e))}},{key:"getRandomAgentIdByArray",value:function(e){return e[1===e.length?0:this.randomInt(0,e.length-1)]}},{key:"getOnlineIds",value:function(){return this.agents.map((e=>e.agent_id))}},{key:"getOnlineInDep",value:function(e){const t=this.getOnlineIds();return(0,u.intersection)(t,e)}},{key:"getOnlineAgentInDep",value:function(e,t){const n=this.getOnlineInDep(t);if(n.length&&-1!==n.indexOf(e))return this.getAgentById(e)}},{key:"getRandomOnlineAgentFromDep",value:function(e){const t=this.getOnlineInDep(e);if(t.length){const e=this.getRandomAgentIdByArray(t);return this.getAgentById(e)}return!1}}]),e}());t.default=p},21476:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var o=r(n(84633)),i=r(n(95003)),a=n(97490),s=n(26932),l=r(n(75686)),u=n(2982),c=n(70859),d=n(47138),f=n(90061),p=n(44145),g=n(31011),h=r(n(61811)),m=n(8717),_=n(24344),v=n(66434),y=n(85074);const b=(0,f.createLogger)("Router"),C=new o.default({namespace:"ROUTER",initialState:(0,p.getApp)().route||i.default.route||a.Route.LABEL,debugClicks:0,clickTimer:null,getCurrentRoute:function(){return this.state},getPrevRoute:function(){return this.priorState},setNext:function(e){b.warn("setNext route:",e),this.transition(e)},getPrevEvent:function(){return this._priorAction},next:function(e,t){b.warn("next",e,"from",this.state),e&&this.handle(e,t)},_navToChat:function(){(0,p.getCallback)().status==d.CallStatus.WAIT?this.transition(a.Route.CHAT_CALL):(0,y.needShowPrechats)()&&(0,m.shouldRedirectToIntroduce)()?this.transition(a.Route.CHAT):(0,m.shouldRedirectToIntroduce)()?this.transition(a.Route.INTRODUCE):(0,y.showDepartmentsIfPossible)()?this.transition(a.Route.DEPARTMENTS):this.transition(a.Route.CHAT)},_navToChatFromChatMin:function(){this.transition(a.Route.CHAT)},_debugClicked:function(){clearTimeout(this.clickTimer),this.debugClicks++,this.debugClicks>7&&(this.debugClicks=0,this.transition(a.Route.DEBUG),(0,v.telemetry)("debug_panel_opened",void 0,{once:!0})),this.clickTimer=setTimeout((()=>{this.debugClicks=0}),1e3)},states:{[a.Route.HIDDEN]:{_onEnter:function(){this.trigger("route_change",a.Route.HIDDEN);const e=h.default.getInstance();e&&e.destroy()}},[a.Route.LABEL]:{_onEnter:function(){this.trigger("route_change",a.Route.LABEL)},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToCall]:function(){this.transition(a.Route.CALL)},[a.RouterEvent.ToChat]:function(){this.transition(a.Route.CHAT)},[a.RouterEvent.ApiOpen]:function(){this._navToChat()},[a.RouterEvent.Navigate]:function(){this._navToChat()},[a.RouterEvent.ToLabelInvitation]:function(){this.transition(a.Route.LABEL_INVITATION)},[a.RouterEvent.ToMobileMenu]:function(){this.transition(a.Route.MOBILE_MENU)},[a.RouterEvent.ToCallPopup]:function(){this.transition(a.Route.CALL_POPUP)},[a.RouterEvent.ToSocial]:function(){this.transition(a.Route.CHAT_SOCIAL)}},[a.Route.LABEL_INVITATION]:{_onEnter:function(){this.trigger("route_change",a.Route.LABEL_INVITATION)},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToCall]:function(){this.transition(a.Route.CALL)},[a.RouterEvent.ApiOpen]:function(){this._navToChat()},[a.RouterEvent.Navigate]:function(){this._navToChat()},[a.RouterEvent.CloseWindow]:function(){this.transition(a.Route.LABEL)}},[a.Route.DEPARTMENTS]:{_onEnter:function(){this.trigger("route_change",a.Route.DEPARTMENTS)},[a.RouterEvent.CloseWindow]:function(){this.transition(a.Route.LABEL)},[a.RouterEvent.ToCall]:function(){g.platform.isMobileOrTablet?this.transition(a.Route.CALL):this.transition(a.Route.CHAT_CALL),(0,v.telemetry)("cw_online_header_button")},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.Navigate]:function(){this._navToChat()},[a.RouterEvent.ToDebug]:function(){this._debugClicked()}},[a.Route.INTRODUCE]:{_onEnter:function(){this.trigger("route_change",a.Route.INTRODUCE)},[a.RouterEvent.Submit]:function(){this.transition(a.Route.CHAT)},[a.RouterEvent.ToCall]:function(){g.platform.isChatPage?this.transition(a.Route.CHAT_CALL):this.transition(a.Route.CALL)},[a.RouterEvent.CloseWindow]:function(){this.transition((0,y.getRouteChatMin)())},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToDebug]:function(){this._debugClicked()}},[a.Route.MOBILE_MENU]:{_onEnter:function(){this.trigger("route_change",a.Route.MOBILE_MENU)},[a.RouterEvent.ToCall]:function(){this.transition(a.Route.CALL)},[a.RouterEvent.CloseWindow]:function(){this.transition(a.Route.LABEL)},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToChat]:function(){this._navToChat()},[a.RouterEvent.Navigate]:function(){this._navToChat()}},[a.Route.CHAT]:{_onEnter:function(){this.trigger("route_change",a.Route.CHAT)},[a.RouterEvent.Submit]:function(e){e&&e.from&&e.from!==this.state||this.trigger("submit_success")},[a.RouterEvent.ToCall]:function(){g.platform.isMobileOrTablet?this.transition(a.Route.CALL):this.transition(a.Route.CHAT_CALL),(0,v.telemetry)("cw_online_header_button")},[a.RouterEvent.ToIntroduce]:function(){(0,m.shouldRedirectToIntroduce)()&&this.transition(a.Route.INTRODUCE)},[a.RouterEvent.ToSocial]:function(){this.transition(a.Route.CHAT_SOCIAL)},[a.RouterEvent.CloseWindow]:function(){this.transition((0,y.getRouteChatMin)())},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToDebug]:function(){this._debugClicked()},[a.RouterEvent.ToCallSetup]:function(){this.transition(a.Route.CHAT_SETUP_CALL)}},[a.Route.CHAT_MIN]:{_onEnter:function(){this.trigger("route_change",a.Route.CHAT_MIN)},[a.RouterEvent.ToChat]:function(){this.transition(a.Route.CHAT)},[a.RouterEvent.ToCall]:function(){this.transition(a.Route.CHAT_CALL)},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ApiOpen]:function(){this._navToChatFromChatMin()},[a.RouterEvent.Navigate]:function(){this._navToChat()}},[a.Route.CHAT_SOCIAL]:{_onEnter:function(){this.trigger("route_change",a.Route.CHAT_SOCIAL)},[a.RouterEvent.Submit]:function(){this.transition(a.Route.LABEL)},[a.RouterEvent.ToChat]:function(){this.transition(a.Route.CHAT)},[a.RouterEvent.ToCall]:function(){this.transition(a.Route.CALL)},[a.RouterEvent.Cancel]:function(){this.transition(a.Route.CHAT)},[a.RouterEvent.CloseWindow]:function(){this.transition((0,y.getRouteChatMin)())},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToDebug]:function(){this._debugClicked()}},[a.Route.CHAT_CALL]:{_onEnter:function(){this.trigger("route_change",a.Route.CHAT_CALL)},[a.RouterEvent.Submit]:function(){this.trigger("submit_success")},[a.RouterEvent.ToCall]:function(){const e=C.getPrevRoute();e&&this.transition(-1===[a.Route.CHAT_MIN].indexOf(e)?e:a.Route.CHAT)},[a.RouterEvent.ToSocial]:function(){this.transition(a.Route.CHAT_SOCIAL)},[a.RouterEvent.Cancel]:function(){this.transition(a.Route.CHAT)},[a.RouterEvent.CloseWindow]:function(){this.transition((0,y.getRouteChatMin)())},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToChat]:function(){this._navToChat()},[a.RouterEvent.ToIntroduce]:function(){(0,m.shouldRedirectToIntroduce)()&&this.transition(a.Route.INTRODUCE)},[a.RouterEvent.ToDebug]:function(){this._debugClicked()}},[a.Route.CHAT_SETUP_CALL]:{_onEnter:function(){this.trigger("route_change",a.Route.CHAT_SETUP_CALL)},[a.RouterEvent.Cancel]:function(){this.transition(a.Route.CHAT)},[a.RouterEvent.Submit]:function(){this.transition(a.Route.CHAT)},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToDebug]:function(){this._debugClicked()},[a.RouterEvent.CloseWindow]:function(){(0,y.isChatMinAvailable)()?this.transition(a.Route.CHAT_MIN):this.transition(a.Route.LABEL)}},[a.Route.CALL]:{_onEnter:function(){this.trigger("route_change",a.Route.CALL)},[a.RouterEvent.Submit]:function(){this.trigger("submit_success")},[a.RouterEvent.CloseWindow]:function(){(0,y.isChatMinAvailable)()?this.transition(a.Route.CHAT_MIN):this.transition(a.Route.LABEL)},[a.RouterEvent.Hide]:function(){this.transition(a.Route.HIDDEN)},[a.RouterEvent.ToChat]:function(){this._navToChat()},[a.RouterEvent.ToDebug]:function(){this._debugClicked()}},[a.Route.CALL_POPUP]:{_onEnter:function(){this.trigger("route_change",a.Route.CALL_POPUP)},[a.RouterEvent.Submit]:function(){this.transition(a.Route.CALL)},[a.RouterEvent.CloseWindow]:function(){(0,y.isChatMinAvailable)()?this.transition(a.Route.CHAT_MIN):this.transition(a.Route.LABEL)}},[a.Route.DEBUG]:{_onEnter:function(){this.trigger("route_change",a.Route.DEBUG)},[a.RouterEvent.CloseWindow]:function(){this.transition((0,y.getRouteChatMin)())},[a.RouterEvent.ToChat]:function(){this._navToChat()},[a.RouterEvent.ToCall]:function(){g.platform.isMobileOrTablet?this.transition(a.Route.CALL):this.transition(a.Route.CHAT_CALL),(0,v.telemetry)("cw_online_header_button")}}}});t.Router=C,C.on("route_change",(e=>{if(s.appDispatchers.setAppRoute(e),(0,_.callUserFunction)("onChangeState",e),g.platform.isSafari&&!g.platform.isMobileOrTablet){const t=C.getPrevRoute();(e===a.Route.DEBUG&&t===a.Route.INTRODUCE||e===a.Route.INTRODUCE&&t===a.Route.DEBUG||e==a.Route.INTRODUCE&&t===a.Route.CHAT)&&setTimeout((()=>{const e=l.default.get(c.Component.WIDGET_CONTAINER);(0,u.updateKeyframes)(e,!0)}),50)}}))},13077:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.addPageView=function(){const e=i.default.get("pages_count");e?i.default.set("pages_count",parseInt(e)+1):i.default.set("pages_count",1)},t.checkCondition=A,t.checkTimeConditions=function(e,t,n){let r=!1;for(let o=0;o<e.length;o++)if(A(e[o],n))r=!0;else if("all"===t)return!1;return r},t.getCustomValue=t.getCondNames=void 0,t.getGoalValue=w,t.getPageUrlValue=O,t.getRuleLocal=C,t.getValue=T,t.hasOnceCondition=function(e){let t=!1;for(let n=0;n<e.length;n++){const r=e[n];if("once_a_day"==r.condition){t=r;break}}return t},t.initGoalClick=function(e){const t=(0,f.getPageWindow)().document;try{const n=t.querySelector(e);y.warn("initGoalClick",n);const r=()=>{const t=C("goalElementClick");y.warn("onGoalClick",t),t[window.btoa(e)]=e,E("goalElementClick",t)},o=s.platform.isMobileOrTablet&&s.platform.supports.touch?"touchstart":"click";n?(0,v.addListener)(n,o,r,!0):y.info(`Element with selector: "${e}" is not found on page.`)}catch(e){y.info("Error click element",e)}},t.isAllStaticChecked=function(e,t){const n=e.filter((e=>e.isChecked)),r=e.filter((e=>e.isStatic));return t===d.RuleType.ALL?r.length===n.length:Boolean(n.length)},t.isDefaultProactive=function(){if(!u.default.rules)return;const e=JSON.stringify([{value:!0,condition:d.RuleConditions.ONLINE},{value:10,condition:d.RuleConditions.TIME_ON_PAGE,comparator:"greater"},{value:120,condition:d.RuleConditions.TIME_AFTER_CLOSE,comparator:"greater"},{value:60,condition:d.RuleConditions.TIME_AFTER_INVITAION,comparator:"greater"}]);return u.default.rules.filter((t=>{if(t.conditions&&JSON.stringify(t.conditions)===e)return!0})).length>0},t.isGoalCondition=S,t.isPopupCommand=function(e){return-1!==[d.RuleTypes.PROACTIVE,d.RuleTypes.OPEN_OFFLINE,d.RuleTypes.SHOW_CALLFORM].indexOf(e)},t.isTimeCondition=function(e){return null==e?void 0:e.includes("time")},t.isYandexMarketClient=function(e){const t=1==a.default.get("visits_count"),n=i.default.get("pages_count")<10;return!s.platform.isMobileOrTablet&&t&&n&&-1!==["market","YM"].indexOf(e.source)&&"cpc"==e.medium},t.setInvitationTime=function(){i.default.set("invitation_time",(new Date).getTime())},t.setRuleLocal=E,t.timeDiff=D;var o=n(4425),i=r(n(66547)),a=r(n(73687)),s=n(31011),l=n(90061),u=r(n(96394)),c=n(69882),d=n(83907),f=n(45926),p=n(73422),g=n(82024),h=n(26683),m=n(66139),_=n(44145),v=n(21951);const y=(0,l.createLogger)("RuleManagerUtils"),b={scrollPosition:!1,movedToCloseButton:!1,firstMessageTime:null,pageEnterTime:(new Date).getTime(),prechatUseTime:null,lastUpdateProactiveEvent:null,lastContactApiData:null,sendStartupTime:null,isVisitorInvite:null,goalElementClick:{}};function C(e){if(e in b)return b[e]}function E(e,t){e in b&&(b[e]=t)}function D(e){return Math.round(((new Date).getTime()-e)/1e3)}function T(e){var t,n;const r=(0,c.getCurrentPage)().url,l=(new Date).getDay(),u=i.default.get("close_time"),f=i.default.get("invitation_time"),p=(0,_.getUserSettings)().chatMode,g=(0,_.getSystemSettings)().geoIp;switch(e){case d.RuleConditions.ONLINE:return p===o.ChatMode.ONLINE;case d.RuleConditions.PAGE_URL:return r.replace(/^http(s?):\/\//i,"");case d.RuleConditions.PAGE_TITLE:return(0,c.getCurrentPage)().title;case d.RuleConditions.HOUR:return(new Date).getHours();case d.RuleConditions.WEEK_DAY:return 0===l?7:l;case d.RuleConditions.TIME_AFTER_CLOSE:return u?D(u):Number.MAX_VALUE;case d.RuleConditions.TIME_AFTER_FIRST_MSG:return b.firstMessageTime?D(b.firstMessageTime.getTime()):NaN;case d.RuleConditions.TIME_AFTER_INVITAION:return null===f||""===f?Number.MAX_VALUE:D(f);case d.RuleConditions.TIME_ON_PAGE:return D(b.pageEnterTime);case d.RuleConditions.TIME_ON_SITE:return D(i.default.get("enter_ts"));case d.RuleConditions.NUMBER_OF_VISITS:return a.default.get("visits_count");case d.RuleConditions.PAGES_COUNT:return parseInt(i.default.get("pages_count"));case d.RuleConditions.COUNTRY:return null==g?void 0:g.split(";")[0];case d.RuleConditions.CITY:return(null==g?void 0:g.split(";")[2])||null;case d.RuleConditions.ONCE_A_DAY:return!0;case d.RuleConditions.UTM_SOURCE:return(null===(t=(0,_.getClient)().utm)||void 0===t||null===(n=t.source)||void 0===n?void 0:n.toLowerCase().trim().replace("/(|)/i",""))||d.UtmSource.DIRECT;case d.RuleConditions.DEVICE:return s.platform.isMobileOrTablet?d.DeviceType.MOBILE:d.DeviceType.DESKTOP;default:return i.default.get(e)}}function w(e){const t=e.condition,n=e.value,r=e.attr;switch(t){case d.RuleConditions.GOAL_CLOSE:return b.movedToCloseButton;case d.RuleConditions.GOAL_SCROLL:return b.scrollPosition;case d.RuleConditions.GOAL_CLICK:return!!n&&b.goalElementClick[window.btoa(n)];case d.RuleConditions.GOAL_CUSTOM_ATTR:return!!n&&I(r)}}function S(e){return null==e?void 0:e.includes("goal")}function O(e){const t=e.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/gi);if(t&&t.length){const n={href:e,hostname:t[0]};e=(0,c.getUnicodeHref)(n).replace(/http(|s):\/\//,"")}else e=e.replace(/http(|s):\/\//,"");return e}function A(e,t){const n=S(e.condition)?w(e):(0,g.isExternalDataCondition)(e)?(0,h.getExternalDataValue)(e):T(e.condition);e.condition===d.RuleConditions.PAGE_URL&&(e.value=O(e.value)),e.condition===d.RuleConditions.PAGES_COUNT&&(e.value=parseInt(e.value));const r=(0,m.compareCondition)(n,e.value,e.comparator);let o=`${t||""}; ${r?"success":"failed"}`;return o+=` condition ${e.condition}; comparator=${e.comparator}`,y.info(`${o}; expected=${e.value}; actual=${n}`),"once_a_day"==e.condition||r}const I=e=>{const t=(0,_.getClient)().customData;if(!t)return;const n=t.find((t=>t.key===e));return null==n?void 0:n.content};t.getCustomValue=I;t.getCondNames=e=>(0,p.isArray)(e)?e.map((e=>e.condition)).join(","):e},79868:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(96394)),i=n(90061),a=n(26932),s=r(n(73687)),l=n(31011),u=n(97615),c=n(44145),d=n(21951),f=n(45683),p=n(66434);const g=n(89766).EventEmitter,h=(0,i.createLogger)("Social"),m=new g;let _={vk:!1,fb:!1,mode:!1},v=null,y=!1;const b={getSocial(){return v||_},setPopupMode(e){v=e,_.mode=v,a.socialDispatchers.initializeSocialStore(_),m.emit("update",_)},getPopupMode(){return v},setSocial(e){return _=e,_},isLoginned(){return _.vk||_.fb},startSocials(){h.log("startSocials"),y||l.platform.isMobileOrTablet||!o.default.joint||!o.default.joint.vk&&!o.default.joint.fb||s.default.get("is_blacklisted")||(y=!0,this.initSocial(),(0,d.addListener)(window,"message",this.checkLogin.bind(this),!1))},initSocial(){const e=this.checkSocial();if(h.log("initSocial",e),e){const t=this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+o.default.locale,n=document.createElement("iframe");n.src=t,n.className="iframe-social",n.title="JivoSocial",document.body.appendChild(n)}},checkSocial(){if(!o.default.joint)return;let e="check";o.default.joint.vk&&!o.default.joint.fb&&(e="checkvk"),o.default.joint.fb&&!o.default.joint.vk&&(e="checkfb");const t=document.getElementsByClassName("check-iframe");return!(t&&t.length>0)&&(!(!o.default.joint.vk&&!o.default.joint.fb)&&e)},genSocialIframeUrl(e){h.log("getnSocialIframeUrl",e);const t=["mode="+e],n=(0,c.getClient)();o.default.joint.vk&&(t.push("vk_app_id="+o.default.joint.vk.app_id),t.push("vk_joint_id="+o.default.joint.vk.joint_id),t.push("vk_key="+this.genVkRandomKey())),o.default.joint.fb&&(t.push("fb_app_id="+o.default.joint.fb.app_id),t.push("fb_joint_id="+o.default.joint.fb.joint_id),t.push("fb_key="+n.clientId+"_"+o.default.widget_id)),t.push("logs="+(o.default.logs||0));const r=u.EnvironmentManager.isDevelopment()?"/public/social.html?":"/social.min.html?";return(0,f.getStaticURL)(r+t.join("&"))},genVkRandomKey(){return((0,c.getClient)().clientId+"="+o.default.widget_id).replace(/./g,(function(e){return e.charCodeAt(0).toString(16)}))},getIframeUrl(e){return this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+o.default.locale},checkLogin(e,t){if(h.log("checkLogin",e,t),e&&"object"==typeof e){if(t&&(e={data:{social:t}}),e.data&&e.data.social){const t={},n=e.data.social;return n.fb&&(t.fb=!0,t.vk=!1,t.mode="fb",(0,p.telemetry)("social_show_facebook",void 0,{once:!0})),n.vk&&(t.vk=!0,t.fb=!1,t.mode="vk",(0,p.telemetry)("social_show_vk",void 0,{once:!0})),n.fb||n.vk||(t.vk=!1,t.fb=!1,t.mode="email"),_={vk:t.vk,fb:t.fb,mode:t.mode},m.emit("update",_),a.socialDispatchers.initializeSocialStore(_),t}}else h.log("postMessage from social failed: ",e)}};var C=Object.assign(m,b);t.default=C},44145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentById=l,t.getAgentIdsByStatus=function(e){return a().reduce(((t,n)=>(n.state===e&&t.push(n.id),t)),[])},t.getAgentMessages=f,t.getAgents=a,t.getApp=function(){return r.reduxStore.getState().app},t.getBotById=function(e){return s().find((t=>t.id===e&&t.isBot))},t.getBotIdsByStatus=function(e){return s().reduce(((t,n)=>(n.state===e&&t.push(n.id),t)),[])},t.getBots=s,t.getCallback=function(){return r.reduxStore.getState().callback},t.getCallbackSettings=function(){return r.reduxStore.getState().settings.user.callback},t.getCampaignWidgetSettings=function(){return r.reduxStore.getState().settings.campaignWidget},t.getChatById=function(e){return u().find((t=>t.id===e))},t.getChats=u,t.getClient=function(){return r.reduxStore.getState().client},t.getClientMessages=d,t.getFeatures=function(){return r.reduxStore.getState().settings.features},t.getJoinedAgents=function(){const e=[],t=u();if(t&&t.length>0){const n=t[t.length-1];n.joinedAgents.forEach((t=>{e.push(l(t))}))}return e},t.getLastChatId=function(){const e=f(c()),t=d(c()),n=e.length?e[e.length-1].chat_id:null,r=t.length?t[t.length-1].chat_id:null;return r>n?r:n},t.getLastClientMessage=function(){const e=d(c());return e[e.length-1]},t.getLastMessageByName=function(e){const t=g(c(),e);return t[t.length-1]},t.getLastMessageByType=function(e){const t=p(c(),e);return t[t.length-1]},t.getMessageById=function(e){return c().find((t=>t.msg_id===e))},t.getMessageByPrivateId=function(e){return c().find((t=>t.private_id===e))},t.getMessages=c,t.getMessagesByName=g,t.getMessagesByType=p,t.getPosition=function(){return r.reduxStore.getState().position},t.getProactive=function(){return r.reduxStore.getState().proactive},t.getSettings=function(){return r.reduxStore.getState().settings},t.getState=function(){return r.reduxStore.getState()},t.getSystemSettings=function(){return r.reduxStore.getState().settings.system},t.getSystemUnread=function(){return c().filter((e=>e.from===o.MessageInitiator.AGENT&&e.status!==o.MessageStatus.READ&&(0,i.isAgentSystemMessage)(e.type)))},t.getTemporaryMessages=void 0,t.getTransition=function(){return r.reduxStore.getState().transition},t.getUnreadMessages=function(){return c().filter((e=>[o.MessageInitiator.AGENT,o.MessageInitiator.AGENT_BOT].includes(e.from)&&![o.MessageStatus.READ,o.MessageStatus.SEEN,o.MessageStatus.DELETED].includes(e.status)&&e.type!==o.MessageType.FOR_TEST&&!(0,i.isAgentSystemMessage)(e.type)))},t.getUserSettings=function(){return r.reduxStore.getState().settings.user},t.getZoom=function(){return r.reduxStore.getState().zoom};var r=n(62096),o=n(81152),i=n(79814);function a(){return r.reduxStore.getState().agents}function s(){return r.reduxStore.getState().bots}function l(e){return a().find((t=>t.id===+e))}function u(){return r.reduxStore.getState().chats}function c(){return r.reduxStore.getState().messages}function d(e){return e.filter((e=>e.from===o.MessageInitiator.CLIENT))}function f(e){return e.filter((e=>e.from===o.MessageInitiator.AGENT))}function p(e,t){return e.filter((e=>e.type===t))}function g(e,t){return e.filter((e=>{var n;return(null===(n=e.body)||void 0===n?void 0:n.name)===t}))}t.getTemporaryMessages=()=>c().filter((e=>e.type===o.MessageType.TEMPORARY&&e.from===o.MessageInitiator.CLIENT))},2982:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateKeyframes=t.setProperty=t.saveLabelPosition=t.jivoCustomCSSProperty=t.isFallbackNeeded=t.getSavedLabelPosition=t.getProperty=void 0;var o=r(n(61125)),i=n(90061),a=n(31011),s=n(73422);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const u=(0,i.createLogger)("TransitionUtils"),c=e=>`--j${e}`;t.jivoCustomCSSProperty=c;const d=(e,t)=>t&&t.style?f()?t.style[e]:t.style.getPropertyValue(c(e)):null;t.getProperty=d;t.setProperty=(e,t,n)=>{f()?n.style[e]=t:n.style.setProperty(c(e),t)};t.updateKeyframes=(e,t)=>{if(a.platform.supports.webAnimationsAPI){const n=d("height",e),r=d("left",e),o=d("right",e),i=e&&e.getAnimations()[0];if(a.platform.isSafari&&(a.platform.os.safariVersion>="15.4"||!i.effect.composite)&&!t)return;const s=i&&i.effect.getKeyframes(),l=s&&s[s.length-1];u.log("updateKeyframes",i),l&&(l.height=n,l.left=r,l.right=o,i.effect.setKeyframes(s),i.currentTime=300)}};const f=()=>!a.platform.supports.cssVariables||a.platform.isEdge||a.platform.isSafari&&(!a.platform.supports.webAnimationsAPI||a.platform.os.version<"15"&&!a.platform.isMobileOrTablet);t.isFallbackNeeded=f;let p={};t.saveLabelPosition=e=>{p={right:e.right?e.right+"px":null,left:e.left?e.left+"px":null,offsetWidth:e.offsetWidth?e.offsetWidth+"px":null},(0,s.isString)(e.right)&&e.right.includes("%")&&(p.right=e.right)};t.getSavedLabelPosition=()=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p)},56026:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(54415),s=r(n(8117));let l=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"decode",value:function(e){try{return s.default.decodeString(e)}catch(e){e.message+=" UTMDecoder",a.Monitoring.reportException(e)}return e}}]),e}();t.default=l},66139:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareCondition=function(e,t,r){switch(r){case"contain":return n(e,t);case"greater":return e>t;case"greater_equal":return e>=t;case"lower":return e<t;case"lower_equal":return e<=t;case"not_contain":return!n(e,t);case"not_equal":return t!=e;case"regexp":return new RegExp(t,"i").test(e);case"empty":return null===e;default:return t==e}};const n=(e,t)=>!(!e||!t)&&-1!==(null==e?void 0:e.toLowerCase().indexOf(null==t?void 0:t.toLowerCase()))},625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getZoom=void 0;var r=n(31011),o=n(69882);t.getZoom=e=>r.platform.isChatPage?"none":(0,o.isWixContext)()?1:e},41168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCallDefaultError=void 0;var r=n(18276);t.getCallDefaultError=()=>`${(0,r.l10n)("cw_unableToConnect")}\n${(0,r.l10n)("cw_errInfoText")}`},91763:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.lazyLoaderFactory=void 0,t.lazyRetry=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return new Promise(((o,i)=>{t().then(o).catch((a=>{setTimeout((()=>{1!==n?e(t,n-1,r).then(o,i):i(a)}),r)}))}))};var o=r(n(23101)),i=r(n(67375)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(98661));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const l=(0,n(90061).createLogger)("Lazy loader");t.lazyLoaderFactory=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};function r(r){const s=(0,a.useState)(!0),u=(0,i.default)(s,2),c=u[0],d=u[1],f=(0,a.useCallback)((()=>d(!0)),[]),p=r.lazyErrorProps||{},g=r.lazyLoaderProps||{},h=(0,a.useMemo)((()=>a.default.lazy((()=>e().catch((e=>(l.error("Lazy error:",e),d(!1),()=>a.default.createElement(n,(0,o.default)({},p,{onRetry:f})))))))),[c,f]);return h.displayName="LazyLoader",a.default.createElement(a.Suspense,{fallback:a.default.createElement(t,g)},a.default.createElement(h,r))}return r.displayName="LazyLoader",r}},21951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addListener=void 0,t.listenVisibility=function(e){const t=(0,r.debounce)(e,50);let n,o;void 0!==document.hidden?(o="visibilitychange",n="visibilityState"):void 0!==document.mozHidden?(o="mozvisibilitychange",n="mozVisibilityState"):void 0!==document.msHidden?(o="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(o="webkitvisibilitychange",n="webkitVisibilityState");"addEventListener"in document&&void 0!==o&&(document.addEventListener(o,t.bind(this,n),!1),parent.document.addEventListener(o,t.bind(this,n),!1),parent.document.addEventListener("focus",t.bind(this,n),!1),parent.document.addEventListener("blur",t.bind(this,n),!1),parent.window.addEventListener("focus",t.bind(this,n),!1),parent.window.addEventListener("blur",t.bind(this,n),!1))},t.removeEvent=void 0;var r=n(47361),o=n(31011);t.addListener=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i;e.addEventListener?e.addEventListener(t,n,!!o.platform.supports.passive&&{passive:r}):e.attachEvent&&(e.attachEvent("on"+t,(i=e,function(){n.call(i,window.event)})),e=null)};t.removeEvent=(e,t,n)=>{if(window.removeEventListener)e.removeEventListener(t,n,!1);else{if(!window.detachEvent)return!1;{const r=function(){n.call(e)};e.detachEvent("on"+t,r)}}}},68403:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.showAd=t.isPaidCustomer=t.isJivoSite=t.isChatContactForm=t.isAnalyticsDisabled=t.hasIntegration=void 0;var o=r(n(96394)),i=n(9550);t.showAd=()=>!(o.default.unverified||o.default.options&&o.default.hide_ad);t.isPaidCustomer=()=>16&o.default.options;t.hasIntegration=e=>-1!==["vk","fb","sb"].indexOf(e);t.isChatContactForm=()=>-1!==[i.ContactsType.DURING_CHAT,i.ContactsType.DURING_CHAT_NO_CLOSE].indexOf(o.default.contacts_ask);t.isAnalyticsDisabled=()=>!!o.default.disable_analytics;t.isJivoSite=()=>1===o.default.site_id},16016:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSubstrTitle=t.getRandomString=t.generateGUIDCount=t.generateGUID=t.formatTextLen=void 0;const n=()=>{const e=Math.floor(65536*Math.random()).toString(16);return 4===e.length?e:n()};t.getRandomString=n;t.generateGUID=()=>{const e=n;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};t.generateGUIDCount=e=>{let t="";for(;e--;)t+=n();return t};t.setSubstrTitle=e=>e.substring(0,255);t.formatTextLen=(e,t)=>e.length>t?e.substr(0,t)+"...":e},80598:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeColor=t.getTextSize=t.getTextColor=t.getPowerButtonDesktopPosition=t.getMobileBackgroundColor=t.getLineHeight=t.getBackground=void 0;var o=n(31011),i=n(69882),a=r(n(27104)),s=n(36874);t.getTextSize=e=>{if(o.platform.isIos&&(0,i.isWixContext)())return"normal";let t=null;return o.platform.isIos?(1!==e&&(t=100*e+"%"),t||"none"):t};t.getLineHeight=(e,t)=>{let n=null;return 1!==t&&(n=(e||1.25)/t+"em"),n};t.getTextColor=e=>"dark"==e?"#222222":"#F0F1F1";t.getThemeColor=e=>{switch(e){case"grey":return s.colorsFromFigma.STEEL_80;case"blue":return s.colorsFromFigma.BLUE_90;default:return s.colorsFromFigma.GREEN_90}};t.getBackground=(e,t,n,r,o)=>{let i=a.default.getGradientBg(e,t);return o&&(i=l(n,r,i)),i};const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#44BB6E",n=arguments.length>2?arguments[2]:void 0;return e?n:t};t.getMobileBackgroundColor=l;t.getPowerButtonDesktopPosition=(e,t)=>{const n=+t;return"right"!==e&&"bottom"!==e||50!==n&&100!==n?"left":"right"}},67597:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.validateCustomDataLink=t.replaceServicezoneURL=t.replaceServicezoneTitle=t.isServicezoneURL=t.getTgLink=t.getBundleSrc=t.fixUrl=t.fixTitle=void 0;var o=n(97615),i=r(n(96394)),a=n(22271),s=n(51542),l=n(2491),u=n(68403);t.validateCustomDataLink=(e,t)=>(0,l.isValidHttpURL)(e,(e=>{const n=(0,l.getURL)(t);return n&&e.origin.includes(n.origin)}));t.getBundleSrc=()=>(o.EnvironmentManager.isDevelopment()?"/public/js/bundle":i.default.base_url+"/js/bundle")+".js?rand="+i.default.build_number;t.fixUrl=e=>{const t=i.default.shard_id;return(0,u.isJivoSite)()||!c(e)?e:t===s.Shards.SBER?d(e,"https://jivo.ru"):d(e,"https://jivochat.com")};t.fixTitle=(e,t)=>{const n=i.default.shard_id;return(0,u.isJivoSite)()||!c(t)?e:n===s.Shards.SBER?f(e,"Jivo"):f(e,"JivoChat")};const c=e=>a.Regexp.SERVICEZONE_DOMAIN.test(e);t.isServicezoneURL=c;const d=(e,t)=>e.replace(e,t);t.replaceServicezoneURL=d;const f=(e,t)=>e.replace(e,t);t.replaceServicezoneTitle=f;t.getTgLink=e=>{if(e){if("RU"===e.split(";")[0])return"tg://resolve/?domain="}return"https://t.me/"}},84727:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.validateCustomData=t.validateClientAnswer=void 0;var o=r(n(15687)),i=n(90061),a=n(2491),s=r(n(98960)),l=n(67597);const u=(0,i.createLogger)("validators",{style:"color: grey",parentContext:!0});t.validateCustomData=(e,t)=>{if(!Array.isArray(e))return"Data must be array.";if(0===e.length)return"Data limit error, data length must be 1 to 10.";e.length>10&&(e.splice(10),u.warn("Data limit warning, data length must be 1 to 10."));const n=(e,t)=>{u.warn(`Item ${t} in setCustomData: ${e}.`)};return e.reduce(((e,r,i)=>{if("string"!=typeof r.content)return n("Property content must be string",i),e;r.link&&(t&&(0,a.isValidHttpURL)(r.link)?(0,l.validateCustomDataLink)(r.link,t)||(n("Such link is not allowed",i),delete r.link):(n("Safe url is not indicated",i),delete r.link));const s=((e,t)=>(r,o)=>{const i=e[r];return"string"==typeof i&&i.length>o?(n(`Max length for ${r} property is ${o}`,t),i.slice(0,o)):i})(r,i);return r.content=s("content",255),r.title=s("title",255),r.key=s("key",1e3),[].concat((0,o.default)(e),[r])}),[])};t.validateClientAnswer=(e,t)=>{if(!t||!e)return!1;const n=String(t).trim();return"email"==e?s.default.emailBot(n):"phone"==e?s.default.phone(n):"name"==e?s.default.name(n):void 0}},69882:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isWixIframe=t.isWixEditor=t.isWixContext=t.isTextEmojiDisabled=t.isAppCobrowse=t.getUnicodeHref=t.getCurrentPage=t.getChatPageToken=t.deleteNonce=void 0;var o=n(45926),i=r(n(50754)),a=n(31011),s=n(67597);t.isAppCobrowse=()=>"cobrowser-iframe"===(0,o.getPageWindow)().name;t.deleteNonce=()=>{(0,o.getPageWindow)().jivo_cspNonce&&delete(0,o.getPageWindow)().jivo_cspNonce};t.isWixIframe=()=>void 0!==(0,o.getPageWindow)().jivo_in_wix_iframe;const l=()=>{const e=(0,o.getPageWindow)().wix_context;return e&&e.Utils&&e.Utils.getViewMode()};t.isWixContext=l;t.isWixEditor=()=>{const e=l();return!!e&&-1!==["preview","editor"].indexOf(e)};const u=e=>{try{const t=e.hostname;return e.href.replace(t,i.default.toUnicode(t))}catch(t){return e.href}};t.getUnicodeHref=u;t.getCurrentPage=()=>{const e=(0,o.getPageWindow)();let t=e.location.href,n=(0,o.getDocumentTitle)();const r=-1!==t.indexOf("about:");return""==n&&r&&(n=e.parent.document.title),t=u(r?e.parent.location:e.location),l()&&(t=e.wix_url||t,n=e.wix_title||n),{url:(0,s.fixUrl)(t),title:(0,s.fixTitle)(n.substring(0,255),t)}};t.isTextEmojiDisabled=()=>{const e=(0,o.getPageWindow)();return e._wpemojiSettings||e.twemoji};t.getChatPageToken=()=>{if(a.platform.isChatPage){let e=null;try{const t=new URLSearchParams((0,o.getPageWindow)().location.search).get("token");t&&(e=decodeURIComponent(t))}catch(e){console.error(e)}return e}return null}},45430:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(61125)),i=r(n(33119)),a=r(n(92664));n(95020);var s=n(52274),l=r(n(95003)),u=n(18276),c=r(n(14264)),d=r(n(23116)),f=n(21951),p=n(69882),g=n(9393),h=n(47361),m=r(n(56026)),_=n(32183),v=n(52028),y=n(97490),b=n(26022),C=r(n(22866)),E=n(13077),D=r(n(66547)),T=r(n(73687)),w=n(26932),S=n(50402),O=n(44145),A=n(97615),I=r(n(35802)),k=n(90061),M=n(41504),x=n(8717),P=n(49963),R=n(45926),F=n(74619),L=n(31011),j=n(83425),N=n(66434);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const W=(0,k.createLogger)("VI"),H=["purl","ptitle","navcount","visible","status"];let z=function(){function e(){(0,i.default)(this,e),this.ifNeedConnect()?(w.appDispatchers.setVIReconnectTime(null),this.changeCurrentKeysFn=(0,h.debounce)(this.changeCurrentKeys.bind(this),100),(0,_.pageVisible)()?setTimeout(this.init.bind(this),1e3):(0,f.listenVisibility)(this.onVisibilityChange.bind(this))):W.log("not initialized"),this.inited=!1}return(0,a.default)(e,[{key:"onVisibilityChange",value:function(){(0,_.pageVisible)()&&!this.inited&&(this.changeCurrentKeysFn(),this.init(),this.inited=!0)}},{key:"ifNeedConnect",value:function(){const e=(0,O.getApp)(),t=e.isOnline,n=e.route,r=e.viReconnectTime,o=e.maintenance,i=(0,O.getSystemSettings)().botmode,a=(0,O.getUserSettings)().hideOffline,s=(0,O.getFeatures)(),l=s.newVisitorsInsight,u=s.disableMobile;return l&&!o&&!i&&!T.default.get("is_blacklisted")&&!(0,p.isWixEditor)()&&!v.isDesignerEditor&&!(0,p.isAppCobrowse)()&&!(!t&&a)&&!(n===y.Route.HIDDEN)&&!(u&&L.platform.isMobileOrTablet)&&(!r||(new Date).getTime()>r)}},{key:"init",value:function(){if(this.openConnection()){if(W.log("start init"),this.net.onopen=this.connectionOnOpen.bind(this),this.net.onget=this.onget.bind(this),this.net.onset=this.onset.bind(this),this.net.onclose=this.connectionOnClosed.bind(this),this.net.onerror=this.connectionOnError.bind(this),this.net.onfail=this.connectionOnFail.bind(this),this.net.ondrop=this.connectionOnDrop.bind(this),this.cacheCurrentKeys=this.getAllCurrentKeys(),l.default.addListener(this.changeCurrentKeysFn),I.default.getInstance().reduxStore.subscribe((()=>{(0,O.getApp)().route===y.Route.HIDDEN&&this.closeConnection(),this.changeCurrentKeysFn()})),c.default.on("create",this.changeCurrentKeysFn),d.default.addListener("update",(0,h.debounce)(this.checkClientAway.bind(this),s.AWAY_CLIENT_TIMEOUT)),(0,p.isWixContext)()){const e=(0,R.getPageWindow)().wix_context;e.addEventListener(e.Events.PAGE_NAVIGATION,this.changeCurrentKeysFn)}(0,f.listenVisibility)((()=>{this.changeCurrentKeysFn(),(0,_.pageVisible)()&&this.openConnection()})),(0,O.getFeatures)().enableSpaNavigate&&new F.Observer({onTitleChange:this.changeCurrentKeysFn,onUrlChange:this.changeCurrentKeysFn})}}},{key:"checkClientAway",value:function(){d.default.isActive||(0,_.pageVisible)()||!this.isConnected||this.net.close()}},{key:"getURL",value:function(){const e=(0,O.getClient)(),t=(0,O.getSystemSettings)(),n=t.widgetId,r=t.viHost;return`${A.EnvironmentManager.isProduction()||"https:"===(0,R.getProtocol)()?"wss":"ws"}://${r}/${n}?${e.visitorId}`}},{key:"openConnection",value:function(){return this.isConnected||!this.ifNeedConnect()?(W.log("cant open connection"),!1):(this.net||(this.net=new ClientSocket),this.net.open(this.getURL()),!0)}},{key:"closeConnection",value:function(){W.log("close connection"),this.isConnected&&this.net&&this.net.close()}},{key:"connectionOnOpen",value:function(){W.log("connection open"),this.isConnected=!0,this.sendDynamicKeys(),this.changeCurrentKeysFn()}},{key:"connectionOnClosed",value:function(e){this.isConnected=!1,W.log("connection close: ",e)}},{key:"connectionOnError",value:function(e){W.error("connection error: ",e)}},{key:"connectionOnFail",value:function(e){(0,N.telemetry)("visitors_fail",{param1:e})}},{key:"connectionOnDrop",value:function(e){0!==e&&(w.appDispatchers.setVIReconnectTime((new Date).getTime()+e),W.log("connection drop: ",e/1e3+"s"),setTimeout((()=>{j.ConfigUtils.reloadConfig(this.openConnection.bind(this))}),e))}},{key:"getKeys",value:function(e){const t=(0,R.getPageWindow)(),n=(0,O.getApp)(),r=(0,O.getClient)(),o={name:()=>r.name,phone:()=>r.phone,email:()=>r.email,desc:()=>r.description,purl:()=>(0,p.isWixContext)()?t.wix_url:(new m.default).decode((0,p.getCurrentPage)().url),ptitle:()=>{let e=(0,p.getCurrentPage)().title;return e===(0,u.l10n)("lblNewMessage")&&(e=this.cacheCurrentKeys&&this.cacheCurrentKeys.ptitle),(0,p.isWixContext)()?t.wix_title:e},cid:()=>r.clientId?r.clientId.split(".")[0]:null,utm:()=>{const e=U(U(U(U(U(U({},r.utm.campaign&&{campaign:r.utm.campaign}),r.utm.source&&{source:r.utm.source}),r.utm.medium&&{medium:r.utm.medium}),r.utm.keyword&&{keyword:r.utm.keyword}),r.utm.term&&{keyword:r.utm.term}),r.utm.content&&{content:r.utm.content});return JSON.stringify(e)},status:()=>{let e;const t=!c.default.getCurrentChatAgentMessages().length&&c.default.getCurrentClientMessages().length;e=n.chatStarted?n.chatAccepted?b.ClientStatus.ON_CHAT:n.isOnline?P.connectionAdapter.isConnected()&&t?b.ClientStatus.INVITE_SENT:b.ClientStatus.ON_SITE:P.connectionAdapter.isConnected()&&t&&n.lastChatOpened?b.ClientStatus.INVITE_SENT:b.ClientStatus.ON_SITE:(0,O.getProactive)().text?b.ClientStatus.PROACTIVE_SHOW:b.ClientStatus.ON_SITE;const r=(0,O.getCallback)().status;return r&&-1!==["cw_wait","cw_connecting","cw_connected"].indexOf(r)&&(e=b.ClientStatus.ON_CALL),e==b.ClientStatus.INVITE_SENT&&P.connectionAdapter.isConnected()&&!t&&(0,N.telemetry)("vi_status_fail",{param1:"no_client_message",param2:n.chatAccepted?"1":"0"},{once:!0}),e},navcount:()=>D.default.get("pages_count"),visits:()=>T.default.get("visits_count"),chats:()=>c.default.getChatCounts(),visible:()=>(0,_.pageVisible)(),opened:()=>{const e=n.route;return!(0,x.isChatClosedRoute)(e)},agentids:()=>{const e=n.chatAccepted;return JSON.stringify(e?(0,O.getAgentIdsByStatus)("join"):[])},botids:()=>{const e=n.chatAccepted;return JSON.stringify(e?(0,O.getBotIdsByStatus)("join"):[])},pa_id:()=>r.priorityAgentId,avatar:()=>r.avatarUrl,wversion:()=>A.EnvironmentManager.getVersion(),cdata:()=>{const e=r.customData;return e?JSON.stringify(e):null}};return e?o[e]&&o[e]():Object.keys(o)}},{key:"getAllCurrentKeys",value:function(){const e={};return(0,g.each)(this.getKeys(),(t=>{e[t]=this.getKeys(t)})),e}},{key:"changeCurrentKeys",value:function(){const e=this.getAllCurrentKeys();this.isConnected&&JSON.stringify(this.cacheCurrentKeys)!==JSON.stringify(e)&&(0,g.each)(this.getKeys(),(t=>{const n=e[t];this.cacheCurrentKeys[t]!==n&&this.set(t,n)}))}},{key:"sendAllKeys",value:function(e,t){(0,g.each)(this.getKeys(),(n=>{this.cacheCurrentKeys[n]||(this.cacheCurrentKeys[n]=this.getKeys(n));const r=this.cacheCurrentKeys[n];r&&this.net.set({room:t,to:e,key:n,value:r})}))}},{key:"sendDynamicKeys",value:function(){(0,g.each)(H,(e=>{this.set(e,this.getKeys(e))}))}},{key:"set",value:function(e,t,n,r){if(this.isConnected&&null!=t){this.cacheCurrentKeys[e]=t;const o={key:e,value:t};r&&(o.room=r),n&&(o.to=n),C.default.getInstance().saveViEvent(o),this.net.set(o)}}},{key:"onget",value:function(e){C.default.getInstance().saveViEvent(e),"*"===e.key||"all"===e.key?(this.sendAllKeys(e.from,e.room),(0,g.each)({startsec:()=>{const e=D.default.get("enter_ts");return e&&(0,E.timeDiff)(e)}},((t,n)=>{t()&&this.set(n,t(),e.from,e.room)}))):this.getKeys(e.key)&&this.set(e.key,this.getKeys(e.key),e.from,e.room)}},{key:"onset",value:function(e){const t=(0,O.getApp)(),n=t.isOnline,r=t.route;C.default.getInstance().saveViEvent(e),"invite"!==e.key||this.isInvited||(n||(0,x.isChatClosedRoute)(r)&&(w.transitionDispatchers.startTransition(S.ScriptName.OPEN_WIDGET),w.appDispatchers.setAppRoute(y.Route.CHAT)),P.connectionAdapter.checkConnection((()=>P.connectionAdapter.sendEvent(new M.StartChat(e.value)))),this.isInvited=!0,setTimeout((()=>{this.isInvited=!1}),s.APP_INVITE_TIME),(0,N.telemetry)("visitors_invite",{param1:parseInt(e.value)}),(0,E.setRuleLocal)("isVisitorInvite"))}}]),e}();var G={run:function(){const e=(0,O.getClient)();W.log("run",e.visitorId),0!=e.visitorId?new z:(0,N.telemetry)("visitors_fail",{param1:"visitorId = 0"})}};t.default=G},95911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xhrRequest=t.promisedRequest=void 0;var r=n(6693),o=n(54415),i=n(80210),a=n(82956),s=n(73422);const l={body:null,headers:{},responseType:"json",timeout:1e4,withCredentials:!1,validateStatus:e=>e>=200&&e<300,onTimeout:null,onUpload:null,onDownload:null},u=(e,t)=>t&&(0,s.isObject)(t.params)?e+=`?${i.querystring.create(t.params)}`:e,c=e=>((e=Object.assign({},l,e)).body&&(e.headers["Content-Type"]===r.CONTENT_TYPE.X_WWW_FORM?e.body=(0,s.isObject)(e.body)?i.querystring.create(e.body):JSON.stringify(e.body):e.headers["Content-Type"]===r.CONTENT_TYPE.APP_JSON&&(e.body=JSON.stringify(e.body))),e),d=(e,t,n)=>(r,i)=>{!r||"SyntaxError"!==r.name||null!=t&&t.monitoring||o.Monitoring.reportException(`Error parsing response from ${e}. ${r.message}`),n(r,i)},f=(e,t,n)=>({url:u(e,t),options:c(t),callback:n&&d(e,t,n)}),p=e=>(t,n,r)=>{const o=f(t,r,n);return(0,a.xhr)(o.url,e,o.options,o.callback)},g=e=>(t,n)=>{const r=f(t,n);return(0,a.xhrPromised)(r.url,e,r.options)},h={get:p(r.METHODS.GET),post:p(r.METHODS.POST),head:p(r.METHODS.HEAD),put:p(r.METHODS.PUT)};t.xhrRequest=h;const m={get:g(r.METHODS.GET),post:g(r.METHODS.POST),put:g(r.METHODS.PUT),head:g(r.METHODS.HEAD)};t.promisedRequest=m},98960:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={phone:e=>e.length>0&&e.trim().replace(/\D+/g,"").length>=5&&/^\+?[0-9() -]+$/i.test(e),client_name:e=>{const t=e.trim();return t.length>0&&t.length<100},name:e=>{const t=e.trim();return t.length>0&&t.length<100},email:e=>e.length>=4&&new RegExp(/^([a-zA-Z\d-_]+([+.][a-zA-Z\d-_]+)*)@(([a-zA-Z\d][a-zA-Z\d-_.]*[a-zA-Z\d])|([a-zA-Z\d]))\.([a-zA-Z\d]{2,})$/i).test(e),emailBot:e=>e.length>=4&&new RegExp(/^([a-zA-Z\d\-_+!]+(\.[a-zA-Z\d\-_+!]+)*)@(([a-zA-Z\d-]+\.)+[a-zA-Z\d]{2,})$/i).test(e),message:e=>e.trim().length>0,description:e=>e.trim().length>0,textarea:e=>e.trim().length>0};t.default=n},74379:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=n(9393),s=n(32183),l=n(52274),u=n(90061),c=n(73262),d=n(21951),f=n(69882),p=n(75998),g=n(31011),h=n(45926);const m=(0,u.createLogger)("SiteConnector");var _=new(function(){function e(){(0,o.default)(this,e),this.window=(0,h.getPageWindow)(),this.screen=this.window.screen?this.window.screen:window.screen,this.document=this.window.document,this.bodyEl=this.document.body,this.documentEl=this.document.documentElement,this.scrollEl=this.document.scrollingElement||this.documentEl,this.pageZoom=null,this.userZoom=null,this.appZoom=null,this.isSiteOptimizedForMobile=!1,this.isWidgetOnWix=!1,this.changeZoomSubscription=[],this.checkZoomsFn=(0,c.throttle)((()=>{this.checkZooms()}),200,{trailing:!0}),!g.platform.isMobileOrTablet||(0,f.isWixContext)()&&!g.platform.isAndroid||(this.checkViewport(),this.initListenChangeZooms())}return(0,i.default)(e,[{key:"initListenChangeZooms",value:function(){(0,d.addListener)(this.window,"scroll",this.checkZoomsFn,!0),(0,d.addListener)(this.window,"resize",this.checkZoomsFn,!0),(0,d.addListener)(this.window,"orientationchange",this.checkZoomsFn),this.window.visualViewport&&this.window.visualViewport.addEventListener&&((0,d.addListener)(this.window.visualViewport,"scroll",this.checkZoomsFn,!0),(0,d.addListener)(this.window.visualViewport,"resize",this.checkZoomsFn,!0))}},{key:"setZoomChangeIterval",value:function(e){e!==this.intervalTime&&(clearInterval(this.intervalId),this.intervalTime=e,this.intervalId=setInterval(this.checkZoomsFn,e))}},{key:"checkZooms",value:function(){const e=this.getUserZoom(),t=this.getPageZoom(),n=this.getAppZoom();e===this.userZoom&&t===this.pageZoom&&n===this.appZoom||(m.log("zoom:",e,t,n),this.userZoom=e,this.pageZoom=t,this.appZoom=n,p.zoomDispatch.setZoomSettings({user:this.userZoom,page:this.pageZoom,app:this.appZoom}),this.triggerChangeZoom())}},{key:"checkViewport",value:function(){const e=this.document.querySelector("meta[name=viewport]");if(e&&e.content){const t=e.getAttribute("content").toLowerCase().split(","),n=e.getAttribute("id");for(let e=0;e<t.length;e++){t[e]=t[e].replace(/^\s+/,"");const r=t[e].split("=");"width"==r[0]&&"device-width"===r[1]&&(this.isSiteOptimizedForMobile=!0),"width"!=r[0]||"device-width"===r[1]||"wixMobileViewport"!=n||this.window.isWixIframe||(this.isWidgetOnWix=!0)}}}},{key:"triggerChangeZoom",value:function(){(0,a.each)(this.changeZoomSubscription,(e=>{e({userZoom:this.userZoom,pageZoom:this.pageZoom,appZoom:this.appZoom})}))}},{key:"blockScroll",value:function(){(0,s.addClass)(this.bodyEl,"jivo-block-scroll"),(0,d.addListener)(this.window,"scroll",this.preventDefault),(0,d.addListener)(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(this.window.visualViewport.addEventListener("scroll",this.preventDefault),this.window.visualViewport.addEventListener("resize",this.preventDefault))}},{key:"unblockScroll",value:function(){(0,s.removeClass)(this.bodyEl,"jivo-block-scroll"),(0,d.removeEvent)(this.window,"scroll",this.preventDefault),(0,d.removeEvent)(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.removeEventListener&&(this.window.visualViewport.removeEventListener("scroll",this.preventDefault),this.window.visualViewport.removeEventListener("resize",this.preventDefault))}},{key:"addOverlay",value:function(){(0,s.addClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"removeOverlay",value:function(){(0,s.removeClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"blockSite",value:function(){if(void 0!==this.blockState)return;const e=this.scrollEl.scrollTop;this.resetScrollPositions(),(0,s.addClass)(this.documentEl,"jivo-site-full-block"),this.scrollEl.scrollTop=e,g.platform.isTablet&&setTimeout((()=>{(0,s.addClass)(this.documentEl,"jivo-tablet-overlay")}),300),this.blockState=!0}},{key:"unblockSite",value:function(){(0,s.removeClass)(this.documentEl,"jivo-site-full-block"),(0,s.removeClass)(this.documentEl,"jivo-tablet-overlay"),this.restoreScrollPositions(),delete this.blockState}},{key:"resetScrollPositions",value:function(){this.scrollEl&&(this.originalScrollTop=this.scrollEl.scrollTop,this.originalScrollLeft=this.scrollEl.scrollLeft,this.scrollEl.scrollTop=0,this.scrollEl.scrollLeft=0)}},{key:"restoreScrollPositions",value:function(){this.scrollEl&&(this.originalScrollTop&&(this.scrollEl.scrollTop=this.originalScrollTop),this.originalScrollLeft&&(this.scrollEl.scrollLeft=this.originalScrollLeft),delete this.originalScrollTop,delete this.originalScrollLeft)}},{key:"preventDefault",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"getUserZoom",value:function(){let e=this.documentEl.clientWidth/this.window.innerWidth;const t=this.window.visualViewport;if(t&&1!==t.scale){const n=this.getPseudo().clientWidth;e=this.documentEl.clientWidth<n?n/t.width:this.documentEl.clientWidth/t.width}return!this.isSiteOptimizedForMobile&&e>=.97&&e<=l.MAX_ALLOWED_USER_ZOOM&&(e=1),e}},{key:"getPageZoom",value:function(){return this.screen?this.window.visualViewport?"landscape"===this.getOrientation()?this.screen.height/this.window.visualViewport.width:this.screen.width/this.window.visualViewport.width:"landscape"===this.getOrientation()?this.screen.height/this.window.innerWidth:this.screen.width/this.window.innerWidth:1}},{key:"getAppZoom",value:function(){return this.screen?this.window.visualViewport?"landscape"===this.getOrientation()&&g.platform.isIos?this.window.visualViewport.width/this.screen.height:this.window.visualViewport.width/this.screen.width:"landscape"===this.getOrientation()?this.window.innerWidth/this.screen.height:this.window.innerWidth/this.screen.width:1}},{key:"getTextSize",value:function(){if(g.platform.isIos&&(0,f.isWixContext)())return"normal";let e=null;if(!g.platform.isIos)return e;const t=this.getAppZoom();return 1!==t&&(e=100*t+"%"),e||"none"}},{key:"getLineHeight",value:function(e){let t=null;const n=this.getAppZoom();return 1!==n&&(t=(e||1.25)/n+"em"),t}},{key:"getOrientation",value:function(){let e,t=0;switch("number"==typeof this.window.orientation?t=this.window.orientation:this.window.screen&&this.window.screen.orientation&&(t=this.window.screen.orientation.angle),t){case-90:case 90:e="landscape";break;default:e="portrait"}return e}},{key:"getBodyOffset",value:function(){const e=this.getBodyPosition(),t=this.bodyEl.getBoundingClientRect(),n=this.documentEl.getBoundingClientRect();return{top:"static"===e?0:t.top-n.top,left:"static"===e?0:t.left-n.left}}},{key:"getBodyPosition",value:function(){return this.window.getComputedStyle(this.bodyEl).position}},{key:"getPseudo",value:function(){if(this.documentEl.querySelector){const e=this.documentEl.querySelector(".jv-pseudo-height");return e||0}return 0}},{key:"listenChangeZoom",value:function(e){this.changeZoomSubscription.push(e)}}]),e}());t.default=_},14762:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(44775)),s=r(n(84827)),l=r(n(85299)),u=r(n(55536)),c=n(9393),d=n(42687);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}let p=function(e){(0,s.default)(n,e);var t=f(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"getAgentById",value:function(e){return e?this.store.find((t=>t.get("agent_id")===parseInt(e))):null}},{key:"getBotById",value:function(e){return e?this.store.find((t=>t.get("bot_id")===parseInt(e))):null}},{key:"getAgentsByStatus",value:function(e){return e?this.store.filter((t=>t.get("body.state")===e)):null}},{key:"cleanBotsUpdate",value:function(){const e="body.is_update_from_bot";return this.store.forEach((t=>{t.get("bot_id")&&t.get(e)&&(t.set(e,!1),t.set("body.state","left"))}))}},{key:"getAgentIdsByStatus",value:function(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&t.push(n.get("agent_id")||n.get("bot_id")),t)),[]):null}},{key:"getOnlyAgentIdsByStatus",value:function(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&n.get("agent_id")&&t.push(n.get("agent_id")),t)),[]):null}},{key:"getBotIdsByStatus",value:function(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&n.get("bot_id")&&t.push(n.get("bot_id")),t)),[]):null}},{key:"closeChat",value:function(){(0,c.each)(this.store,(e=>{e.set("body.state","left")}))}},{key:"updateAgentList",value:function(e,t){e&&e.length&&(1==e.length&&this.closeChat(),(0,c.each)(e,(e=>{let r;r=e.bot_id?this.getBotById(e.bot_id):this.getAgentById(e.agent_id),e.body={state:"join"},e=(0,d.omit)(e,["state","vox_name"]),null!=t&&t.is_update_from_bot&&(e.body.is_update_from_bot=!0),e.avatar_url||(e.avatar_url=null),r?r.set(e):(0,a.default)((0,u.default)(n.prototype),"push",this).call(this,e)})))}},{key:"toReduxFormat",value:function(){const e=[];return(0,c.each)(this.store,(t=>{var n,r;const o=t.toJSON(),i={avatarUrl:o.avatar_url||null,id:o.agent_id||o.bot_id,name:o.display_name||null,title:o.title||null,isBot:!!o.bot_id,state:(null==o||null===(n=o.body)||void 0===n?void 0:n.state)||null,type:o.type||null,isUpdateFromBot:(null===(r=o.body)||void 0===r?void 0:r.is_update_from_bot)||null};e.push(i)})),e}}]),n}(r(n(34973)).default);var g=new p({type:"default",name:"agents",keys:{type:null,agent_id:null,bot_id:null,display_name:null,title:null,avatar_url:null,body:{state:"join",is_update_from_bot:null}}});t.default=g},4867:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(84827)),s=r(n(85299)),l=r(n(55536)),u=r(n(6131)),c=n(81152);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}let f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"isAgentMessage",value:function(){const e=this.store;return e.from===c.MessageInitiator.AGENT||"bot"===e.from}},{key:"unStorage",value:function(){var e,t,n,r,o;if(null!==(e=window)&&void 0!==e&&null!==(t=e.parent)&&void 0!==t&&t.window&&null!==(n=window)&&void 0!==n&&null!==(r=n.parent)&&void 0!==r&&null!==(o=r.window)&&void 0!==o&&o.isWixPreview)return!0;const i=this.store;return-1!==[c.MessageType.EMAIL,c.MessageType.SOCIAL,c.MessageType.PRECHAT].indexOf(i.type)||i.body&&i.body.unsave||!1}}]),n}(u.default);t.default=f},14264:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15687)),i=r(n(33119)),a=r(n(92664)),s=r(n(44775)),l=r(n(84827)),u=r(n(85299)),c=r(n(55536)),d=n(90061),f=n(44145),p=n(16016),g=n(9393),h=n(38392),m=n(938),_=r(n(34973)),v=n(81152),y=r(n(4867));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}const C=(0,d.createLogger)("MessagesStore");var E=new(function(e){(0,l.default)(n,e);var t=b(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).destroyDeletedMessages(),r.destroyErrorMediaMessages(),r.setTempMessagesForInit(),r}return(0,a.default)(n,[{key:"push",value:function(e){const t=this.formatMessage(e);return(0,s.default)((0,c.default)(n.prototype),"push",this).call(this,t)}},{key:"pushAll",value:function(e){(0,s.default)((0,c.default)(n.prototype),"pushAll",this).call(this,e)}},{key:"sort",value:function(){this.store=(0,m.sortBy)(this.store,(e=>e.get("created_ts")))}},{key:"formatMessage",value:function(e){var t=h.pick.apply(void 0,[e].concat(["private_id","msg_id","chat_id","created_ts","updated_ts","from","from_id","text","type","status","body","replied_message"]));const n=e.meta||e.body;if(void 0!==n&&"tinkoffInvoice"===n.type&&"SUCCESS"===n.status){const e=this.store.filter((function(e){return(e.get("body")?e.get("body").invoice_id:e.invoice_id)===n.invoice_id}));if(e.length){const t=e[0].get("body");t&&(t.status="SUCCESS",e[0].set("body",t))}}return e.type==v.MessageType.MESSAGE&&e.media&&(t.type=v.MessageType.MEDIA,t.body=e.media),e.private_id||(t.private_id=(0,p.generateGUID)()),t}},{key:"getLastMessage",value:function(){return this.store[this.store.length-1]||null}},{key:"getFirstMessage",value:function(){return this.store.length?this.store[0]:null}},{key:"getClientMessages",value:function(){return this.store.filter((e=>e.get("from")===v.MessageInitiator.CLIENT))}},{key:"getAgentMessages",value:function(){return this.store.filter((e=>e.get("from")===v.MessageInitiator.AGENT))}},{key:"getAgentTextMessages",value:function(){const e=this.getChatId();return e?this.store.filter((t=>t.get("chat_id")===e&&t.get("from")===v.MessageInitiator.AGENT&&t.get("type")===v.MessageType.MESSAGE)):[]}},{key:"getMessagesByType",value:function(e){return this.store.filter((t=>t.get("type")===e))}},{key:"getMessageById",value:function(e){return e?this.store.find((t=>t.get("msg_id")===e)):null}},{key:"getListpickerById",value:function(e){return e?this.store.find((t=>t.get("msg_id")===e&&t.get("type")===v.MessageType.LISTPICKER)):null}},{key:"getMessageByPrivateId",value:function(e){return e?this.store.find((t=>t.get("private_id")===e)):null}},{key:"closeChat",value:function(){const e=this.getLastMessage(),t=this.getLastProactive();t&&t.set("chat_id",e.get("chat_id"))}},{key:"getCurrentProactive",value:function(){const e=this.getLastProactive();let t=null;return(0,f.getApp)().chatStarted&&e&&!e.get("chat_id")&&(t=e),C.log("getCurrentProactive",t),t}},{key:"getLastProactive",value:function(){const e=this.store.filter((e=>e.get("type")===v.MessageType.PROACTIVE));return C.log("getLastProactive",e),e.length?e[e.length-1]:null}},{key:"getTmpProactive",value:function(){const e=this.store.filter((e=>e.get("type")===v.MessageType.PROACTIVE&&e.get("body")&&e.get("body").unsave));return C.log("getTmpProactive",e),e.length?e[e.length-1]:null}},{key:"destroyDeletedMessages",value:function(){const e=this.getDeletedMessages();(0,g.each)(e,(e=>{e.destroy()}))}},{key:"getDeletedMessages",value:function(){return this.store.filter((e=>e.get("status")==v.MessageStatus.DELETED))}},{key:"destroyErrorMediaMessages",value:function(){const e=this.getMediaErrors();(0,g.each)(e,(e=>{e.destroy()}))}},{key:"getMediaErrors",value:function(){return this.store.filter((e=>{if(!e)return!1;const t=e.toJSON();return t.type==v.MessageType.MEDIA&&t.body&&t.body.status&&t.body.status!==v.MediaStatus.COMPLETE&&t.body.status!==v.MediaStatus.EXPIRED}))}},{key:"getChatCounts",value:function(){let e,t=0;return(0,g.each)(this.store,(n=>{const r=n.get("chat_id");null!==r&&r!==e&&(e=r,t+=1)})),t}},{key:"getAllChatIds",value:function(){const e=[];return(0,g.each)(this.store,(t=>{t.get("chat_id")&&e.push(t.get("chat_id"))})),(0,o.default)(new Set(e))}},{key:"getChatId",value:function(){const e=this.getAgentMessages(),t=this.filter((e=>e.get("chat_id")&&e.get("from")===v.MessageInitiator.CLIENT));let n=e.length?e[e.length-1].get("chat_id"):null;const r=t.length?t[t.length-1].get("chat_id"):null;return r>n&&(n=r),n}},{key:"getChatMessages",value:function(e){return this.store.filter((t=>t.get("chat_id")===e&&t.get("type")!==v.MessageType.SYSTEM&&"bot"!==t.get("from")))}},{key:"getChatMessagesAfterId",value:function(e,t){return this.store.filter((n=>n.get("chat_id")===e&&n.get("type")!==v.MessageType.SYSTEM&&"bot"!==n.get("from")&&n.get("msg_id")>t))}},{key:"getCurrentChatMessages",value:function(){const e=this.getChatId();return e?this.getChatMessages(e):[]}},{key:"getAgentChatMessages",value:function(e){return this.store.filter((t=>{const n=[v.MessageInitiator.AGENT,v.MessageInitiator.AGENT_BOT],r=[v.MessageType.PROACTIVE,v.MessageType.FOR_TEST,v.MessageType.FORM,v.MessageType.PRECHAT];return t.get("chat_id")===e&&n.includes(t.get("from"))&&!r.includes(t.get("type"))}))}},{key:"getCurrentChatAgentMessages",value:function(){const e=this.getChatId();return this.getAgentChatMessages(e)}},{key:"getCurrentClientMessages",value:function(){return this.getChatMessages(this.getChatId()).filter((e=>e.get("from")===v.MessageInitiator.CLIENT))}},{key:"find",value:function(e){return this.store.find((t=>e(t)))}},{key:"filter",value:function(e){return this.store.filter((t=>e(t)))}},{key:"setTempMessagesForInit",value:function(){return(0,g.each)(this.store,(e=>{if(e&&e.get("from")===v.MessageInitiator.CLIENT&&e.get("status")===v.MessageStatus.SENT&&!e.get("chat_id")){((new Date).getTime()-e.get("created_ts"))/1e3>604800&&e.get("type")===v.MessageType.TEMPORARY&&(e.set("status",v.MessageStatus.NOT_DELIVERED),e.set("type",v.MessageType.MESSAGE)),e.get("type")===v.MessageType.MESSAGE&&e.set("status",v.MessageStatus.NOT_DELIVERED)}}))}},{key:"getClientSendedMessages",value:function(){return this.store.filter((e=>e.get("from")===v.MessageInitiator.CLIENT&&e.get("status")===v.MessageStatus.SENT&&!e.get("msg_id")&&e.get("type")===v.MessageType.MESSAGE))}},{key:"getFormMessage",value:function(){return this.store.filter((e=>e.get("type")===v.MessageType.FORM))}},{key:"getFormIntroduceText",value:function(){return this.store.filter((e=>e.get("type")===v.MessageType.PREFORM&&e.get("from")===v.MessageInitiator.FORM))}},{key:"getBotMessages",value:function(e){return this.store.filter((t=>t.get("chat_id")===e&&t.get("type")===v.MessageType.MESSAGE&&"bot"===t.get("from")))}},{key:"getTemporaryMessageWithText",value:function(e){const t=this.store.filter((t=>t.get("type")===v.MessageType.TEMPORARY&&t.get("text")===e));return t.length?t[t.length-1]:null}},{key:"getOfflineTmpMessage",value:function(){const e=this.store.filter((e=>e.get("type")===v.MessageType.TEMPORARY&&e.get("from")===v.MessageInitiator.CLIENT));return e.length?e[e.length-1]:null}},{key:"getLastUnreadApiInvitation",value:function(){const e=this.store.filter((e=>e.get("type")===v.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO));return e.length?e[e.length-1]:null}},{key:"getUnreadApiInvitations",value:function(){return this.store.filter((e=>e.get("type")===v.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO&&e.get("body").unsave))}},{key:"getSystemMessageByText",value:function(e){return this.store.filter((t=>t.get("type")===v.MessageType.SYSTEM&&t.get("text")===e))}},{key:"hasMessages",value:function(){return this.store.length>0}},{key:"getCobrowseByHash",value:function(e){if(e)return this.store.find((t=>{const n=t.toJSON();return n.type===v.MessageType.COBROWSE&&n.body&&n.body.type===v.MessageType.COBROWSE&&n.body.address===e}))}}]),n}(_.default))({type:"default",name:"messages",itemClass:y.default,keys:{private_id:function(){return(0,p.generateGUID)()},msg_id:null,chat_id:null,created_ts:function(){return(new Date).getTime()},updated_ts:null,from:v.MessageInitiator.EMPTY,from_id:null,text:null,type:v.MessageType.EMPTY,status:v.MessageStatus.SENT,body:{},replied_message:null}});t.default=E},23116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(62096),o=n(90061),i=n(31011),a=n(21951),s=n(73262),l=n(32183),u=n(8717),c=n(35233);const d=n(89766).EventEmitter;let f=(new Date).getTime();const p=(0,o.createLogger)("TabActiveManager"),g=Object.assign(new d,{isActive:null});let h;const m=(0,s.throttle)((()=>{f=(new Date).getTime(),(0,u.isChatRoute)(h)&&(0,l.pageVisible)()&&!0!==g.isActive&&(p.log("setActive"),g.isActive=!0,g.emit("update"))}),500),_=()=>{p.log("setNotActive"),g.isActive=!1,g.emit("update")};setInterval((()=>{!1!==g.isActive&&(new Date).getTime()-f>3e4&&_()}),15e3),i.platform.isDesktop?((0,a.addListener)(window.parent,"scroll",m,!0),(0,a.addListener)(window.parent,"mousemove",m,!0)):((0,a.addListener)(window.parent,"touchmove",m,!0),(0,a.addListener)(window.parent,"touchend",m,!0)),(0,a.listenVisibility)((()=>{(0,l.pageVisible)()?m():_()})),r.reduxStore.subscribe((()=>{const e=h;h=(0,c.selectRoute)(r.reduxStore.getState()),e!==h&&((0,u.isChatRoute)(h)?m():_())}));var v=g;t.default=v},11281:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(61125)),i=r(n(96394)),a=n(16016),s=r(n(26754)),l=r(n(14264)),u=r(n(14762)),c=n(28723),d=n(68403),f=r(n(35802)),p=n(18276),g=r(n(91275)),h=n(96879),m=n(81152),_=n(65465),v=n(90061),y=n(47138),b=n(86383),C=r(n(73687)),E=n(28302),D=n(44145),T=r(n(71277)),w=r(n(138)),S=n(97490),O=n(49594),A=n(26932),I=n(23336),k=n(9550),M=n(97939),x=n(41168),P=n(64123),R=n(13077),F=n(34445),L=n(45691),j=n(49963),N=n(54346),B=n(12398),U=n(12822),W=n(73422),H=n(31011),z=n(59767),G=n(499),$=n(8717),V=n(3296),Z=n(20827),q=n(6254),K=n(24344),Y=n(42634),J=n(66434),X=n(88263),Q=n(15787),ee=n(54346),te=n(24578);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const oe=(0,v.createLogger)("actions/connection");var ie={accept:e=>{const n=e.agent_info.bot_id,r=(0,D.getApp)(),o=(0,D.getClient)(),i=(0,D.getChats)(),a=i[i.length?i.length-1:0],c=(0,D.getUserSettings)();if(A.appDispatchers.setChatStarted(!0),A.appDispatchers.setChatAccepted(!0),A.appDispatchers.setLastChatOpened(!0),A.appDispatchers.setHiddenByRules(!1),A.chatsDispatchers.setChatEvaluated(!1),!r.isOnline){if(n||(t.default.setOnline(),_.messageActions.systemMessageOnce((0,p.l10n)("offlineAgentConnected"))),_.messageActions.deleteUnansweredOfflineSystemInvite(),(0,$.shouldRedirectToIntroduce)()){const e=l.default.getOfflineTmpMessage();e&&e.destroy(),X.routerService.next(S.RouterEvent.ToIntroduce)}(0,J.telemetry)("offline_agent_accept")}var d;n?(s.default.agent_id=0,s.default.type=e.agent_info.type||null,s.default.isUpdateFromBot=!(null===(d=e.state)||void 0===d||!d.is_update_from_bot)):(s.default.bot_id&&t.default.setOnline(),s.default.bot_id=0);A.chatsDispatchers.setNoJoinedAgents(),s.default.agent_id=e.agent_info.agent_id||null,s.default.bot_id=e.agent_info.bot_id||null,s.default.display_name=e.agent_info.display_name||null,s.default.title=e.agent_info.title||null,s.default.avatar_url=e.agent_info.avatar_url||null,s.default.typing=e.agent_info.typing||null,s.default.state="join";const f=s.default.toReduxFormat();n?(A.botsDispatchers.addBot(f),A.chatsDispatchers.setJoinedBots([s.default.bot_id]),u.default.updateAgentList([e.agent_info],e.state)):(A.agentsDispatchers.addAgent(f),A.chatsDispatchers.setJoinedAgents([e.agent_info]),A.chatsDispatchers.setJoinedBots([]),A.appDispatchers.setIsInputDisabled(!1)),n?A.messagesDispatchers.destroyByType(m.MessageType.RATE_FORM):(!o.isIntroduced&&r.isOnline&&_.messageActions.checkContactsForm(),A.clientDispatchers.setPaId(s.default.agent_id)),w.default.trackChatConnected(),(0,K.callUserFunction)("onAccept"),(0,Y.saveLastProactive)(),(0,Q.openChatOnMessage)({isNoMessage:!0});const g=n?m.MessageType.BOT:m.MessageInitiator.AGENT;var h;(c.contactsAsk===k.ContactsType.BEFORE_CHAT&&(0,J.telemetry)("chat_accepted_contacts",{param1:g,param2:JSON.stringify({chat_id:a.id,department_id:o.departmentId,display_name:Boolean(o.displayName),name:Boolean(o.name),email:Boolean(o.email),is_introduced:o.isIntroduced,phone:Boolean(o.phone)})}),n)?(0,J.telemetry)("chat_bot_accepted",{param1:(0,ee.isAssistantBot)()?M.BotType.ASSISTANT:M.BotType.DEFAULT,param2:null!==(h=e.state)&&void 0!==h&&h.is_update_from_bot?"is_update_from_bot":"is_accept"}):(0,J.telemetry)("chat_accepted",re({param1:g},w.default.getCountersTelemetry()))},transferred:e=>{(0,D.getApp)().isOnline||t.default.setOnline(),Object.assign(s.default,e.agent_info);const n=e.agent_info.bot_id,r=s.default.toReduxFormat();n?(A.botsDispatchers.addBot(r),A.chatsDispatchers.setJoinedBots([n])):(A.agentsDispatchers.addAgent(r),A.chatsDispatchers.setJoinedAgents([e.agent_info]),A.chatsDispatchers.setJoinedBots([])),A.messagesDispatchers.addMessage({text:(0,p.l10n)("lblTransferred",{agent:e.agent_info.display_name}),type:m.MessageType.SYSTEM,from:m.MessageType.SYSTEM}),A.clientDispatchers.setPaId(s.default.agent_id)},startup_ok:e=>{const t=(0,D.getApp)(),n=(0,D.getClient)();oe.log("startup_ok",e),g.default.reloadStories(),u.default.closeChat(),A.appDispatchers.setMaintenance(!1),A.appDispatchers.setIsInputDisabled(!1),A.appDispatchers.setLastChatStatus(F.ChatStatus.STARTUP_OK),A.callbackDispatchers.setCallbackStatus(!1),t.route===S.Route.CHAT_MIN&&X.routerService.setNext(S.Route.LABEL);const r=(0,q.getTemporaryAttributes)();!i.default.enable_client_attributes||n.clientId||(0,Z.isEmpty)(r)||(0,L.sendClientAttributes)(r,e.jv_client_id),A.clientDispatchers.updateClient({clientId:e.jv_client_id,sessionId:e.jv_sess_id}),(0,G.syncCSClientInfo)(e.client_info),_.messageActions.deleteMaintenanceMessage(),(0,O.updateHistory)(e),(n.isIntroduced&&!t.isOnline||t.isOnline)&&j.connectionAdapter.flushBuffer(),(0,B.sendTagsIfNeed)(),(0,J.telemetry)("startup_ok",{param1:(0,P.getStarupTime)(),param2:(0,D.getSystemSettings)().chatHost,param3:n.userToken?"has_user_token":null}),(0,R.setRuleLocal)("sendStartupTime",null)},startup_error:e=>{switch(oe.log("startup_error: ",null==e?void 0:e.err_code),A.appDispatchers.setLastChatStatus(F.ChatStatus.STARTUP_ERROR),e.err_code){case"deleted":A.clientDispatchers.resetClient(),A.appDispatchers.setLastChatStatus(null),l.default.destroy();break;case"blacklisted":A.appDispatchers.setChatStarted(!1),A.appDispatchers.setChatAccepted(!1),C.default.set("is_blacklisted",!0,86400),X.routerService.next(S.RouterEvent.Hide),T.default.disableSoundPlayer();break;case"moved":(0,U.getNewConfig)();break;case"maintenance":(0,U.enableMaintenance)()}(0,J.telemetry)("startup_error",{param1:(0,P.getStarupTime)(),param2:e.err_code||"no_err_code",param3:(0,D.getSystemSettings)().chatHost}),(0,R.setRuleLocal)("isVisitorInvite",!1),(0,R.setRuleLocal)("sendStartupTime",null)},maintenance:()=>{oe.log("maintenance: save maintenance_time"),C.default.set("maintenance_time",Date.now(),86400)},resume_ok:e=>{oe.log("resume_ok",e);const n=(0,D.getApp)(),r=(0,D.getClient)(),o=(0,D.getCallback)(),i=re({clientId:e.jv_client_id},e.jv_sess_id?{sessionId:e.jv_sess_id}:null);if(A.clientDispatchers.updateClient(i),A.appDispatchers.setMaintenance(!1),A.appDispatchers.setIsInputDisabled(!1),A.appDispatchers.setLastChatStatus(F.ChatStatus.RESUME_OK),g.default.reloadStories(),c.HistoryStore.destroy(),(r.isIntroduced&&!n.isOnline||n.isOnline)&&((0,$.shouldRedirectToIntroduce)()||j.connectionAdapter.flushBuffer()),e.agents&&e.agents.length>0){let n=!1;if(e.agents.forEach((e=>{e.bot_id&&(n=e)})),n){const t=u.default.getBotById(n.bot_id);null!=t&&t.get("body.is_update_from_bot")?(A.appDispatchers.setChatAccepted(!0),A.appDispatchers.setAppIsOnline(!0)):(u.default.updateAgentList([n],e.state),A.botsDispatchers.addBot({avatarUrl:n.avatar_url||null,id:n.bot_id,name:n.display_name||null,title:n.title||null,type:n.type,isBot:!0})),A.chatsDispatchers.setJoinedBots([n.bot_id])}else A.chatsDispatchers.setJoinedAgents(e.agents);t.default.updateAgentInfo(e.agents),u.default.getAgentsByStatus("join").length&&(A.appDispatchers.setChatAccepted(!0),A.appDispatchers.setAppIsOnline(!0),A.appDispatchers.setLastChatOpened(!0))}else A.chatsDispatchers.setNoJoinedAgents(),A.appDispatchers.setLastChatOpened(!1),A.appDispatchers.setChatAccepted(!1),u.default.cleanBotsUpdate();const a=n.route;H.platform.isMobileOrTablet||H.platform.isChatPage||n.chatStarted||l.default.getCurrentChatMessages().length||!n.isOnline||a===S.Route.CALL||a===S.Route.CHAT_CALL||a===S.Route.CALL_POPUP||a===S.Route.LABEL||(0,D.getProactive)().text||X.routerService.next(S.RouterEvent.CloseWindow);const s=e.client_info.cw_call;(0,P.setCallbackStatus)(s),s===y.CallStatus.WAIT&&g.default.startCallTimeout(),s&&(Object.assign(o,s),a===S.Route.CHAT_CALL||H.platform.isMobileOrTablet||X.routerService.next(S.RouterEvent.ToCall),s.status!=y.CallStatus.CONNECTED&&s.status!=y.CallStatus.CONNECTING||(0,V.resetDelayedCall)()),e.client_info.has_integration&&A.clientDispatchers.setHasIntegration(e.client_info.has_integration),e.assigned_agent_id&&A.clientDispatchers.setAssignedAgentId(e.assigned_agent_id),g.default.checkChatStarted(e.chat_started),(0,G.syncCSClientInfo)(e.client_info),_.messageActions.checkContactsForm(),_.messageActions.deleteMaintenanceMessage(),(0,O.updateHistory)(e),!(0,W.isNumber)(r.departmentId)||n.chatStarted||n.chatAccepted||(0,z.needShowDepartments)(),(0,J.telemetry)("resume_ok",{param1:(0,P.getStarupTime)(),param2:e.chat_started?"chat_started":"chat_not_started",param3:r.userToken?"has_user_token":"no_user_token",param4:e.last_msg_id}),(0,R.setRuleLocal)("sendStartupTime",null)},cw_wait:()=>{},cw_call_end:()=>{const e=(0,D.getCallback)();if(oe.warn("cw_call_end",e),e.webRTCCallStatus){const e=(0,E.getActiveMessage)(y.WebRTCCallStatus.ACCEPTED);e&&A.messagesDispatchers.updateWebRTCCallStatus(e.private_id,y.WebRTCCallStatus.ENDED),A.callbackDispatchers.setActiveWebRTCCallMessageId(null),A.callbackDispatchers.setWebRTCCallStatus(null),A.callbackDispatchers.setCallbackStatus(y.CallStatus.ENDED),A.callbackDispatchers.setCallbackAvailable(!0),(0,K.callUserFunction)("onCallEnd",{result:"ok"}),(0,J.telemetry)("cw_call_end",{param1:"webrtc"})}else g.default.clearCallTimeout(),_.messageActions.systemCallMessage((0,p.l10n)("c_callDisconnected"),m.MessageName.CALL_END),A.callbackDispatchers.setCallbackStatus(y.CallStatus.ENDED),A.callbackDispatchers.setCallbackAvailable(!0),A.appDispatchers.setAppRoute(S.Route.CHAT),(0,K.callUserFunction)("onCallEnd",{result:"ok"}),(0,J.telemetry)("cw_call_end")},cw_connecting:()=>{(0,D.getCallback)().webRTCCallStatus?A.callbackDispatchers.setWebRTCCallStatus(y.CallStatus.CONNECTING):A.callbackDispatchers.setCallbackStatus(y.CallStatus.CONNECTING),(0,V.resetDelayedCall)()},cw_connected:()=>{const e=(0,D.getCallback)();if(oe.warn("cw_connected",e.webRTCCallStatus,e.activeWebRTCCallMessageId),!e.activeWebRTCCallMessageId){const e=(0,E.getActiveMessage)(y.WebRTCCallStatus.INITIAL);e&&A.messagesDispatchers.updateWebRTCCallStatus(e.private_id,y.WebRTCCallStatus.ACCEPTED)}e.webRTCCallStatus?(A.callbackDispatchers.setWebRTCCallStatus(y.CallStatus.CONNECTED),A.messagesDispatchers.updateWebRTCCallStatus(e.activeWebRTCCallMessageId,y.WebRTCCallStatus.ACCEPTED)):(A.callbackDispatchers.setCallbackStatus(y.CallStatus.CONNECTED),A.callbackDispatchers.setCallbackAvailable(!1)),(0,V.resetDelayedCall)()},cw_error:e=>{const t=(0,p.l10n)(`cw_reason_${e.reason}`);let n=t;n&&n!=t||(n=(0,x.getCallDefaultError)());const r=(0,D.getCallback)();if(r.webRTCCallStatus){if(r.webRTCCallStatus!==y.CallStatus.ENDED){A.callbackDispatchers.setWebRTCCallStatus(y.CallStatus.ERROR);let e=r.activeWebRTCCallMessageId;if(!e){const t=(0,E.getActiveMessage)(y.WebRTCCallStatus.INITIAL);e=t&&t.private_id}A.messagesDispatchers.updateWebRTCCallStatus(e,y.WebRTCCallStatus.ERROR)}A.callbackDispatchers.setCallbackAvailable(!0),A.callbackDispatchers.setCallbackStatus(y.CallStatus.ERROR),A.callbackDispatchers.setActiveWebRTCCallMessageId(null),A.callbackDispatchers.setWebRTCCallStatus(null),X.routerService.getCurrentRoute()===S.Route.CHAT_SETUP_CALL&&X.routerService.next(S.RouterEvent.Cancel)}else g.default.clearCallTimeout(),A.messagesDispatchers.addMessage({text:n,type:m.MessageType.SYSTEM,from:m.MessageInitiator.SYSTEM,body:{type:m.MessageType.CALL,name:m.MessageName.CALL_END}}),A.callbackDispatchers.setCallbackAvailable(!0),A.callbackDispatchers.setCallbackStatus(y.CallStatus.ERROR),A.callbackDispatchers.setCallbackError(n),H.platform.isMobileOrTablet||X.routerService.next(S.RouterEvent.ToCall);(0,K.callUserFunction)("onCallEnd",{result:"fail",reason:n}),(0,J.telemetry)("cw_call_error",{param1:e.reason})},cw_call_requested:async e=>{if(!i.default.enable_webrtc_calls)return;const t=e.call_id,r=e.vox_user_login,o=e.vox_user_password,a=e.vox_node;A.callbackDispatchers.setCallbackAvailable(!1),A.callbackDispatchers.setWebRTCCallStatus(y.CallStatus.WAIT);const s=(await n.e(772).then(n.bind(n,51961))).default;f.default.getInstance().managers.webRTCCall=new s(f.default.getInstance(),t,r,o,a),i.default.enable_webrtc_separate_window||f.default.getInstance().managers.webRTCCall.setupSdk(),(0,N.addWebRTCCallMessage)(),(0,Q.openChatOnMessage)()},agentMessage:(e,n)=>{var r;oe.log("agentMessage",e),(0,D.getApp)().isOnline||t.default.setOnline(),_.messageActions.saveLastSystemMessage(),e.media&&(e.media.status=m.MediaStatus.COMPLETE);const o={text:e.message||e.text,type:e.media?m.MessageType.MEDIA:m.MessageType.MESSAGE,from:e.from,from_id:e.from_id,private_id:e.private_id||(0,a.generateGUID)(),msg_id:e.msg_id,chat_id:e.chat_id,meta:e.meta,body:e.media||{},replied_message:e.replied_message};var s;n&&(0,ee.isAssistantBot)()&&(o.body.bot_message_type=null===(s=e.body)||void 0===s?void 0:s.type);const l=e.type==m.MessageType.LISTPICKER;if(n){var c;if(l)o.text=(e.body.text||e.body.title).trim(),null!==(c=e.body)&&void 0!==c&&c.is_markdown&&(o.body.is_markdown=!0);e.is_markdown&&(o.body.is_markdown=!0);const t=u.default.getBotById(e.from_id);if(null!=t&&t.get("body.is_update_from_bot")&&(o.body.agent_info=t.toJSON()),e.type==m.MessageType.INVITE){if((0,ee.isAssistantBot)())return;if(o.type=m.MessageType.SYSTEM,o.text=(0,p.l10n)("botTransferChat"),o.status=m.MessageStatus.READ,(0,J.telemetry)("bot_transfer_chat"),(0,Q.isNeedShowBotForm)(i.default))return void _.messageActions.handleBotContactsForm()}else(0,J.telemetry)("client_message_bot")}A.messagesDispatchers.addMessage(o),l&&(o.type=m.MessageType.LISTPICKER,o.body=e.body,o.msg_id=e.msg_id+.1,o.body&&A.appDispatchers.setIsInputDisabled(o.body.force_reply),A.messagesDispatchers.addMessage(o)),(0,Q.agentMessageAck)([e.msg_id],e.chat_id),A.clientDispatchers.setLastMessage(""),(0,z.agentTyping)(!1),A.appDispatchers.setLastMsgTime((new Date).getTime()),(0,Q.openChatOnMessage)(),(0,Q.sendAgentMessageTelemetry)((0,ee.isAssistantBot)()?null===(r=o.body)||void 0===r?void 0:r.bot_message_type:null)},update_agent_info:e=>{(0,D.getApp)().isOnline||t.default.setOnline();const n=e.agent_info,r=u.default.getAgentsByStatus("join").map((e=>{const t=e.store;return t.agent_id===n.agent_id?n:t}));t.default.updateAgentInfo([n]),A.chatsDispatchers.setJoinedAgents(r)},invoice:e=>{oe.log("invoice",e),A.messagesDispatchers.addMessage({type:"invoice",msg_id:e.invoice.msg_id,from:"agent",body:{type:e.invoice.gateway_system+"Invoice",comment:e.invoice.comment,amount:e.invoice.amount,invoice_id:e.invoice.invoice_id,payment_url:e.invoice.payment_url,status:e.status,currency:e.invoice.currency}})},agent_chat_close:()=>{A.appDispatchers.setChatStarted(!1),A.appDispatchers.setChatAccepted(!1),A.appDispatchers.setIsInputDisabled(!1),l.default.closeChat(),A.chatsDispatchers.setNoJoinedAgents(),A.appDispatchers.setLastChatOpened(!1),A.chatsDispatchers.setChatEvaluated(!1),(0,z.needShowDepartments)(),s.default.reset(),u.default.cleanBotsUpdate(),(0,D.getApp)().route===S.Route.CHAT_MIN&&(X.routerService.setNext(S.Route.LABEL),(0,te.reloadTransitionStore)()),(0,J.telemetry)("agent_chat_close")},agent_service_message:e=>{oe.warn("unhandled agent_service_message",e)},agent_typing:e=>{(0,D.getApp)().isOnline||t.default.setOnline(),(0,z.agentTyping)(Boolean(e.typing),Boolean(e.bot_id))},update_client_info:e=>{oe.warn("update_client_info",e);const t={};e.avatar_url&&(t.avatarUrl=e.avatar_url),e.display_name&&(t.displayName=e.display_name),e.assigned_agent_id&&(t.assignedAgentId=e.assigned_agent_id),e.email&&(t.email=e.email),e.phone&&(t.phone=e.phone),i.default.bots&&(e.email||e.phone)&&(t.isIntroduced=!0),e.custom_data&&e.custom_data.length>0&&A.clientDispatchers.setCustomData(e.custom_data),A.clientDispatchers.setClientContacts(t)},update_client_id:e=>{oe.log("update_client_id",e);(0,D.getClient)().clientId!==e.jv_client_id&&(A.clientDispatchers.setClientId(e.jv_client_id),(0,O.updateHistory)(e),(0,J.telemetry)("update_client_id"))},message_state:e=>{(0,z.messageState)(e)},blacklist:()=>{C.default.set("is_blacklisted",!0,86400),A.appDispatchers.setChatStarted(!1),A.appDispatchers.setChatAccepted(!1),X.routerService.next(S.RouterEvent.Hide),T.default.disableSoundPlayer()},disconnecting:()=>{b.TitleManager.cancelBlink()},offline:()=>{const e=j.connectionAdapter.findInBuffer("name","client_message_campaign");if(e)return j.connectionAdapter.removeFromBuffer(e),void oe.log("Skip offline action after campaign reaction");(0,D.getApp)().isOnline&&_.messageActions.sendNoAgentsOnline(),(0,I.setOfflineIntroduced)(),!(0,D.getClient)().isIntroduced||(0,I.needIntroduceInOffline)()?(i.default.bots||i.default.enable_bot_offline||(0,ee.isAssistantBot)()||(A.appDispatchers.setAppIsOnline(!1),A.appDispatchers.setIsInputDisabled(!0),_.messageActions.handleContactsForm(!0)),(0,J.telemetry)("force_offline",void 0,{once:!0})):((0,D.getApp)().isOnline&&A.appDispatchers.setAppIsOnline(!1),w.default.trackOfflineMessageSent())},update_client:e=>{e.has_integration&&(0,d.hasIntegration)(e.has_integration)&&(A.clientDispatchers.setHasIntegration(e.has_integration),A.messagesDispatchers.addMessage({text:(0,p.l10n)("social_success_"+e.has_integration),type:m.MessageType.SYSTEM,body:{type:m.MessageType.SOCIAL}}),(0,Q.openChatOnMessage)(),(0,J.telemetry)(`social_receive_has_integration_${e.has_integration}`),(0,d.isChatContactForm)()&&(0,J.telemetry)("chat_introduce_social",{param1:"connect_"+e.has_integration}))},connect_failed:()=>{oe.log("connect_failed")},offline_ack:e=>{_.messageActions.offlineAck(e)},agent_message:e=>{(0,D.getApp)().isOnline||t.default.setOnline(),e.meta&&t.default.agentMessage(e)},chat_message:e=>{var n;oe.log("chat_message",e);const r=(0,D.getApp)(),o=e.params;if(r.isOnline||t.default.setOnline(),o.from!==m.MessageInitiator.CLIENT||null===(n=o.media)||void 0===n||!n.address)if(["join","left"].includes(o.type))setTimeout((()=>{(0,z.updateChatAgent)(e)}),100);else{const e=o.from===m.MessageType.BOT;if((o.from===m.MessageInitiator.AGENT||e)&&t.default.agentMessage(o,e),o.from===m.MessageInitiator.CLIENT){const e=(0,h.filterMessage)(o),t=(0,D.getMessageByPrivateId)(o.private_id);if(o.private_id&&t&&A.messagesDispatchers.updateMessage({privateId:t.private_id},{chat_id:o.chat_id,msg_id:o.msg_id}),e&&!t){const e=o.private_id?o.private_id:(0,a.generateGUID)();A.messagesDispatchers.addMessage(re(re(re({from:m.MessageInitiator.CLIENT,text:o.text,type:m.MessageType.MESSAGE,private_id:e,status:m.MessageStatus.DELIVERED},o.chat_id?{chat_id:o.chat_id}:null),o.msg_id?{msg_id:o.msg_id}:null),o.media?{media:o.media}:null))}e&&(0,Q.openChatOnMessage)()}}},chat_message_update:e=>{const t=e.params,n=t.msg_id,r=(0,D.getMessageById)(n);if(oe.log("chat_message_update",e,n,r),r)if(t.deleted){A.messagesDispatchers.updateMessage({messageId:r.msg_id},{status:m.MessageStatus.DELETED,type:m.MessageType.MESSAGE,body:null});n===(0,D.getApp)().quoteMsgId&&A.appDispatchers.setQuoteMsgId(null)}else t.updated_ts&&A.messagesDispatchers.updateMessage({messageId:r.msg_id},{updated_ts:1e3*t.updated_ts,text:t.text})},agents_list_updated:e=>{if(oe.log("agents_list_updated"),(0,D.getApp)().isOnline||t.default.setOnline(),e.params.length){if(1===e.params.length){const t=e.params[0];Object.assign(s.default,t),t.bot_id||A.clientDispatchers.setPaId(t.agent_id)}t.default.updateAgentInfo(e.params),A.chatsDispatchers.setJoinedAgents(e.params),A.agentsDispatchers.initAgentStore(u.default.toReduxFormat())}(0,J.telemetry)("agents_list_updated",{param1:e.params.length+1})},rate:e=>{const t=e.chat_id;(0,Q.needToRateForm)(t)},updateAgentInfo:e=>{if(oe.log("updateAgentInfo",e),1===e.length){const t=e[0];Object.assign(s.default,{agent_id:t.agent_id||0,bot_id:t.bot_id||0,display_name:t.display_name,title:t.title||null,avatar_url:t.avatar_url||null,state:(0,D.getApp)().chatAccepted?"join":"left"}),t.bot_id||(A.agentsDispatchers.updateAgent({id:t.agent_id||t.bot_id,name:t.display_name,title:t.title,avatarUrl:t.avatar_url||null,isBot:!!t.bot_id}),A.clientDispatchers.setPaId(t.agent_id))}},setOnline(){A.appDispatchers.setAppIsOnline(!0)},client_message_error:e=>{(0,J.telemetry)("client_message_error",{param1:(null==e?void 0:e.error)||"empty"})},client_message_ack:()=>{}};t.default=ie},15787:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.sendIntroduceAndMessage=t.sendClientAnswerTelemetry=t.sendApiIntroduce=t.sendAgentMessageTelemetry=t.openChatOnMessage=t.needToRateForm=t.isNeedShowBotForm=t.connectionReadyForMessages=t.checkCustomData=t.agentMessageRead=t.agentMessageAck=void 0;var o=r(n(61125)),i=n(29865),a=r(n(96394)),s=n(50402),l=n(21476),u=n(97490),c=n(86383),d=r(n(71277)),f=r(n(35802)),p=n(65465),g=r(n(23116)),h=n(90061),m=r(n(14264)),_=n(26932),v=n(55329),y=n(24344),b=n(44145),C=n(33813),E=n(41504),D=n(13077),T=n(81152),w=n(84727),S=n(34445),O=n(8717),A=n(49963),I=n(79523),k=n(32183),M=n(45926),x=n(42634),P=n(91920),R=n(31011),F=n(66434);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const N=(0,h.createLogger)("ConnectionHelpers");t.openChatOnMessage=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fromHistory,n=e.isNoMessage,r=void 0!==n&&n;if(r||(0,y.callUserFunction)("onMessageReceived"),!t)if((0,k.pageVisible)()||c.TitleManager.blink(),d.default.play("agent_message"),(0,b.getUserSettings)().labelBubble&&a.default.enable_spa_navigate)N.warn("Ignore openChatOnMessage show counter.");else if(R.platform.isDesktop&&(!(0,P.hasCustomLabel)()||"function"!=typeof(0,M.getPageWindow)().jivo_onMessageReceived)){(0,O.isChatInputRoute)((0,b.getApp)().route)||l.Router.next(u.RouterEvent.ToChat),l.Router.getPrevRoute()===u.Route.CHAT_MIN?_.transitionDispatchers.startTransition(s.ScriptName.MAXIMIZE_WIDGET):_.transitionDispatchers.startTransition(s.ScriptName.OPEN_WIDGET);const e=setInterval((()=>{(0,C.fixSafariKeyframes)()}),50);setTimeout((()=>{clearInterval(e)}),300)}};t.sendAgentMessageTelemetry=e=>{(0,F.telemetry)("agent_message",{param1:(0,v.getPrechatUseTime)(),param2:g.default.isActive&&(0,O.isChatInputRoute)((0,b.getApp)().route)?"visible":"hide",param3:e||T.MessageType.MESSAGE})};t.sendClientAnswerTelemetry=e=>{N.warn("sendClientAnswerTelemetry",e);const t=m.default.getLastMessage();if(t){const n=t.get("body.bot_message_type"),r=(0,w.validateClientAnswer)(n,e.text);(0,F.telemetry)("client_message_assistant",{param1:n,param2:r?"valid":"not_valid",param3:e.text})}};t.isNeedShowBotForm=e=>{const t=e.lastStatus;return!((t&&t.agents?t.agents.length:0)>0&&2==e.contacts_ask)&&(e.bots&&e.enable_bot_offline)};t.checkCustomData=e=>{f.default.getInstance()&&e&&(A.connectionAdapter.sendEventIfConnected(new E.UpdateCustomData(e)),e&&_.clientDispatchers.setCustomData(e))};t.sendApiIntroduce=e=>{const t=(0,D.getRuleLocal)("lastContactApiData"),n={client_name:e.name||e.client_name,phone:e.phone,email:e.email,description:e.description};return(0,i.shallowEqual)(j(j({},n),{},{message:e.message}),t)?(N.error("setContactInfo same client contacts",t),!1):(e.message&&p.messageActions.sendClientMessage({text:e.message}),I.introduceActions.setClientContactInfo(n,!0),e.message&&(n.message=e.message),(0,D.setRuleLocal)("lastContactApiData",n),!0)};t.sendIntroduceAndMessage=(e,t)=>{t&&p.messageActions.sendClientMessage({text:t}),_.clientDispatchers.setLastMessage(""),I.introduceActions.setClientContactInfo(e,!1,!0)};t.needToRateForm=(e,t)=>{N.warn("needToRateForm",e,t);const n=m.default.getMessagesByType(T.MessageType.RATE_FORM);if(n.length&&n[0]&&n[0].get("chat_id")==e)return;const r=(0,b.getUserSettings)().rateSettings;e&&r&&(0,x.pushRateForm)(e,r.conditionName,t)};t.agentMessageRead=(e,t)=>{c.TitleManager.cancelBlink(),A.connectionAdapter.sendEvent(new E.AgentMessagesRead(e,t))};t.agentMessageAck=(e,t)=>{A.connectionAdapter.sendEvent(new E.AgentMessagesAck(e,t))};t.connectionReadyForMessages=()=>A.connectionAdapter.isConnected()&&[S.ChatStatus.STARTUP_OK,S.ChatStatus.RESUME_OK].includes((0,b.getApp)().lastChatStatus)},91275:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(96394)),i=r(n(95003)),a=n(69882),s=n(16016),l=n(31011),u=r(n(138)),c=r(n(14264)),d=r(n(14762)),f=n(18276),p=n(90061),g=n(21476),h=n(97490),m=n(81152),_=n(65465),v=n(24344),y=n(62096),b=n(26932),C=n(31984),E=n(47138),D=n(50402),T=r(n(79868)),w=r(n(74379)),S=n(44145),O=r(n(73687)),A=n(23336),I=n(8717),k=n(41504),M=n(41168),x=n(62162),P=n(15787),R=n(49963),F=n(79523),L=n(25516),j=n(44145),N=n(3296),B=n(24578),U=n(66434);const W=(0,p.createLogger)("Actions");let H=null,z=!1;const G={startCallDebounce:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(W.warn("startCallDebounce",e,n),t.default.startCallTimeout(),["cw_wait","cw_connecting","cw_connected"].indexOf((0,S.getCallback)().status)>=0)return void W.log("already calling");const o=(0,C.getPhoneNumberInfo)(e);o?b.clientDispatchers.setClientPhone("+"+o.phoneCode+o.innerNumber):b.clientDispatchers.setClientPhone(e);const i=(0,S.getClient)(),a=(0,S.getApp)(),s=(0,j.getFeatures)();F.introduceActions.sendIntroduction({name:i.name,phone:i.phone,email:i.email,description:i.description}),(0,C.checkStartCall)({phone:e,invitationText:r,clientToken:i.clientId,requestGRecaptchaToken:Boolean(s.recaptcha)},((r,o)=>r?(t.default.setCallError(),(0,U.telemetry)("cw_call_error",{param1:"in request"})):((o=o.data)||(W.log("Wrong response from telephony"),o={ok:!1,error_list:["wrong_response"]}),o.only_forward?(b.callbackDispatchers.setCallbackStatus(E.CallStatus.ERROR),void b.callbackDispatchers.setCallbackError((0,f.l10n)("cw_call_forward"))):void(o.ok?(b.appDispatchers.setChatStarted(!0),b.appDispatchers.setChatAccepted(!0),b.callbackDispatchers.setCallbackStatus(E.CallStatus.WAIT),_.messageActions.handleContactsForm(),_.messageActions.systemCallMessage(`${(0,f.l10n)("cw_call_to")} ${(0,C.getMaskedPhone)(e)}`,m.MessageName.CALL_MESSAGE_START),(0,v.callUserFunction)("onCallStart"),u.default.trackCallWidgetRequested(),(0,U.telemetry)("cw_start_call",{param1:n}),(0,B.reloadTransitionStore)()):(t.default.setCallError(),(0,U.telemetry)("cw_call_error",{param1:o.error_list.join(" ")}),o.work_time&&o.work_time.schedule&&((0,N.initDelayedCall)(o.work_time),g.Router.next(h.RouterEvent.ToCall),(0,U.telemetry)("cw_start_call",{param1:n})),l.platform.isMobileOrTablet||a.route!==h.Route.LABEL||g.Router.next(h.RouterEvent.Navigate))))))},requestCWAvailable:e=>{const t=(0,S.getApp)();O.default.get("is_blacklisted")||t.route==h.Route.HIDDEN||(t.maintenance?b.callbackDispatchers.setCallbackAvailable(!1):(W.warn("requestCWAvailable"),(0,C.callWidgetPing)((t=>{b.callbackDispatchers.setCallbackAvailable(t.ok),t.work_time&&(0,N.initDelayedCall)(t.work_time),(0,S.getCallback)().available&&"function"==typeof e&&e()}),t.chatStarted)))},requestApiCWAvailable:e=>{(0,C.callWidgetPing)((t=>{if(b.callbackDispatchers.setCallbackAvailable(t.ok),(0,S.getCallback)().available&&"function"==typeof e)e({result:"ok"});else{const n=t.error_list?t.error_list.join(" "):"Call request error";e({result:"fail",reason:n})}}),(0,S.getApp)().chatStarted)},pingAndOpenCall:()=>{W.info("pingAndOpenCall"),R.connectionAdapter.checkConnection((()=>{const e=(0,S.getApp)();(0,C.callWidgetPing)((e=>{b.callbackDispatchers.setCallbackAvailable(e.ok),e.ok&&(0,S.getApp)().route===h.Route.LABEL&&(b.userDispatchers.setCallHeaderText(null),[E.CallPopupStatus.ENABLED,E.CallPopupStatus.ONLY_BUTTON_CLICK].includes((0,S.getCallback)().separateForm)&&l.platform.isDesktop?g.Router.next(h.RouterEvent.ToCallPopup):(g.Router.next(h.RouterEvent.ToCall),l.platform.isDesktop&&b.transitionDispatchers.startTransition(D.ScriptName.OPEN_WIDGET)),(0,U.telemetry)("cw_api_call_open",void 0,{once:!0}))}),e.chatStarted)}))},startCall:(e,n,r)=>{W.log("startCall from chat",e),R.connectionAdapter.checkConnection((()=>{t.default.startCallDebounce(e.replace(/\D+/g,""),n,r)}))},markEvaluated:()=>{b.chatsDispatchers.setChatEvaluated(!0)},updateTitle:(e,t)=>{if(W.log("updateTitle",e),!window||!window.location)return void W.log("no window");if(l.platform.isMobileOrTablet&&(0,S.getApp)().route!==h.Route.LABEL)return;const n=t||(0,a.getCurrentPage)().url;W.log("updateTitle url",n),(0,P.connectionReadyForMessages)()&&R.connectionAdapter.sendEvent(new k.UrlChange(n,(0,s.setSubstrTitle)(e)))},reloadStories:()=>{i.default.reload(),(0,B.syncRouter)()},clearCallTimeout:()=>{H&&clearTimeout(H)},startCallTimeout:()=>{t.default.clearCallTimeout();const e=(0,S.getCallback)();H=setTimeout((()=>{["cw_wait","cw_connecting"].indexOf(e.status)>=0&&t.default.setCallError()}),24e4)},setCallError:()=>{const e=(0,M.getCallDefaultError)();b.callbackDispatchers.setCallbackStatus(E.CallStatus.ERROR),b.callbackDispatchers.setCallbackError(e),b.messagesDispatchers.addMessage({text:e,type:m.MessageType.SYSTEM,from:m.MessageInitiator.SYSTEM,body:{type:m.MessageType.CALL,name:m.MessageName.CALL_END}})},initReduxStores(){const e=(0,a.getChatPageToken)(),t=(0,S.getApp)().isInputDisabled,n=(0,S.getClient)(),r=n.userToken,s=n.hasIntegration;l.platform.isChatPage&&r!==e&&b.clientDispatchers.setUserToken(e),s&&!o.default.joint&&b.clientDispatchers.setHasIntegration(!1);const u=o.default.callback_settings;if(u){const e=(0,S.getCallback)(),t=e.separateForm,n=e.available;t!==u.separate_form&&b.callbackDispatchers.setSeparateForm(u.separate_form),!u.time&&n&&b.callbackDispatchers.setCallbackAvailable(!1)}if(W.log("initReduxStores",i.default),b.appDispatchers.initAppStore({isFocused:i.default.is_focused,isOnline:i.default.is_online,route:(0,B.needSyncRoute)()?i.default.route:g.Router.getCurrentRoute(),tabRoute:null,lastChatOpened:i.default.lastChatOpened,isInputDisabled:t,maintenance:o.default.maintenance,chatOpenByClient:!1,chatStarted:i.default.chat_started,chatAccepted:i.default.chat_accepted,lastMsgId:i.default.lastMsgId,lastMsgTime:i.default.lastMsgTime,started:i.default.started,viReconnectTime:i.default.viReconnectTime,didFreezeData:i.default.didFreezeData,lastChatStatus:i.default.lastChatStatus,quoteMsgId:i.default.quoteMsgId,hiddenByRules:i.default.hiddenByRules}),(0,A.setOfflineIntroduced)(),l.platform.isMobileOrTablet){if(i.default.route==h.Route.HIDDEN)return;w.default.checkZooms()}else{const e=(0,j.getUserSettings)(),t=e.widgetOrientation,n=e.widgetPadding;(0,L.fixPositionDragData)(t,n)}if(o.default.bots&&o.default.bots.length){const e=o.default.bots[0];b.botsDispatchers.addBot({avatarUrl:e.avatar_url||null,id:e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!0,type:e.type})}d.default.toReduxFormat().length&&(b.agentsDispatchers.initAgentStore(d.default.toReduxFormat()),b.botsDispatchers.initBotsStore(d.default.toReduxFormat())),b.messagesDispatchers.initMessagesStore(),b.chatsDispatchers.initChatsStore(),(0,B.reloadTransitionStore)();const c=(0,S.getProactive)();if(!c.text)return;const f=(0,x.getProactiveAgent)(c);W.warn("restore agent proactiveData",f),f&&(0,x.addProactiveAgent)(f)},reloadTransitionStore(){const e=(0,S.getApp)().route;let t=(0,I.isContainerRoute)(e)?D.ScriptName.OPEN_WIDGET:D.ScriptName.CLOSE_WIDGET;e===h.Route.CALL_POPUP&&(t=D.ScriptName.CLOSE_WIDGET),(0,I.isMinRoute)(e)&&(t=D.ScriptName.MIN_WIDGET),t==D.ScriptName.OPEN_WIDGET&&y.reduxStore.getState().transition.currentScript==D.ScriptName.MAXIMIZE_WIDGET||b.transitionDispatchers.initTransitionStore({currentScript:t})},getCurrentChatStatus(){return(0,S.getApp)().chatAccepted?E.ChatState.ACCEPTED:(0,S.getApp)().chatStarted?E.ChatState.STARTED:E.ChatState.NOT_STARTED_OR_CLOSED},checkChatStarted(e){(0,S.getApp)().isOnline||(W.log("checkChatStarted for offline."),b.appDispatchers.setLastChatOpened(e),c.default.store.length||e||b.appDispatchers.setChatStarted(!1))},initSocial(){z||(T.default.startSocials(),z=!0)}};var $=G;t.default=$},54346:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reportVisitorSentTelemetry=t.isAssistantBot=t.checkTrackClientAnswer=t.callInitiateChat=t.addWebRTCCallMessage=t.addSocialTelemetry=void 0;var o=r(n(138)),i=r(n(14264)),a=n(55329),s=n(44145),l=n(97939),u=n(24344),c=n(16016),d=n(81152),f=n(47138),p=n(26932),g=n(25886),h=n(66434);const m=()=>{const e=(0,s.getApp)().isOnline,t=(0,s.getClient)().isIntroduced;(e||t)&&(o.default.trackClientInitChat(),(0,u.callUserFunction)("onClientStartChat"))};t.callInitiateChat=m;t.checkTrackClientAnswer=()=>{(0,s.getApp)().chatStarted||m();const e=i.default.getCurrentChatAgentMessages(),t=i.default.getCurrentClientMessages();t&&!t.length&&e&&e.length&&o.default.trackClientAnswerAgentChatRequest()};t.reportVisitorSentTelemetry=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=i.default.getChatCounts();(0,h.telemetry)("visitor_msg_sent",{param1:t>0?"old":"new",param2:(0,a.prechatUsed)()?"prechat_used":"from_input",param3:(0,s.getUserSettings)().locale,param4:e?"media":"text"})};t.isAssistantBot=()=>{const e=(0,s.getBots)();return e.length&&e[0].type===l.BotType.ASSISTANT};t.addWebRTCCallMessage=()=>{const e=(0,s.getChats)(),t=e[e.length?e.length-1:0],n=t&&t.joinedAgents[0],r=(0,c.generateGUID)(),o={from:d.MessageInitiator.AGENT,type:d.MessageType.WEB_RTC_CALL,status:d.MessageStatus.DELIVERED,from_id:n,private_id:r,body:{webRTCCallStatus:f.WebRTCCallStatus.INITIAL}};p.messagesDispatchers.addMessage(o),p.callbackDispatchers.setActiveWebRTCCallMessageId(r),p.messagesDispatchers.updateWebRTCCallStatus(r,f.WebRTCCallStatus.INITIAL)};t.addSocialTelemetry=()=>{const e=(0,g.getJoints)().links;let t="";e.vkUrl&&e.fbUrl&&(t="show_vkfb"),e.vkUrl&&!e.fbUrl&&(t="show_vk"),!e.vkUrl&&e.fbUrl&&(t="show_fb"),(e.vkUrl||e.fbUrl)&&(0,h.telemetry)("chat_introduce_social",{param1:t})}},65465:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.messageActions=void 0;var o=r(n(33119)),i=r(n(92664)),a=r(n(26754)),s=n(44145),l=n(31011),u=r(n(14264)),c=r(n(79868)),d=n(90061),f=n(21476),p=n(52028),g=n(13077),h=n(81722),m=r(n(35802)),_=n(20827),v=n(18276),y=n(26932),b=r(n(96394)),C=n(69882),E=n(16016),D=n(24344),T=n(81152),w=n(97490),S=n(55329),O=n(97615),A=n(9550),I=n(42634),k=n(15787),M=n(54346),x=n(49963),P=n(6693),R=n(50188),F=n(73422),L=n(44145),j=n(5895),N=n(8717),B=n(66434),U=n(85074),W=n(54346);const H=(0,d.createLogger)("MessageActions");let z=function(){function e(){(0,o.default)(this,e),this.cacheOfflineMsg={},this.formTimeout=null,this.clientSendingFirstMessage=!1}return(0,i.default)(e,[{key:"systemMessage",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];H.log("systemMessage",e,t);const r={type:"text"!==t?"call":t,name:t};n||(r.unsave=!0),y.messagesDispatchers.addMessage({text:e,type:T.MessageType.SYSTEM,body:r})}},{key:"testMessage",value:function(e){y.messagesDispatchers.addMessage({text:e,type:T.MessageType.FOR_TEST,from:T.MessageInitiator.AGENT})}},{key:"botMessage",value:function(e){H.log("botMessage",e),y.messagesDispatchers.addMessage({type:T.MessageType.PREFORM,text:e,from:T.MessageInitiator.FORM})}},{key:"messageOnce",value:function(e,t,n,r){const o=this.checkIfMessageExists(e,t);if(H.log("messageOnce",o),!o)switch(e){case T.MessageType.SYSTEM:this.systemMessage(t,n,r);break;case T.MessageType.PREFORM:this.botMessage(t);break;case T.MessageType.FOR_TEST:this.testMessage(t)}}},{key:"systemMessageOnce",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.messageOnce(T.MessageType.SYSTEM,e,t,n)}},{key:"botMessageOnce",value:function(e){this.messageOnce(T.MessageType.PREFORM,e)}},{key:"checkIfMessageExists",value:function(e,t){const n=(0,s.getMessages)();if(!n.length)return!1;const r=n.find((n=>{const r=n.type===e,o=!t||n.text===t;return r&&o}));return r||!1}},{key:"_sendClientMessageBase",value:async function(e){let t=e.text,n=e.privateId,r=e.repliedMsgId,o=e.buttonId;H.warn("_sendClientMessageBase",t,n);const i=n||(0,E.generateGUID)();(0,U.showDepartmentsIfPossible)()&&y.clientDispatchers.setDepartmentId(0),(0,I.markInvitationAnswered)(),(0,I.saveLastProactive)(),this.saveLastSystemMessage();const a={name:"client_message",message:t,private_id:i},l=(0,s.getApp)(),d=(0,s.getClient)();(0,F.isNumber)(d.departmentId)&&0!==d.departmentId&&(a.widget_department_id=d.departmentId),r&&(a.replied_msg_id=r),o&&(a.button_id=o);const h=!(0,W.isAssistantBot)()&&!d.isIntroduced&&!l.isOnline;if((0,N.shouldRedirectToIntroduce)())return void f.Router.next(w.RouterEvent.ToIntroduce);let m=null;if(!n){const e={from:T.MessageInitiator.CLIENT,text:t,type:h?T.MessageType.TEMPORARY:T.MessageType.MESSAGE,private_id:i,status:T.MessageStatus.SENT};(0,S.prechatUsed)()&&(e.body={is_prechat:!0}),r&&(e.replied_message=u.default.getMessageById(r).toJSON()),(0,W.isAssistantBot)()&&(0,k.sendClientAnswerTelemetry)(e),m=u.default.push(e),y.messagesDispatchers.addMessage(e,!0)}if(1!==u.default.getClientMessages().length||this.clientSendingFirstMessage||(this.clientSendingFirstMessage=!0,(0,D.callUserFunction)("onMessageSent")),(0,C.isWixEditor)()||p.isDesignerEditor)H.warn("send message disabled.");else if(!m&&n&&(m=u.default.getMessageByPrivateId(n)),(0,S.prechatEnabled)()&&((0,S.prechatUsed)()&&(a.is_prechat_btn=!0),this.deletePrechatMsg()),3==b.default.contacts_ask&&c.default.isLoginned()&&this.initSocial(),this.startContactFormIfNeed(),(0,N.shouldRedirectToIntroduce)())f.Router.next(w.RouterEvent.ToIntroduce);else{if((0,g.getRuleLocal)("firstMessageTime")||(0,g.setRuleLocal)("firstMessageTime",new Date),m){if(h)return;setTimeout((()=>{(0,j.checkForDelivered)(m.get("private_id"))}),P.Timeouts.MESSAGE_SEND_ERROR_TIMEOUT)}y.appDispatchers.setChatStarted(!0),y.appDispatchers.setLastMsgTime((new Date).getTime()),y.clientDispatchers.setLastMessage(""),x.connectionAdapter.isConnected()||await x.connectionAdapter.openConnect(null,!0),(0,k.connectionReadyForMessages)()&&x.connectionAdapter.sendEvent(a),(0,M.reportVisitorSentTelemetry)(),r&&(0,B.telemetry)("visitor_reply_button_send")}}},{key:"startContactFormIfNeed",value:function(){this.needToShowContactsForm()&&!b.default.bots&&this.startFormSequence((0,s.getApp)().isOnline?(0,v.l10n)("lblIntroduceRequest"):(0,v.l10n)("offlineIntroductionText"))}},{key:"needToShowContactsForm",value:function(){if(H.warn("needToShowContactsForm"),(0,W.isAssistantBot)())return!1;const e=(0,s.getApp)(),t=(0,s.getClient)(),n=(0,s.getUserSettings)();return!t.isIntroduced&&!a.default.bot_id&&(-1!==[A.ContactsType.DURING_CHAT,A.ContactsType.DURING_CHAT_NO_CLOSE].indexOf(n.contactsAsk)||!e.isOnline)&&!u.default.getFormMessage().length&&u.default.getClientMessages().length}},{key:"checkContactsForm",value:function(){if(this.needToShowContactsForm()){const e=(0,v.l10n)("lblIntroduceRequest"),t=this.checkIfMessageExists(T.MessageType.PREFORM,e);if(t||this.botMessage(e),t){const e=u.default.getMessageByPrivateId(t.private_id);e&&e.set("created_ts",(new Date).getTime())}this.addContactsForm()}}},{key:"addContactsForm",value:function(){H.warn("addContactsForm");const e=this.checkIfMessageExists(T.MessageType.FORM);if(e){const t=u.default.getMessageByPrivateId(e.private_id);t&&t.set("created_ts",(new Date).getTime()+1)}else y.messagesDispatchers.addMessage({type:T.MessageType.FORM,from:T.MessageInitiator.FORM}),(0,M.addSocialTelemetry)()}},{key:"saveLastSystemMessage",value:function(){const e=u.default.getLastMessage();e&&"system"==e.get("type")&&e.get("body")&&e.get("body").unsave&&e.set("body",null)}},{key:"initSocial",value:function(){if(H.log("initSocial",c.default.isLoginned()),!u.default.getMessagesByType(T.MessageType.SOCIAL).length&&!l.platform.isMobileOrTablet){const e=(0,s.getClient)();setTimeout((()=>{1!==u.default.getCurrentClientMessages().length||e.hasIntegration||(a.default.bot_id||y.messagesDispatchers.addMessage({text:(0,v.l10n)("social_online_text"),type:T.MessageType.SYSTEM,body:{type:T.MessageType.SOCIAL}}),setTimeout((()=>{this.addSocialMessage()}),2e3))}),2e3)}}},{key:"addSocialMessage",value:function(){const e=(0,s.getClient)();H.log("addSocialMessage"),b.default.joint&&!e.email&&!e.hasIntegration&&!l.platform.isMobileOrTablet&&!u.default.getMessagesByType(T.MessageType.SOCIAL).length&&u.default.getCurrentClientMessages().length>0&&y.messagesDispatchers.addMessage({text:"",type:T.MessageType.SOCIAL})}},{key:"getOfflineSuccessText",value:function(){return(0,v.l10n)("offlineSuccessContactsSubmit")}},{key:"offlineSystemInvite",value:function(){if(!(0,s.getApp)().maintenance&&!(0,s.getApp)().isOnline&&!(0,s.getApp)().chatStarted){const e=(0,s.getUserSettings)().offlineFormText;H.log("offlineSystemInvite",e),this.messageOnce(T.MessageType.FOR_TEST,e)}}},{key:"startFormSequence",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700;H.log("startFormSequence",e,t),(0,s.getApp)().isOnline&&a.default.bot_id&&!b.default.enable_bot_offline||((0,W.isAssistantBot)()?H.log("Disable form for assistant bot."):(this.formTimeout&&clearTimeout(this.formTimeout),(0,s.getApp)().isOnline||this.setInputDisabled(!0),t?this.formTimeout=setTimeout((()=>{0===u.default.getFormMessage().length&&(e&&this.botMessageOnce(e),setTimeout((()=>{this.addContactsForm()}),t),(0,B.telemetry)("chat_introduce",{param1:"show"}))}),t):0===u.default.getFormMessage().length&&(e&&this.botMessageOnce(e),this.addContactsForm(),(0,B.telemetry)("chat_introduce",{param1:"show"}))))}},{key:"deleteUnansweredOfflineSystemInvite",value:function(){if(H.warn("deleteUnansweredOfflineSystemInvite"),!(0,L.getTemporaryMessages)().length){this.deleteOfflineSystemInvites();const e=(0,s.getClient)();(0,h.isValidEmail)()||e.isIntroduced||this.deleteOfflineTmpMessage(),y.messagesDispatchers.initMessagesStore()}}},{key:"deleteOfflineTmpMessage",value:function(){H.warn("deleteOfflineTmpMessage"),this.destroyByType(T.MessageType.FOR_TEST),this.destroyByType(T.MessageType.TEMPORARY),(0,s.getApp)().isOnline&&0==b.default.contacts_ask||(this.destroyByType(T.MessageType.PREFORM),this.destroyByType(T.MessageType.FORM))}},{key:"addPrechatMessage",value:function(e){if(!(0,S.prechatEnabled)())return;const t=(0,L.getLastMessageByType)(T.MessageType.PRECHAT);(0,U.needShowPrechats)()&&!t?this.pushPrechat(e):t&&(y.messagesDispatchers.updateMessage({privateId:t.private_id},{created_ts:(new Date).getTime()}),(0,S.updatePrechatTime)((new Date).getTime()),u.default.sort(),u.default.trigger("update"))}},{key:"pushPrechat",value:function(e){y.messagesDispatchers.addMessage({body:{unsave:!0,prechats:e||b.default.prechat||null},type:T.MessageType.PRECHAT,from:T.MessageInitiator.FORM})}},{key:"deletePrechatMsg",value:function(){const e=u.default.getMessagesByType(T.MessageType.PRECHAT);e&&e.forEach((e=>{e&&e.destroy()}))}},{key:"deleteOfflineSystemInvites",value:function(){const e=u.default.getMessagesByType(T.MessageType.FOR_TEST);H.log("deleteOfflineSystemInvites",e),e.forEach((e=>{e&&e.destroy()}))}},{key:"addMaintenanceMessage",value:function(){this.systemMessageOnce((0,v.l10n)("maintenanceSystemText"),"text",!1)}},{key:"deleteMaintenanceMessage",value:function(){H.log("deleteMaintenanceMessage");u.default.getSystemMessageByText((0,v.l10n)("maintenanceSystemText")).forEach((e=>{e&&e.destroy()})),u.default.trigger("update")}},{key:"destroyByType",value:function(e){u.default.getMessagesByType(e).forEach((e=>{e&&e.destroy()}))}},{key:"markdownMessage",value:function(e){H.log("markdownMessage",e),y.messagesDispatchers.addMessage({type:T.MessageType.MESSAGE,text:e,from:T.MessageInitiator.AGENT,body:{customerIO:!0,unsave:!0}})}},{key:"systemCallMessage",value:function(e,t){const n=u.default.getLastMessage();(!n||n&&n.get("text")!==e)&&this.systemMessage(e.replace("<br />","\n"),t)}},{key:"sendClientMessage",value:function(e){let t=e.text,n=e.privateId,r=e.repliedMsgId,o=e.buttonId;0!==u.default.getClientMessages().length||O.EnvironmentManager.isDesignerEditor()||O.EnvironmentManager.isRegPage()?this.sendClientMessageCheck({text:t,privateId:n,repliedMsgId:r,buttonId:o}):R.WidgetStatus.getStatus((()=>{this.sendClientMessageCheck({text:t,privateId:n,repliedMsgId:r,buttonId:o})}))}},{key:"sendClientMessageCheck",value:function(e){let t=e.text,n=e.privateId,r=e.repliedMsgId,o=e.buttonId;if(n){m.default.getInstance()&&x.connectionAdapter.setLastError(null)}if(b.default.bots)return this._sendClientMessageBase({text:t,privateId:n,repliedMsgId:r,buttonId:o}),void(b.default.enable_bot_offline||this.handleContactsForm());(0,s.getApp)().isOnline||this.handleContactsForm(),this._sendClientMessageBase({text:t,privateId:n,repliedMsgId:r})}},{key:"offlineAck",value:function(e){H.log("offlineAck"),(0,_.isEmpty)(this.cacheOfflineMsg)&&!e||(f.Router.getCurrentRoute()===w.Route.CHAT||l.platform.isMobileOrTablet||f.Router.next(w.RouterEvent.ToChat),this.cacheOfflineMsg=e)}},{key:"sendNoAgentsOnline",value:function(){b.default.bots||b.default.enable_bot_offline||(0,W.isAssistantBot)()||this.systemMessageOnce((0,v.l10n)("offlineForceOfflineMessage"))}},{key:"handleContactsForm",value:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,s.getClient)();if(!(0,s.getApp)().isOnline&&!t.isIntroduced&&u.default.getClientMessages().length&&(u.default.getOfflineTmpMessage()||e)){H.warn("handleContactsForm");const e=u.default.getFormMessage();if(0===e.length)this.startFormSequence((0,v.l10n)("offlineIntroductionText")),(0,B.telemetry)("offline_first_message",void 0,{once:!0});else{const t=u.default.getFormIntroduceText();t.length&&t[0].set({text:(0,v.l10n)("offlineIntroductionText"),created_ts:(new Date).getTime()}),e[0].set("created_ts",(new Date).getTime()+1),u.default.sort(),setTimeout((()=>{u.default.trigger("update")}),200),this.setInputDisabled(!0)}}}},{key:"handleBotContactsForm",value:function(){const e=(0,s.getClient)();H.log("handleBotContactsForm"),!e.isIntroduced&&b.default.bots&&b.default.enable_bot_offline&&0===u.default.getFormMessage().length&&(this.startFormSequence(),(0,B.telemetry)("offline_first_message",void 0,{once:!0}))}},{key:"setInputDisabled",value:function(e){H.log("setInputDisabled",e),y.appDispatchers.setIsInputDisabled(e)}},{key:"checkMessageStatus",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Timeouts.MESSAGE_SEND_ERROR_TIMEOUT;return H.log("checkMessageStatus"),new Promise((n=>{setTimeout((()=>{const t=(0,s.getMessageByPrivateId)(e);let r=!1;t?(t.msg_id||(y.messagesDispatchers.updateMessage({privateId:t.private_id},{status:T.MessageStatus.NOT_DELIVERED}),r=!0,n({isNotDelivered:r,isDeleted:t.status===T.MessageStatus.DELETED})),n({isNotDelivered:r,isDeleted:t.status===T.MessageStatus.DELETED})):(r=!0,n({isNotDelivered:r,isDeleted:!1}))}),t)}))}},{key:"setListpickerAnswer",value:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=u.default.getListpickerById(e);if(r){if(H.log("setListpickerAnswer",e,t,r),r.get("body.force_reply")&&r.set("body.force_reply",!1),!n){r.set("body.answer_id",parseInt(t));const e=r.get("body.keyboard")[t];r.set("body.keyboard",[e]),r.destroy()}this.setInputDisabled(!1)}}},{key:"hideEmailForm",value:function(){const e=u.default.getMessagesByType("email");e.length&&e[e.length-1].destroy()}},{key:"addMessagesOnOpen",value:function(e){this.deleteUnansweredOfflineSystemInvite(),e?this.addPrechatMessage():this.offlineSystemInvite()}}]),e}();const G=new z;t.messageActions=G},62162:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.sendUpdateProactive=t.getProactiveAgent=t.getCurrentProactiveData=t.addProactiveAgentToChat=t.addProactiveAgent=void 0;var o=n(81152),i=n(16016),a=n(26932),s=n(44145),l=r(n(35802)),u=n(13077),c=n(90061),d=r(n(14762)),f=n(49963),p=n(40694);const g=(0,c.createLogger)("proactiveHelpers");t.getProactiveAgent=e=>e.text?e.botId?(0,s.getBotById)(e.botId):e.agentId?(0,s.getAgentById)(e.agentId):null:null;const h=(e,t)=>{e.isBot?a.botsDispatchers.addBot({avatarUrl:e.avatarUrl,id:e.id,name:e.name,title:e.title,isBot:!0}):a.agentsDispatchers.addAgent(e),t&&m(e)};t.addProactiveAgent=h;const m=e=>{e.isBot?a.chatsDispatchers.setJoinedBots([e.id]):a.chatsDispatchers.addJoinedAgent(e.id)};t.addProactiveAgentToChat=m;t.getCurrentProactiveData=(e,t,n,r,a,s)=>{const l=(0,p.agentToReduxFormat)(s);return h(l,!1),d.default.updateAgentList([s]),{text:e,name:t,createdTs:(new Date).getTime(),privateId:(0,i.generateGUID)(),status:o.MessageStatus.EMPTY,agentId:l.isBot?null:l.id,botId:l.isBot?l.id:null,isMarkdown:!!n,prechats:r,campaignId:a}};t.sendUpdateProactive=e=>{const t=(0,s.getClient)().sessionId;if(!t)return void g.log("updateProactive no session.");const n={name:"update_client",jv_sess_id:t};e&&(n.proactive_rule={invitation_text:e.text,private_id:e.privateId,created_ts:Math.floor(e.createdTs/1e3)},e.isMarkdown&&(n.proactive_rule.is_markdown=!0),e.agentId&&(n.proactive_rule.agent_id=e.agentId),e.botId&&(n.proactive_rule.bot_id=e.botId));const r=JSON.stringify(n);if((0,u.getRuleLocal)("lastUpdateProactiveEvent")!=r&&((0,u.setRuleLocal)("lastUpdateProactiveEvent",r),g.log("sendUpdateProactive",n),n.proactive_rule)){l.default.getInstance()&&f.connectionAdapter.sendEventIfConnected(n)}}},92443:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(26754)),i=r(n(14264)),a=r(n(91275)),s=n(31011),l=n(21476),u=n(97490),c=n(65465),d=n(81152),f=n(26932),p=n(50402),g=n(44145),h=n(47138),m=n(44733),_=n(13077),v=n(90061),y=r(n(138)),b=n(55329),C=n(43902),E=n(75998),D=n(91920),T=n(42634),w=n(62162),S=n(66434);const O=(0,v.createLogger)("ruleActions"),A=()=>{(0,g.getApp)().isOnline&&c.messageActions.deleteUnansweredOfflineSystemInvite(),l.Router.getCurrentRoute()!==u.Route.LABEL||s.platform.isMobileOrTablet||(l.Router.next(u.RouterEvent.ToChat),f.transitionDispatchers.startTransition(p.ScriptName.OPEN_WIDGET),(0,T.readProactive)())},I=e=>{m.StorageProvider.set("hide_reported",e)};var k={proactive:e=>{let t=e.message,n=e.agentInfo,r=e.name,i=e.isMarkdown,a=e.prechats,s=e.campaignId,l=e.conditionList,u=e.extra;Object.assign(o.default,n);const c=(0,w.getCurrentProactiveData)(t,r,i,a,s,n);f.proactiveDispatchers.addProactive(c);const p={is_markdown:i,unsave:!0,agent_info:n};s&&(p.campaign_id=s),u&&(p.extra=u);const g={from:d.MessageInitiator.AGENT,from_id:n.agent_id,status:d.MessageStatus.READ,private_id:c.privateId,text:c.text,created_ts:c.createdTs,type:d.MessageType.PROACTIVE,body:p};n.bot_id&&(g.from_id=n.bot_id,g.from=d.MessageType.BOT),f.messagesDispatchers.addMessage(g),f.userDispatchers.setCallHeaderText(null),A(),(0,w.sendUpdateProactive)(c),(0,b.updatePrechatTime)(c.createdTs),I(!1),s&&C.StatsManager.send({campaignId:s},"shown");const h=s?"campaign"+s:(0,_.isDefaultProactive)()?"default":"custom";(0,S.telemetry)("chat_invite",{param1:h,param2:(0,_.timeDiff)((0,_.getRuleLocal)("pageEnterTime")),param3:(0,D.hasCustomLabel)()?"customlabel":"label",param4:l})},showCallForm:(e,t)=>{a.default.requestCWAvailable((()=>{if(O.log("requestCWAvailable: ",(0,g.getCallback)().available),(0,S.telemetry)("cwp_show_on_proactive"),!s.platform.isMobileOrTablet&&[h.CallPopupStatus.ENABLED,h.CallPopupStatus.ONLY_TRIGGERS].includes((0,g.getCallback)().separateForm))return f.userDispatchers.setCallHeaderText(e),l.Router.next(u.RouterEvent.ToCallPopup),"function"==typeof t&&t(),void I(!1);(0,g.getCallback)().available&&(0,g.getApp)().route==u.Route.LABEL&&(f.userDispatchers.setCallHeaderText(e),!s.platform.isMobileOrTablet&&l.Router.next(u.RouterEvent.ToCall),f.transitionDispatchers.startTransition(p.ScriptName.OPEN_WIDGET),"function"==typeof t&&t(),I(!1))}))},systemMessage:e=>{if(o.default.bot_id)return;const t=i.default.getLastMessage();t&&t.get("type")===d.MessageType.SYSTEM&&t.get("text")===e&&t.destroy();const n={type:d.MessageType.SYSTEM,text:e};(0,g.getApp)().chatStarted||(n.body={unsave:!0}),f.messagesDispatchers.addMessage(n),A(),I(!1)},systemMessageEmail:e=>{f.messagesDispatchers.addMessage({type:"email",text:e,body:{unsave:!0}}),A(),y.default.trackSystemMessageEmailShown(),I(!1)},openOffline:()=>{c.messageActions.offlineSystemInvite(),A(),I(!1),(0,S.telemetry)("offline_invite")},showPopup:e=>{O.log("ruleActions: showCampaignPopup",e),E.campaignPopupDispatch.updateCampaignPopup(e),E.campaignPopupDispatch.setDisplay(!0)}};t.default=k},50350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendUrlChange=void 0;var r=n(97490),o=n(31011),i=n(44145),a=n(69882),s=n(41504),l=n(16016),u=n(49963),c=n(90061),d=n(15787);const f=(0,c.createLogger)("sendUrlChange");t.sendUrlChange=(e,t)=>{if(!window||!window.location)return void f.log("no window");if(o.platform.isMobileOrTablet&&(0,i.getApp)().route!==r.Route.LABEL)return;const n=t||(0,a.getCurrentPage)().url;f.log("updateTitle url",n),(0,d.connectionReadyForMessages)()&&u.connectionAdapter.sendEvent(new s.UrlChange(n,(0,l.setSubstrTitle)(e)))}},64123:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setCallbackStatus=t.getStarupTime=t.enableRecaptchaAntispam=void 0;var o=n(90061),i=n(26932),a=n(65465),s=n(13077),l=n(18276),u=r(n(5735));const c=(0,o.createLogger)("Action utils",{style:"color: grey;"});t.setCallbackStatus=e=>{c.log("setCallbackStatus",e),i.callbackDispatchers.setCallbackStatus(!!e&&e.status)};t.getStarupTime=()=>(((new Date).getTime()-(0,s.getRuleLocal)("sendStartupTime")||0)/1e3).toFixed(1);t.enableRecaptchaAntispam=()=>{c.log("Enable antispam"),i.callbackDispatchers.setCallbackAvailable(!1),a.messageActions.systemMessageOnce((0,l.l10n)("maintenanceSystemText"),"text",!1),i.appDispatchers.setIsInputDisabled(!0),u.default.allRulesCancel()}},138:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(61125)),i=n(90061),a=n(68403),s=n(45926),l=n(93765),u=n(73422),c=n(48999);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const f=(0,i.createLogger)("analytics"),p={counters:{ya:0,fb:0,ga:0},_yaCounter:[],_trackedEvents:[],getCountersTelemetry:function(){return{param2:this.counters.ya,param3:this.counters.fb,param4:this.counters.ga}},getAnalyticsClientId:function(){const e=(0,s.getPageWindow)(),t={};return"function"==typeof e.ga&&("function"==typeof e.ga.getAll&&e.ga.getAll().forEach((e=>{t.ga||(t.ga=e.get("clientId"))})),this.counters.ga=1),!t.ga&&e.gaGlobal&&(t.ga=e.gaGlobal.vid,this.counters.ga=1),this._yaCounter.forEach((n=>{e[n]&&"function"==typeof e[n].getClientID&&(t.ym||(t.ym=e[n].getClientID()))})),t},isAnalyticsIdAvaiable:function(){if(!this.isEnabled())return!1;const e=this.getAnalyticsClientId();return f.log("Counters userId",e),!(!(0,a.isPaidCustomer)()||!e.ga&&!e.ym)&&e},init:function(){if(this.isEnabled()){this._yaCounter=[];try{const e=(0,s.getPageWindow)();for(const t in e)0===t.indexOf("yaCounter")&&"function"==typeof e[t].reachGoal&&(this._yaCounter.push(t),this.counters.ya=1);!this.counters.ya&&e.Ya&&e.Ya._metrika&&e.Ya._metrika.getCounters&&e.Ya._metrika.getCounters().forEach((t=>{const n=e["yaCounter"+t.id];n&&this._yaCounter.push(n)})),f.log("Active Yandex counters: ",this._yaCounter.length)}catch(e){f.log(e.toString())}}},isEnabled:function(){if(!(0,a.isAnalyticsDisabled)()&&(0,a.isPaidCustomer)())return!0},_trackEvent:function(e,t,n){if(!this.isEnabled())return;if(!n&&this._trackedEvents.includes(e))return;this.counters.ga&&this.counters.ya||this.init(),this._trackedEvents.push(e),f.info(`trackEvent action: ${e}, label: ${t}`);const r=(0,s.getPageWindow)();void 0!==r._gaq&&"function"==typeof r._gaq.push&&r._gaq.push(["_trackEvent","JivoSite",e,t,void 0,!0]),"function"==typeof r.ga&&"function"==typeof r.ga.getAll&&(r.ga.getAll().forEach((function(n){const r=n.get("name");f.log("track ga:",n.get("name"),e,t),r&&0!==r.search(/^gtag_/i)&&n.send("event","JivoSite",e,t,{nonInteraction:1})})),this.counters.ga=1);const i="function"==typeof r.gtag,a={event_category:"JivoSite",event_action:e,event_label:t};if(i&&(f.log("track gtag:",a),r.gtag("event","JivoSite",a),this.counters.ga=1),!i&&r.dataLayer&&"function"==typeof r.dataLayer.push&&(f.log("track dataLayer:",a),r.dataLayer.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event:"JivoSite"},a)),this.counters.ga=1),r._gaUA_real&&"function"==typeof r._gaUA_real.getAll){const n=r._gaUA_real.getAll();2==n.length&&(n[1].send("event","JivoSite",e,t,{nonInteraction:1}),f.log("Track event to custom tiu client counter",n[1].get("trackingId"),e,t)),this.counters.ga=1}if(r.gaUA&&"function"==typeof r.gaUA.getAll){const n=r.gaUA.getAll();n.length&&n.length>0&&n[1]&&"function"==typeof n[1].send&&(n[1].send("event","JivoSite",e,t,{nonInteraction:1}),f.log("Track event to custom tiu client counter",n[1].get("trackingId"),e,t)),this.counters.ga=1}if(this._yaCounter.length>0){e=["Jivo"].concat(e.split(" ")).join("_");var l=(0,s.getPageWindow)();this._yaCounter.forEach((function(t){l&&l[t]&&"function"==typeof l[t].reachGoal&&l[t].reachGoal(e)})),this.counters.ya=1}this.trackFBEvents(e)},_setCustomVar:function(e,t){f.log("_setCustomVar: "+e+"/"+t);const n=(0,s.getPageWindow)();if(void 0!==n._gaq&&n._gaq.push(["_setCustomVar",1,e,t,1]),"function"==typeof n.ga&&n.ga("set",e,t),this._yaCounter.length>0){const r={};r[e]=t,this._yaCounter.forEach((function(e){n[e].params(r)}))}},trackFBEvents:function(e){const t=(0,s.getPageWindow)().fbq;t&&!(0,a.isJivoSite)()&&(e=e.replace(/ /gi,"_").replace("Jivo_",""),f.log("trackFBEvents",e),(0,u.isFunction)(t)&&(t("trackCustom","Jivo",{content_name:e}),this.counters.fb=1))},trackChatOpenedByClick:function(){this._trackEvent("Chat requested","User clicked chat widget")},trackOfflineFormOpenedByClick:function(){this._trackEvent("Offline form shown","User offline form")},trackOfflineMessageSent:function(){this._trackEvent("Offline message sent","User sent message via offline form")},trackProactiveInvitationShown:function(e){this._trackEvent("Proactive invitation shown",e)},trackProactiveInvitationAccepted:function(e){this._trackEvent("Proactive invitation accepted",e)},trackProactiveInvitationRejected:function(e){this._trackEvent("Proactive invitation rejected",e)},trackCampaignShown:function(e){this._trackEvent("jivo_chat_campaign_shown",e,!0)},trackCampaignAccepted:function(e){this._trackEvent("jivo_chat_campaign_answered",e,!0)},trackCampaignRejected:function(e){this._trackEvent("jivo_chat_campaign_closed",e,!0)},trackPopupClosed:function(e){this._trackEvent("jivo_popup_closed",e,!0)},trackChatConnected:function(){this._trackEvent("Chat established","User connected to agent")},trackGaveContacts:function(){const e="User gave contacts during chat";this._trackEvent(e,e)},trackCallWidgetInvitationShown:function(e){this._trackEvent("Callback invitation shown",e)},trackCallWidgetRequested:function(){this._trackEvent("Callback requested","User request callback.")},setABTestGroupContacts:function(e,t){this._setCustomVar(e,t)},trackSystemMessageEmailShown:function(){const e="In-chat email form shown";this._trackEvent(e,e)},trackSystemMessageEmailSubmitted:function(){const e="In-chat email form submitted";this._trackEvent(e,e)},trackContinueInSocial:function(e){this._trackEvent("Continue in social",`User clicked ${e} button`)},trackMobileSocial:function(e){const t=this.getSocialName(e);this._trackEvent(`Jivo_${t}`,`User tap ${t} mobile link`)},trackSocial:function(e){const t=this.getSocialName(e);this._trackEvent(`Jivo_${t}`,`User click ${t} label link`)},trackClientInitChat:function(){this._trackEvent("Client initiate chat","Client initiate chat")},trackClientAnswerAgentChatRequest:function(){const e="Client answer on agent request";this._trackEvent(e,e)},trackMobileCallClick:function(){this._trackEvent("Mobile call","Mobile call")},trackVideoCallClick:function(){this._trackEvent("Video call","User requested video call")},trackCallClick:function(){this._trackEvent("Callback button","User requested callback form")},trackPrechatClick:function(e){this._trackEvent("Prechat phrase clicked",e)},trackBotButtonClick:function(e){this._trackEvent("Client press bot button",e)},getSocialName(e){switch(e){case"vk":return"Vkontakte";case"fb":return"Facebook";case"ig":return"Instagram";case"wa":return"WhatsApp";case"tg":return"Telegram";case"vb":return"Viber";default:return e}},reportCampaign:function(e,t){const n=(0,c.getCampaignById)(t);if(!n)return;const r="popup"===n.type;this._trackEvent("jivo_"+this.getCampaignText(e,r),"name_"+(0,l.replaceAll)(n.title," ","_"),!0)},getCampaignText:function(e,t){return`${t?"popup":"chat_campaign"}_${e}`}};var g=p;t.default=g},42908:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var o=r(n(61125)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(96394)),a=r(n(95003)),s=n(20827),l=r(n(27104)),u=r(n(138)),c=r(n(91275)),d=n(21476),f=n(65465),p=r(n(86961)),g=r(n(14264)),h=r(n(98960)),m=n(31984),_=n(26932),v=n(50402),y=n(13077),b=r(n(73687)),C=r(n(35802)),E=n(97490),D=n(78692),T=r(n(5735)),w=n(41504),S=n(84727),O=n(97615),A=n(44145),I=n(90061),k=n(49963),M=n(90970),x=n(91920),P=n(73422),R=n(32915),F=n(34930),L=n(31011),j=n(42910),N=n(25886),B=n(66434),U=n(15787),W=n(83907),H=n(50350);function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const V=(0,I.createLogger)("api",{style:"color: grey"}),Z={open:e=>{const t=(0,A.getApp)();if((0,B.telemetry)("api_open",{param1:e,param2:(0,x.hasCustomLabel)()},{probability:"medium"}),b.default.get("is_blacklisted"))return{result:"fail"};L.platform.isMobileOrTablet&&(0,x.showCustomLabel)(!0);const n=(0,P.isObject)(e);return n&&"call"===e.start?i.default.callback_settings.time?(t.route===E.Route.CALL||(T.default.allRulesCancel(),c.default.pingAndOpenCall()),{result:"ok"}):(V.info("Callback is disabled."),{result:"fail",reason:"Callback is disabled"}):t.route===E.Route.CHAT?{result:"ok",opened:!0}:(_.appDispatchers.setAppIsFocused(!0),n&&"menu"===e.start?L.platform.isMobile&&(0,N.getJoints)().count>0?(_.appDispatchers.setChatOpenByClient(!1),d.Router.next(E.RouterEvent.ToMobileMenu)):(_.transitionDispatchers.startTransition(v.ScriptName.OPEN_WIDGET),d.Router.next(E.RouterEvent.ApiOpen)):(L.platform.isDesktop&&_.transitionDispatchers.startTransition(v.ScriptName.OPEN_WIDGET),d.Router.next(E.RouterEvent.ApiOpen)),f.messageActions.offlineSystemInvite(),f.messageActions.addPrechatMessage(),(0,x.hasCustomLabel)()&&L.platform.isMobileOrTablet&&((0,A.getApp)().isOnline?u.default.trackChatOpenedByClick():u.default.trackOfflineFormOpenedByClick()),{result:"ok"})},close:()=>{if((0,B.telemetry)("api_close",void 0,{probability:"medium"}),b.default.get("is_blacklisted"))return{result:"fail"};if([E.Route.LABEL,E.Route.CHAT_MIN].indexOf((0,A.getApp)().route)>=0)return{result:"ok",closed:!0};if((0,F.closeWidget)(),L.platform.isMobileOrTablet)d.Router.next(E.RouterEvent.CloseWindow);else{const e=(0,A.getApp)().chatAccepted?v.ScriptName.MINIMIZE_WIDGET:v.ScriptName.CLOSE_WIDGET;_.transitionDispatchers.startTransition(e)}return{result:"ok"}},getContactInfo:()=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;(0,B.telemetry)("api_getcontactinfo",void 0,{probability:"one"});const e=(0,A.getClient)();return{client_name:e.name,email:e.email,phone:e.phone,description:e.description}},getVisitorNumber:e=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;V.log("getVisitorNumber",e);const t=(0,A.getClient)().clientId;if(t&&t.indexOf(".")>0&&(0,P.isFunction)(e))return e(null,t.split(".")[0]);(0,P.isFunction)(e)?((0,B.telemetry)("api_getvisitornumber",void 0,{probability:"one"}),p.default.getVisitorNumber(((n,r)=>{if(V.log(n,r),n)V.log("Error fetch visitor number.");else if((0,P.isObject)(r.data)&&r.data.client_id&&r.data.result){const n=r.data.client_id;t||_.clientDispatchers.updateClient({clientId:n}),(0,P.isFunction)(e)&&(0,P.isString)(n)&&e(null,n.split(".")[0])}else V.error("Error fetching visitor number")}))):V.error("Please provide callback function in jivo_api.getVisitorNumber(callback)")},setUserToken:e=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;if(V.log("setUserToken",e),(0,B.telemetry)("api_setusertoken",void 0,{probability:"medium"}),"string"==typeof e||e instanceof String){const t=(0,A.getClient)();let n;const r=e!==t.userToken;r&&_.clientDispatchers.setUserToken(e);if(C.default.getInstance()){if(r&&k.connectionAdapter.isConnected())k.connectionAdapter.sendEvent(new w.UpdateUserToken(e)),V.log(`WIDGET: Token updated, token: ${e}`);else{V.log("WIDGET: Token set, but was not sent to the server");const n=(0,A.getFeatures)().userToken&&e&&(!t.clientId||!t.sessionId);!k.connectionAdapter.isConnected()&&n&&k.connectionAdapter.openConnect(!1,!0)}n={result:"ok",token:e||!1}}return!i.default.enable_api_invitation&&O.EnvironmentManager.isProduction()||(0,A.getApp)().chatStarted||D.ApiInvitationsManager.initialize(e),n}return V.error("WIDGET: Bad token. The token must be type of string"),{result:"fail",token:e||!1}},setCustomData:e=>{var t;if(!(O.EnvironmentManager.isJsApiAvaiable()||null!==(t=i.default.modules)&&void 0!==t&&t.jivo_marketing))return R.paidRequired;if((0,A.getFeatures)().disableCustomData)return delete R.paidRequired.reason,V.info("Set custom data is disabled."),R.paidRequired;(0,B.telemetry)("api_setcustomdata",void 0,{probability:"one"});const n=(0,A.getSystemSettings)().apiDomain,r=(0,S.validateCustomData)(e,n),o=(0,A.getClient)().customData;return(0,P.isArray)(r)?o&&(0,M.isArrayEqual)(r,(0,A.getClient)().customData)?{result:"fail",reason:"Cannot send the same data"}:((0,U.checkCustomData)(r),{result:"ok"}):(V.error("Invalid custom data.",r),{result:"fail",reason:r})},sendMessage:e=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;if("string"!=typeof e||"[object Object]"===Object.prototype.toString.call(e))return{result:"fail",error:"First argument must be text to send message."};const t=g.default.getClientMessages();return t.length&&e==t[t.length-1].get("text")?{result:"fail",error:"You cannot send 2 messages in a row"}:(f.messageActions.sendClientMessage({text:e}),(0,B.telemetry)("api_sendmessage",void 0,{once:!0}),{result:"ok"})},setContactInfo:e=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;if((0,B.telemetry)("api_setcontactinfo",void 0,{probability:"one"}),e&&(0,P.isObject)(e)){V.log("setContactInfo",e);const t={};let n=!1,r="";for(const o in e)if({}.hasOwnProperty.call(e,o)){const i=e[o];let a=o;"name"==a&&(a="client_name"),i&&h.default[a]&&h.default[a](i)?(t[o]=i,n=!0):(V.error(a+" not valid."),r+=a+" not valid.")}if(n){return(0,U.sendApiIntroduce)(t)?{result:"ok",data:t}:{result:"false",data:t,error:"Cant send same client contacts twice."}}return(0,B.telemetry)("api_setcontactinfo_bad_data",void 0,{probability:"medium"}),V.error("setContactInfo bad data",e),{result:"fail",error:r}}},showProactiveInvitation:(e,t,n)=>{const r=(0,A.getClient)();(0,y.isYandexMarketClient)(r.utm)?V.log("Disabled for YM clients"):O.EnvironmentManager.isJsApiAvaiable()?((0,B.telemetry)("api_showproactiveinvitation",void 0,{once:!0}),T.default.showProactive(e,t?+t:void 0,"jivo_api.showProactiveInvitation",n),T.default.cancelRule(W.RuleTypes.PROACTIVE)):V.log("Proactive disabled for free users.")},highlightCobrowse:(e,t,n)=>{if(!e)return!1},sendOfflineMessage:e=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;if((0,B.telemetry)("api_sendofflinemessage",void 0,{once:!0}),V.log("sendOfflineMessage",e),(0,A.getApp)().isOnline)return{result:"fail",error:"Error send offline message when chat is online."};if((0,P.isObject)(e)){V.log("sendOfflineMessage",e);let t="";for(const n in e)if({}.hasOwnProperty.call(e,n)){const r=e[n];let o=n;"name"==o&&(o="client_name"),r&&h.default[o]&&h.default[o](r)||(V.error(o+" not valid."),t+=o+" not valid. ")}if(""==t){return(0,U.sendApiIntroduce)(e)?{result:"ok"}:{result:"fail",error:"Cant send same message and contacts twice."}}return V.warn("sendOfflineMessage bad data",e),(0,B.telemetry)("api_sendofflinemessage_bad_data",void 0,{once:!0}),{result:"fail",error:t}}return{result:"fail",error:"Invalid params for offline message"}},setRules:e=>O.EnvironmentManager.isJsApiAvaiable()?((0,B.telemetry)("api_setrules",void 0,{once:!0}),(0,P.isArray)(e)?(T.default.allRulesCancel(),T.default.rules=[],(0,i.setConfigParam)("rules",e),T.default.init(),{result:"ok"}):(V.error("Invalid type of rules, must be object."),{result:"fail"})):R.paidRequired,chatMode:()=>O.EnvironmentManager.isJsApiAvaiable()?((0,B.telemetry)("api_chatmode",void 0,{probability:"one"}),i.default.chat_mode):R.paidRequired,setWidgetColor:(e,t)=>{(0,B.telemetry)("api_setwidgetcolor",void 0,{once:!0});const n=l.default.isLightColor(e)?"dark":"light";_.userDispatchers.setWidgetColor(e),_.userDispatchers.setWidgetColor2(t||null),_.userDispatchers.setWidgetFontColor(n)},sendPageTitle:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return O.EnvironmentManager.isJsApiAvaiable()?e&&"string"==typeof e?((0,H.sendUrlChange)(e,n),t&&(0,B.telemetry)("api_sendpagetitle",void 0,{once:!0}),{result:"ok"}):{result:"fail",reason:"Invalid title"}:R.paidRequired},isCallbackEnabled:e=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;"function"==typeof e&&((0,B.telemetry)("api_iscallbackenabled",void 0,{probability:"medium"}),(0,s.isEmpty)(i.default.callback_settings)?e({result:"fail",reason:"Callback disabled"}):c.default.requestApiCWAvailable(e))},startCall:e=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;const t=(0,A.getCallback)();if(V.log("api startCall",e),!t.available||(0,s.isEmpty)(i.default.callback_settings))return{result:"fail",reason:"Callback disabled"};if(e){const t=(0,m.getPhoneNumberInfo)(e);return t?(e="+"+t.number,d.Router.next(E.RouterEvent.ToCall),c.default.startCall(e,"from_api"),{result:"ok"}):{result:"fail",reason:"Invalid phone"}}return{result:"fail",reason:"Invalid phone"}},getUtm:()=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;(0,B.telemetry)("api_getutm",void 0,{probability:"medium"});const e=(0,A.getClient)().utm;return{term:e.term||e.keyword||null,campaign:e.campaign||null,content:e.content||null,medium:e.medium||null,source:e.source||null}},getUnreadMessagesCount:()=>{const e=(0,A.getUnreadMessages)();V.log("getUnreadMessagesCount",e);const t=(0,A.getLastChatId)();return e.filter((e=>e.chat_id===t)).length},clearHistory:()=>{if(!O.EnvironmentManager.isJsApiAvaiable())return R.paidRequired;_.clientDispatchers.resetClient(),a.default.reset(),g.default.destroy(),V.log("Client info deleted, history cleared.")},showCampaignPopup:(e,t,n,r)=>{if(!O.EnvironmentManager.isTesting()&&!O.EnvironmentManager.isApp())return;const o=i.default.campaigns.find((t=>t.campaign_id===e));o&&T.default.showCampaignPopup($($({},o.content.popup_settings),{},{campaignId:e,answerData:t,onSubmitActionCallback:n}),r)},setTelegramLink:e=>(0,R.setJointLink)(e,"tg"),setWhatsAppLink:e=>(0,R.setJointLink)(e,"wa"),setVKLink:e=>(0,R.setJointLink)(e,"vk")};t.api=Z,i.default.enable_client_attributes&&(Z.setClientAttributes=j.setClientAttributes),O.EnvironmentManager.isProduction()&&1!==i.default.site_id||(Z.setExternalData=e=>{_.clientDispatchers.setExternalData(e)})},99040:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTIVE_TEST=void 0;t.ACTIVE_TEST=!1},52274:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROACTIVE_TEXT_LIMIT=t.PROACTIVE_MAX_HEIGHT=t.MP_LINE_HEIGHT=t.MP_AGENT_HEIGHT=t.MIN_IMG_WH=t.MINIMAL_WIDGET_HEIGHT=t.MAX_IMAGE_WIDTH=t.MAX_FILE_SIZE=t.MAX_EXTENDED_FILE_SIZE=t.MAX_ATTRIBUTE_STRING_LENGTH=t.MAX_ATTRIBUTE_NUMBER_LENGTH=t.MAX_ALLOWED_USER_ZOOM=t.MAINT_RECONNECT_TIMEOUT=t.LABEL_HEIGHT=t.INPUT_MOBILE_HEIGHT=t.INPUT_HEIGHT=t.HEADER_HEIGHT=t.DEFAULT_WIDGET_HEIGHT=t.CHAT_WIDTH=t.CAMPAIGN_TEXT_HEIGHT=t.CACHE_KEY=t.AWAY_CLIENT_TIMEOUT=t.APP_INVITE_TIME=t.API_INVITES_CACHE_TIME=void 0;t.AWAY_CLIENT_TIMEOUT=144e5;t.APP_INVITE_TIME=8e3;t.PROACTIVE_TEXT_LIMIT=50;t.PROACTIVE_MAX_HEIGHT=74;t.CAMPAIGN_TEXT_HEIGHT=90;t.MP_LINE_HEIGHT=19;t.MP_AGENT_HEIGHT=28;t.API_INVITES_CACHE_TIME=18e5;t.CACHE_KEY="api_invites";t.HEADER_HEIGHT=70;t.INPUT_HEIGHT=106;t.INPUT_MOBILE_HEIGHT=56;t.MAINT_RECONNECT_TIMEOUT=3e5;const n=10485760;t.MAX_FILE_SIZE=n;t.MAX_EXTENDED_FILE_SIZE=52428800;t.MINIMAL_WIDGET_HEIGHT=402;t.CHAT_WIDTH=336;t.LABEL_HEIGHT=40;t.DEFAULT_WIDGET_HEIGHT=496;t.MAX_IMAGE_WIDTH=234;t.MIN_IMG_WH=70;t.MAX_ALLOWED_USER_ZOOM=1.03;t.MAX_ATTRIBUTE_STRING_LENGTH=100;t.MAX_ATTRIBUTE_NUMBER_LENGTH=9},85948:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.addSyncExclude=void 0;var o=r(n(61125)),i=n(44733),a=n(9393),s=n(47361),l=n(90061),u=n(73422),c=n(32183),d=n(31011);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const g=n(89766).EventEmitter,h=(0,l.createLogger)("createStore"),m=["pa_id"],_=["widget_color","widget_color2","widget_font_color","show_container","started"];function v(e,t){for(var n in t)if(t[n]&&t[n].constructor&&t[n].constructor===Object)e[n]=e[n]||{},v(e[n],t[n]);else{var r,o,i,a,s,l,u;if(null!==(r=window)&&void 0!==r&&null!==(o=r.parent)&&void 0!==o&&o.window&&null!==(i=window)&&void 0!==i&&null!==(a=i.parent)&&void 0!==a&&null!==(s=a.window)&&void 0!==s&&s.isWixPreview)return!0;"route"===n&&d.platform.isMobileOrTablet||"cobrowser-iframe"===(null===(l=window)||void 0===l||null===(u=l.parent)||void 0===u?void 0:u.name)||-1!==_.indexOf(n)||(e[n]=t[n])}return e}t.addSyncExclude=e=>{m.push(e),_.push(e)};var y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("JivoStore"==e.__type)return e;var n=JSON.stringify(e),r=d.platform.supports.localStorage,o=new g,l=(0,s.debounce)((()=>{o.emit("update",e)}),10),f=()=>{if(r){const n=(t=>{let n=p({},t);return t?v(n,e):n=e,n})(i.StorageProvider.get(t));i.StorageProvider.set(t,n)}},y=(e,n)=>{var r=e[n];Object.defineProperty(e,n,{set:e=>{if(r!=e&&(r=e,l(),t)){if(!(0,c.pageVisible)()&&m.indexOf(n)>-1)return;if(_.indexOf(n)>-1)return;if(window.parent&&"cobrowser-iframe"===window.parent.name)return;f()}},get:()=>r})},b=e=>{(0,a.each)(e,((t,n)=>{"function"!=typeof t&&(t&&(0,u.isObject)(t)?b(t):y(e,n))}))},C=()=>{if(t)try{const n=i.StorageProvider.get(t);v(e,n)}catch(e){h.error(e)}},E=()=>{e=JSON.parse(n),b(e),f(),l()};return b(e),C(),Object.defineProperty(e,"__type",{enumerable:!1,configurable:!1,writable:!1,value:"JivoStore"}),Object.defineProperty(e,"addListener",{enumerable:!1,configurable:!1,writable:!1,value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update",t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(t=e,e="update"),o.addListener(e,t)}}),Object.defineProperty(e,"dispatch",{enumerable:!1,configurable:!1,writable:!1,value:()=>{l()}}),Object.defineProperty(e,"reload",{enumerable:!1,configurable:!1,writable:!1,value:()=>{C()}}),Object.defineProperty(e,"reset",{enumerable:!1,configurable:!1,writable:!1,value:()=>{E()}}),e};t.default=y},33180:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.cssLoader=void 0;var o=r(n(96394)),i=r(n(48553));(0,n(18276).setDefaultLocale)(o.default.locale),window.parent.__jivoBundleInit&&window.parent.__jivoBundleInit(window);const a=(()=>{let e=window.parent.location.protocol;return-1===["http","https","http:","https:"].indexOf(e)&&(e="https:"),e})()+o.default.base_url+"/css/fdbd3c5/widget.css",s=new i.default(window.parent.document,a);t.cssLoader=s},49862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDidUpdate=function(e,t){const n=(0,r.useRef)(!1);(0,r.useEffect)((()=>{n.current?e():n.current=!0}),t)};var r=n(98661)},88319:function(e,t){"use strict";t.Z=void 0,function(e){var t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},n={1e3:"Normal Closure",1001:"Going away",1002:"Protocol error",1003:"Unsupported data",1004:"reserved",1005:null,1006:null,1007:"Invalid frame payload data",1008:"Policy violation",1009:"Message Too Big",1010:"Mandatory Ext.",1011:"Internal Error",1012:"Service Restart",1013:"Try Again Later",1014:"Unassigned",1015:"TLS handshake",3001:"Attempts have Ended",3333:"Spam detected",4e3:"Application Closure",4999:"Last Code"},r=function(){},o=function(){throw new Error("Not implemented")},i=Date,a=function(e,t){this.name="NetworkError",this.code=t<<0,this.message=String(e)};a.prototype.toString=function(){return this.name+":"+(this.code<<0||"")+" "+this.message};var s,l=function(e,t,n){if(e&&"function"==typeof e[t])try{e[t](n)}catch(n){if("onerror"===String(t))throw n;try{l(e,"onerror",n)}catch(e){}}},u={};if(window&&("function"==typeof window.WebSocket||"object"==typeof window.WebSocket)){var c=window.WebSocket;for(var d in s=function(e,r){var o,i,a,s,u=this;this.url=e,this.readyState=t.CONNECTING;var d=function(){if(o){o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null;try{o.close()}catch(e){}}u.readyState=t.CLOSED,l(u,"onclose",{wasClean:!1,code:1006,reason:"Timeout"})},f=function(){try{this.send(".")}catch(e){}s=setTimeout(d,1e4)}.bind(this);this.close=function(e,n){if(clearTimeout(a),this.readyState===t.CONNECTING)this.readyState=t.CLOSING,clearTimeout(i),i=setTimeout((function(){u.readyState=t.CLOSED,l(u,"onclose",{wasClean:!1,code:1006,reason:""})}),20);else if(this.readyState===t.OPEN){this.readyState=t.CLOSING;try{n?o.close(e,n):e?o.close(e):o.close(1e3)}catch(e){l(u,"onerror",e),l(u,"onclose",{wasClean:!1,code:1006,reason:""})}}},this.send=function(e){if(!o||o.OPEN!==o.readyState)throw new Error("Socket is not open");clearTimeout(a),clearTimeout(s),o.send(e),a=setTimeout(f,2e4)},i=setTimeout((function(){try{(o=r?new c(e,r):new c(e)).onclose=function(e){if(clearTimeout(a),clearTimeout(i),u.readyState=t.CLOSED,/MSIE|Trident|Edge|Lumia/.test(window.navigator.userAgent)&&e.wasClean&&(1e3===e.code||1005===e.code)&&e.reason)for(var r in n)if(e.reason===n[r])return void l(u,"onclose",{wasClean:!0,code:r<<0,reason:e.reason});l(u,"onclose",e)},o.onerror=function(e){e.name||e.message||(e.name="WebSocketError",e.message="Unknown"),l(u,"onerror",e)},o.onmessage=function(e){clearTimeout(s),e&&e.data&&1<e.data.length&&l(u,"onmessage",e)},o.onopen=function(e){clearTimeout(a),a=setTimeout(f,2e4),u.readyState=t.OPEN,u.protocol=o.protocol,l(u,"onopen",e)}}catch(e){l(u,"onerror",e)}}),20)},t)s.prototype[d]=t[d]}if(window&&window.navigator){var f;if(/iP(hone|od|ad)/.test(window.navigator.platform))(f=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion))&&6>f[1]&&(s=o);if(/apple/i.test(window.navigator.vendor))(f=/\bVersion\/(\d+)\./.exec(window.navigator.userAgent))&&6>f[1]&&(s=o)}u.ws=u.wss=s;var p=function(){var e,t,n,o,i=window.document.getElementsByTagName("head")[0],a=this;this.withCredentials=!1,this.readyState=0,this.responseText="",this.status=0,this.statusText="",this.timeout=void 0;var s=function(){if(e){clearTimeout(o),e.onreadystatechange=r,e.onload=r,e.onerror=r,e.parentNode.removeChild(e),e=null,t=null,n=null,a.responseText="",a.status=0,a.statusText="",a.timeout=void 0,a.withCredentials=!1;try{delete window[n]}catch(e){window[n]=void 0}l(a,"onloadend")}},u=function(){e&&(l(a,"onerror"),s())};this.open=function(e,r){!t&&r&&(a.readyState=1,t=String(r).replace(/#.*$/,""),n="_jivo"+p._count++,t+=(-1===t.indexOf("?")?"?":"&")+"cb="+n)},this.send=function(r){t&&(r=r?"&msg="+encodeURIComponent(r):"",window[n]=function(e){a.readyState=4,p._statusBody.test(e)?(a.status=p._statusBody.exec(e)[1]<<0,a.statusText="",a.responseText="",l(a,"onerror"),s()):(a.status=200,a.statusText="OK",a.responseText=e,l(a,"onload"),s())},(e=document.createElement("script")).charset="utf-8",e.type="text/javascript",e.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||setTimeout(u,0)},e.readyState||(e.onload=e.onerror=u),e.src=t+r,i.appendChild(e),a.timeout<<=0,0<a.timeout&&(o=setTimeout((function(){l(a,"ontimeout"),s()}),a.timeout)))},this.abort=function(){l(a,"onabort"),s()},this.setRequestHeader=r};p._statusBody=/^(\d{3})\n$/m,p._count=0,p.prototype={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var g=function(){if(g._stack.length)return g._stack.pop();var e;try{"withCredentials"in(e=new XMLHttpRequest)||(e=null)}catch(e){}return(e=e||new p).release=function(){g._stack.push(e)},e};g._stack=[];var h=function(e){for(var t,n,o,i=3e3,s=r,l=1;l<arguments.length;l++)if(arguments[l])switch(typeof arguments[l]){case"object":n=arguments[l];break;case"string":o=arguments[l];break;case"number":i=arguments[l];break;case"function":s=arguments[l]}if("string"!=typeof e)return s(TypeError("Bad URL")),null;try{(t=g()).open(o?"POST":"GET",e,!0),o&&t.setRequestHeader("Content-Type","text/plain")}catch(e){return s(e),t.release(),null}if(0<(i<<=0))try{t.timeout=i}catch(e){}if(t.onloadend=function(){t.release()},t.onload=function(){200===t.status?s(null,t.responseText):s(new a(t.statusText,t.status))},t.onabort=function(){s(new a("Aborted"))},t.ontimeout=function(){s(new a("Timeout"))},t.onerror=function(){s(new a("Unknown"))},n)for(var l in n)t.setRequestHeader(l,n[l]);try{t.send(o||null)}catch(e){return s(e),t.release(),null}return function(){s=r}};e.request=h;var m=/([^\n]*)\n/gm,_=function(e,o){var a=/^([^\?]*)(?:\?+(.*))?$/.exec(e);e=a[1]||"/";var s=a[2]?"&"+a[2]:"";/[^\/]$/.test(e)&&(e+="/");var u,c,d,f,p=this,g=r,_="open",v=2e4,y=0;this.readyState=t.CONNECTING;var b=function(e,r,o){t.CLOSED!==p.readyState&&(clearTimeout(d),p.readyState=t.CLOSED,l(p,"onclose",{wasClean:!!o,code:r||1006,reason:n[r]||e||""}))},C=function(t,n){g(),g=h(e+_+(t?"/"+t:"")+"?"+(new i).getTime()+s,v,n,E)},E=function(e,n){var r=function(e){if("string"!=typeof e)return e;var t,n,r={};for(m.lastIndex=0;null!==(t=m.exec(e));){if(!t[1]){r.message=e.substring(t.index+1);break}(n=(t=t[1].split(/\t/))[0])&&(t.shift(),r[n]=t)}return r}(n);switch(p.readyState){case t.CONNECTING:if(e){l(p,"onerror",e),b("Open error");break}if(!(r&&r.open&&r.open[0])){b("No response in state open");break}_=r.open[0],p.protocol=r.open[1],p.readyState=t.OPEN,l(p,"onopen");case t.OPEN:var o="";if(r){if(r.timeout&&0<r.timeout[0]&&(v=Math.ceil(r.timeout[0])),r.etag&&r.etag[0]){var i=r.etag[0]<<0,a=i-y;y=i,0<a&&(1!==a&&l(p,"onerror",new Error("Missing "+a+" etags")),r.message&&setTimeout((function(){l(p,"onmessage",{data:r.message})}),20)),o="etag/"+i}r.close&&(p.readyState=t.CLOSING,o="close/"+(r.close[0]||"")+"/"+(r.close[1]||""))}else if(e&&204!==e.code&&(l(p,"onerror",e),!e.code||404===e.code))return void b();C(o);break;case t.CLOSING:if(r&&r.close){var s=r.close[0]<<0;b(r.close[1],s,!u||u===s)}else b(c,u,!1)}};this.close=function(e,n){t.CONNECTING===this.readyState?(clearTimeout(f),g(),d=setTimeout(b,20)):t.OPEN===this.readyState&&(u=e<<0||1e3,c=n||"",this.readyState=t.CLOSING,C("close/"+u+"/"+c))},this.send=function(e){if(t.OPEN!==this.readyState)throw new Error("Socket is not open");if(!e||"string"!=typeof e)throw new TypeError("Bad data type");C("send",e)};var D=[];if(o)if("string"==typeof o)D.push(o);else if(o instanceof Array)for(var T=0;T<o.length;T++)D.push(String(o[T]));f=setTimeout((function(){C(D.join("/"))}),20)};for(var d in t)_.prototype[d]=t[d];u.http=u.https=_;var v,y=/^\s*(?:([^\;\/\?\:\@\&\=\+\$\,\#\n\r\s]{1,8})\:\/\/)([^\s\n\r]+)\s*$/,b=function(e,t){if(t||((t=[]).index=0,t.add=function(e){t.unshift({value:String(e),health:0}),t.index=0}),e)if("string"==typeof e||e instanceof String)t.push({value:String(e),health:0});else if(0<e.length)for(var n=0;n<e.length;n++)b(e[n],t);return t},C=function(e,t,n){var r=e[t]=n;return function(n){return arguments.length&&(r=e[t]=n),r}},E=(v=0,setInterval((function(){0<v&&(0<=(v-=2)||(v=0))}),1e3),function(){return 60<++v}),D=function(e){var o=b(e),i=null,a=r,s={connecting:r,open:r,close:r,error:r,message:r},l=C(this,"state",t.CLOSED),c=C(this,"url",void 0),d=C(this,"health",void 0),f=function(e,t){clearTimeout(f.value),e&&(f.value=setTimeout(e,t))},p=function(e){if(i){i.onclose=null,i.onerror=null,i.onmessage=null,i.onopen=null;try{e?i.close(e):i.close()}catch(e){}}},g=function(e){p(),i=null,a(),a=r,f(),l(t.CLOSED);try{s.close(e)}catch(e){_(e)}c(void 0),d(void 0)},h=function(){if(E()){if(a(),a=r,i){p(3333);for(var e=0;e<o.length;e++)o[e].health=-1}return!0}return!1},m=function(e){if(a(),a=r,f(),e||(e={wasClean:!1,code:1005,reason:"No Status Rcvd"}),e.wasClean||d(--o[o.index].health),1012===e.code){l(t.CONNECTING);try{s.connecting(o[o.index].health)}finally{return f(w,1e4+(2e4*Math.random()<<0))}}else 1013===e.code||1005===e.code||1e3===e.code||4e3<=e.code&&5e3>e.code?g(e):w()},_=function(e){try{s.error(e)}catch(e){throw e}},v=function(e){if(t.OPEN===l())try{s.message(e.data)}catch(e){_(e)}},D=function(){var e,n,r,i,u;f(),l(t.OPEN),e=o[o.index],n=d,i=1e3,u=function(){e&&0<=e.health&&(n(++e.health),i<<=1,r=setTimeout(u,i))},r=setTimeout(u,i),a=function(){clearTimeout(r)};try{s.open()}catch(e){_(e)}},T=function(){var e=o[o.index];try{i=function(e){if("string"!=typeof e)throw new TypeError("Bad URL type");var t=y.exec(e);if(null===t)throw new Error("Bad URL");if(!u[t[1]])throw new Error("Not supported URL scheme: "+t[1]);return new u[t[1]](e)}(e.value)}catch(t){return e.health=-1,++o.index,_(t),w()}i.onclose=m,i.onerror=_,i.onmessage=v,i.onopen=D},w=function(e){if(f(),o.index>=o.length)c(void 0),d(void 0),g({wasClean:!1,code:3001,reason:n[3001]});else if(0>o[o.index].health)_(new Error("Sick URL")),++o.index,w();else{p(),l(t.CONNECTING);var r=o[o.index];c()!==r.value&&(c(r.value),d(r.health));try{s.connecting(r.health)}catch(e){}e||0===o[o.index].health?T():f(T,3e3)}};this.open=function(e){if(h())return g({wasClean:!1,code:3333,reason:n[3333]});if(t.CONNECTING!==l()&&t.OPEN!==l()){if(e){e=String(e);for(var r=0;r<o.length;r++)if(e===o[r].value)return o.index=r,w(!0);o.add(e)}w(!0)}},this.close=function(e,r){f(),t.CLOSING!==l()&&t.CLOSED!==l()&&(!i||i.CONNECTING!==i.readyState&&i.OPEN!==i.readyState?g({wasClean:!1,code:1011,reason:n[1011]}):(4e3>(e<<=0)||5e3<=e?i.close():r?i.close(e,String(r)):i.close(e),i.onclose=g,l(t.CLOSING)))},this.send=function(e){if(t.OPEN!==l())return new Error("Connection is not open");if(h())return g({wasClean:!1,code:3333,reason:n[3333]}),new Error("Spam detected");try{i.send(e)}catch(e){return e}return null};var S=function(e,t){return function(){t.apply(e,arguments)}};this.on=function(e,t){if(e&&"object"==typeof e)for(var n in e)this.on(n,S(e,e[n]));else s[e]&&"function"==typeof t&&(s[e]=t)},this.off=function(){for(var e in s)s[e]=r},this.getHealthyURLs=function(){for(var e=[],t=0;t<o.length;t++)0<=o[t].health&&e.push(o[t]);e.sort((function(e,t){return t.health-e.health}));for(t=0;t<e.length;t++)e[t]=e[t].value;return e}};for(var d in D.prototype={valueOf:function(){return this.toString()},toString:function(){return t.OPEN===this.state?this.url:""},toJSON:function(e){switch(e){case"url":return'"'+this.url+'"';case"state":return this.state;case"health":return this.health}return arguments.length?"":'{"state":'+this.state+', "health":'+this.health+', "url":"'+this.url+'"}'}},t)D.prototype[d]=t[d];e.Connection=D}(window);var n=Connection;t.Z=n},84633:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(90061),i=r(n(17987));const a=(0,o.createLogger)("TimeMachina");i.default.on("newfsm",(function(e){e.on("handling",(function(e){a.log(this.namespace+": handling "+e.inputType+" in state "+this.state)})),e.on("nohandler",(function(e){a.log(this.namespace+": unhandled "+e.inputType+" in state "+this.state)})),e.on("transition",(function(e){a.log([this.namespace+":","transition from:",e.fromState,"to:",e.toState,"action:",e.action].join(" "))}))}));var s=i.default.Fsm.extend({_fireEvent:function(e){delete this._scheduled_events[e],this.handle(e)},_scheduleEvent:function(e,t){e in this._scheduled_events?a.log(this.namespace+": attempt to re-schedule event"+e):(a.log(this.namespace+": scheduling "+e+" for "+t),this._scheduled_events[e]=setTimeout(this._fireEvent.bind(this,e),t))},_cancelEvent:function(e){e in this._scheduled_events?(clearTimeout(this._scheduled_events[e]),delete this._scheduled_events[e]):a.log(this.namespace+": attempt to cancel not scheduled event",e)},constructor:function(){this._scheduled_events={},i.default.Fsm.apply(this,arguments)}});t.default=s},27104:function(e,t){"use strict";function n(e){return parseInt(i(e).substring(0,2),16)}function r(e){return parseInt(i(e).substring(2,4),16)}function o(e){return parseInt(i(e).substring(4,6),16)}function i(e){return function(e){return 3==e.length&&(e=e.split("").map((function(e){return e.toString()+e.toString()})).join("")),e}(e="#"==(e=e||"").charAt(0)?e.substring(1,7):e)}function a(e){return e=parseInt(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)),"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16))}function s(e,t,i){var s=n(e),l=r(e),u=o(e),d=f.toHSV(new c(s,l,u));d.v>0?d.v=d.v*t:d.v=100*(t-1),d.s=d.s*i;var p,g,h,m=f.toRGB(d);return"#"+(p=m.r,g=m.g,h=m.b,a(p)+a(g)+a(h))}function l(e){return(299*n(e)+587*r(e)+114*o(e))/1e3}function u(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>360&&(e=360),t>100&&(t=100),n>100&&(n=100),this.h=e,this.s=t,this.v=n}function c(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>255&&(e=255),t>255&&(t=255),n>255&&(n=255),this.r=e,this.g=t,this.b=n}function d(e,t,n,r){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),r<=0&&(r=0),e>100&&(e=100),t>100&&(t=100),n>100&&(n=100),r>100&&(r=100),this.c=e,this.m=t,this.y=n,this.k=r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f={isLightColor:function(e){return function(e){var t=n(e),i=r(e),a=o(e),s=f.toHSV(new c(t,i,a));return s.v+-.5*s.s}(e)>58},getContrast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;const n=l(e);return n>=t?"black":"white"},_RGBtoHSV:function(e){var t=new u(0,0,0),n=e.r/255,r=e.g/255,o=e.b/255,i=Math.min(n,r,o),a=Math.max(n,r,o),s=a-i;if(t.v=a,0==s)t.h=0,t.s=0;else{t.s=s/a;var l=((a-n)/6+s/2)/s,c=((a-r)/6+s/2)/s,d=((a-o)/6+s/2)/s;n==a?t.h=d-c:r==a?t.h=1/3+l-d:o==a&&(t.h=2/3+c-l),t.h<0&&(t.h+=1),t.h>1&&(t.h-=1)}return t.h=Math.round(360*t.h),t.s=Math.round(100*t.s),t.v=Math.round(100*t.v),t},_HSVtoRGB:function(e){var t=new c(0,0,0),n=e.h/360,r=e.s/100,o=e.v/100;if(0==r)t.r=255*o,t.g=255*o,t.b=255*o;else{var i,a,s,l=6*n,u=Math.floor(l),d=o*(1-r),f=o*(1-r*(l-u)),p=o*(1-r*(1-(l-u)));0==u?(i=o,a=p,s=d):1==u?(i=f,a=o,s=d):2==u?(i=d,a=o,s=p):3==u?(i=d,a=f,s=o):4==u?(i=p,a=d,s=o):(i=o,a=d,s=f),t.r=255*i,t.g=255*a,t.b=255*s,t.r=Math.round(t.r),t.g=Math.round(t.g),t.b=Math.round(t.b)}return t},_CMYKtoRGB:function(e){var t=new c(0,0,0),n=e.c/100,r=e.m/100,o=e.y/100,i=e.k/100;return t.r=1-Math.min(1,n*(1-i)+i),t.g=1-Math.min(1,r*(1-i)+i),t.b=1-Math.min(1,o*(1-i)+i),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},_RGBtoCMYK:function(e){var t=new d(0,0,0,0),n=e.r/255,r=e.g/255,o=e.b/255;return t.k=Math.min(1-n,1-r,1-o),t.c=(1-n-t.k)/(1-t.k),t.m=(1-r-t.k)/(1-t.k),t.y=(1-o-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},toRGB:function(e){return e instanceof c?e:e instanceof u?this._HSVtoRGB(e):e instanceof d?this._CMYKtoRGB(e):void 0},toHSV:function(e){return e instanceof u?e:e instanceof c?this._RGBtoHSV(e):e instanceof d?this._RGBtoHSV(this._CMYKtoRGB(e)):void 0},toCMYK:function(e){return e instanceof d?e:e instanceof c?this._RGBtoCMYK(e):e instanceof u?this._RGBtoCMYK(this._HSVtoRGB(e)):void 0},genGradientBg:function(e){return"linear-gradient(95deg, "+e+" 20%, "+this.getRightColor(e)+" 80%)"},getRightColor:function(e){return s(e,.9,.9)},getGradientBg:function(e,t){return"linear-gradient(95deg, "+e+" 20%, "+(t||e)+" 80%)"}},p=f;t.default=p},96879:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.filterMessage=void 0;var o=n(81152),i=n(73422),a=r(n(14264));t.filterMessage=e=>{var t;const n=/^\/service/.test(e.text),r=(0,i.isObject)(e.media),s=r&&(null===(t=e.media)||void 0===t?void 0:t.address),l=e.msg_id;let u=!n&&!s;if("number"==typeof l){const e=!!a.default.getMessageById(l);u=u&&!e}if(r){const t=e.from===o.MessageInitiator.CLIENT&&e.type!==o.MessageType.MEDIA&&r&&"error"===e.media.type;u=u&&!t}return e.deleted&&(u=!1),e.type==o.MessageType.INVOICE&&(u=!1),u}},17987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(60277),o=n(9393),i=n(15201),a=n(31484),s=n(54415),l=n(97615),u=n(58345),c=n(73422),d=function(){var e,t=[].slice,n="transition",d="handler",f="handling",p="handled",g="nohandler",h="deferred",m="newfsm",_={makeFsmNamespace:(e=0,function(){return"fsm."+e++}),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:_.makeFsmNamespace(),targetReplayState:"",state:void 0,priorState:void 0,_priorAction:"",_currentAction:""}}},v={"*":function(e,t,n){e[t]=n},object:function(e,t,n){e[t]=b({},e[t]||{},n)},array:function(e,t,n){e[t]=[],(0,o.each)(n,(function(n,r){v[y(n)](e[t],r,n)}),this)}},y=function(e){var t=function(e){return(0,c.isArray)(e)?"array":(0,c.isDate)(e)?"date":(0,c.isRegExp)(e)?"regex":typeof e}(e);return v[t]?t:"*"},b=function(e){return(0,o.each)(t.call(arguments,1),(function(t){(0,o.each)(t,(function(t,n){v[y(t)](e,n,t)}))})),e},C=function(e){(0,r.extend)(this,e),(0,a.defaults)(this,_.getDefaultOptions()),this.initialize.apply(this,arguments),D.emit(m,this),this.initialState&&this.transition(this.initialState)};(0,r.extend)(C.prototype,{initialize:function(){},emit:function(e){var n=arguments;this.eventListeners["*"]&&(0,o.each)(this.eventListeners["*"],(function(r){if(l.EnvironmentManager.isProduction())try{r.apply(this,t.call(n,0))}catch(t){t.message+=` machina.js * [${this.namespace}] ${e}`,s.Monitoring.reportException(t)}else r.apply(this,t.call(n,0))}),this),this.eventListeners[e]&&(0,o.each)(this.eventListeners[e],(function(r){if(l.EnvironmentManager.isProduction())try{r.apply(this,t.call(n,1))}catch(t){t.message+=` machina.js ev [${this.namespace}] ${e}`,s.Monitoring.reportException(t)}else r.apply(this,t.call(n,1))}),this)},handle:function(e){if(!this.inExitHandler){var n,r,o,i,a=this.states,s=this.state,l=t.call(arguments,0);this.currentActionArgs=l,a[s][e]||a[s]["*"]||this["*"]?(o="*"===(n=a[s][e]?e:"*"),a[s][n]?(r=a[s][n],i=s+"."+n):(r=this["*"],i="*"),this._currentAction||(this._currentAction=i),this.emit.call(this,f,{inputType:e,args:l.slice(1)}),(0,c.isFunction)(r)&&(r=r.apply(this,o?l:l.slice(1))),(0,c.isString)(r)&&this.transition(r),this.emit.call(this,p,{inputType:e,args:l.slice(1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue(d)):this.emit.call(this,g,{inputType:e,args:l.slice(1)}),this.currentActionArgs=void 0}},transition:function(e){if(!this.inExitHandler&&e!==this.state){var t;if(this.states[e]){if(this.targetReplayState=e,this.priorState=this.state,this.state=e,t=this.priorState,this.states[t]&&this.states[t]._onExit&&(this.inExitHandler=!0,this.states[t]._onExit.call(this),this.inExitHandler=!1),this.emit.call(this,"transition",{fromState:t,action:this._currentAction,toState:e}),this.states[e]._onEnter)if(l.EnvironmentManager.isProduction())try{this.states[e]._onEnter.call(this)}catch(t){t.message+=` machina.js [${this.namespace}] ${e}`,s.Monitoring.reportException(t)}else this.states[e]._onEnter.call(this);return void(this.targetReplayState===e&&this.processQueue(n))}this.emit.call(this,"invalidstate",{state:this.state,attemptedState:e})}},processQueue:function(e){var t=e===n?function(e){return e.type===n&&(!e.untilState||e.untilState===this.state)}:function(e){return e.type===d},r=this.eventQueue.filter(t);this.eventQueue=(0,u.difference)(this.eventQueue,r),(0,o.each)(r,(function(e){this.handle.apply(this,e.args)}),this)},clearQueue:function(e,t){var r;e?(e===n?r=function(e){return e.type===n&&(!t||e.untilState===t)}:e===d&&(r=function(e){return e.type===d}),this.eventQueue=this.eventQueue.filter(r)):this.eventQueue=[]},deferUntilTransition:function(e){if(this.currentActionArgs){var t={type:n,untilState:e,args:this.currentActionArgs};this.eventQueue.push(t),this.emit.call(this,h,{state:this.state,queuedArgs:t})}},deferUntilNextHandler:function(){if(this.currentActionArgs){var e={type:n,args:this.currentActionArgs};this.eventQueue.push(e),this.emit.call(this,h,{state:this.state,queuedArgs:e})}},on:function(e,t){var n=this;return n.eventListeners[e]||(n.eventListeners[e]=[]),n.eventListeners[e].push(t),{eventName:e,callback:t,off:function(){n.off(e,t)}}},off:function(e,t){e?this.eventListeners[e]&&(this.eventListeners[e]=t?(0,i.without)(this.eventListeners[e],t):[]):this.eventListeners={}}}),C.prototype.trigger=C.prototype.emit;var E=function(){};C.extend=function(e,t){var n=function(e,t,n){var r;return r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},b(r,e),E.prototype=e.prototype,r.prototype=new E,t&&b(r.prototype,t),n&&b(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r}(this,e,t);return n.extend=this.extend,n};var D={Fsm:C,utils:_,on:function(e,t){return this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),t},off:function(e,t){this.eventListeners[e]&&(this.eventListeners[e]=(0,i.without)(this.eventListeners[e],t))},trigger:function(e){var n=arguments,r=this.eventListeners[e]||[];r&&r.length&&(0,o.each)(r,(function(e){e.apply(null,t.call(n,1))}))},eventListeners:{newFsm:[]}};return D.emit=D.trigger,D}(),f=d;t.default=f},50754:function(e,t,n){"use strict";var r=n(17907)(n(15687));const o=2147483647,i=36,a=/^xn--/,s=/[^\0-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,d=String.fromCharCode;function f(e){throw new RangeError(u[e])}function p(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const o=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(l,".")).split("."),t).join(".");return r+o}function g(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}const h=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},m=function(e,t,n){let r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;r+=i)e=c(e/35);return c(r+36*e/(e+38))},_=function(e){const t=[],n=e.length;let r=0,a=128,s=72,l=e.lastIndexOf("-");l<0&&(l=0);for(let n=0;n<l;++n)e.charCodeAt(n)>=128&&f("not-basic"),t.push(e.charCodeAt(n));for(let d=l>0?l+1:0;d<n;){let l=r;for(let t=1,a=i;;a+=i){d>=n&&f("invalid-input");const l=(u=e.charCodeAt(d++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:i;(l>=i||l>c((o-r)/t))&&f("overflow"),r+=l*t;const p=a<=s?1:a>=s+26?26:a-s;if(l<p)break;const g=i-p;t>c(o/g)&&f("overflow"),t*=g}const p=t.length+1;s=m(r-l,p,0==l),c(r/p)>o-a&&f("overflow"),a+=c(r/p),r%=p,t.splice(r++,0,a)}var u;return String.fromCodePoint.apply(String,t)},v=function(e){const t=[];let n=(e=g(e)).length,r=128,a=0,s=72;for(const n of e)n<128&&t.push(d(n));let l=t.length,u=l;for(l&&t.push("-");u<n;){let n=o;for(const t of e)t>=r&&t<n&&(n=t);const p=u+1;n-r>c((o-a)/p)&&f("overflow"),a+=(n-r)*p,r=n;for(const n of e)if(n<r&&++a>o&&f("overflow"),n==r){let e=a;for(let n=i;;n+=i){const r=n<=s?1:n>=s+26?26:n-s;if(e<r)break;const o=e-r,a=i-r;t.push(d(h(r+o%a,0))),e=c(o/a)}t.push(d(h(e,0))),s=m(a,p,u==l),a=0,++u}++a,++r}return t.join("")},y={version:"2.1.0",ucs2:{decode:g,encode:e=>String.fromCodePoint.apply(String,(0,r.default)(e))},decode:_,encode:v,toASCII:function(e){return p(e,(function(e){return s.test(e)?"xn--"+v(e):e}))},toUnicode:function(e){return p(e,(function(e){return a.test(e)?_(e.slice(4).toLowerCase()):e}))}};e.exports=y},69759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(60277),o=n(80210);const i=function(e){const t=[];for(const r in e){const o=e[r];for(const e in o){const r=o[e];for(const o in r){var n=r[o];n[0].forEach((function(r){var i={domain:r,medium:e,name:o};n[1]&&(i.params=n[1]),t.push(i)}))}}}return t}(n(61691)),a=function(e,t,n){this.known=!1,this.referer=null,this.medium="unknown",this.search_parameter=null,this.search_term=null,this.referers=n||i;const a=new URL(e),s=a.hostname;if(this.known=Boolean(~["http:","https:"].indexOf(a.protocol)),this.uri=a,!this.known)return;if(t){if(new URL(t).hostname===s)return void(this.medium="internal")}let l=this._lookup_referer(s,a.pathname,!0);if(l||(l=this._lookup_referer(s,a.pathname,!1),l)){if(this.referer=l.name,this.medium=l.medium,"search"===l.medium){if(!l.params)return;const e=(0,r.extend)(o.querystring.parse(a.hash),o.querystring.parse(a.search));for(const t in e){const n=e[t];-1!==l.params.indexOf(t.toLowerCase())&&(this.search_parameter=t,this.search_term=n)}}}else this.medium="unknown"};a.prototype.searchReferer=function(e){return this.referers.find((t=>t.domain instanceof RegExp&&e.search(t.domain)>-1||(t.domain===e||void 0)))},a.prototype._lookup_referer=function(e,t,n){let r=null;if(r=n?this.searchReferer(e+t):this.searchReferer(e),!r&&n){const n=t.split("/");if(n.length>1)try{r=this.searchReferer(e+"/"+n[1])}catch(e){}}if(r)return r;try{const r=e.indexOf(".");if(-1===r)return null;const o=e.slice(r+1);return this._lookup_referer(o,t,n)}catch(e){return null}};var s=a;t.default=s},61691:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={unknown:{Google:[["support.google.com","developers.google.com","maps.google.com","accounts.google.com","drive.google.com","sites.google.com","groups.google.com","groups.google.co.uk","news.google.co.uk"]],"Yahoo!":[["finance.yahoo.com","news.yahoo.com","eurosport.yahoo.com","sports.yahoo.com","astrology.yahoo.com","travel.yahoo.com","answers.yahoo.com","screen.yahoo.com","weather.yahoo.com","messenger.yahoo.com","games.yahoo.com","shopping.yahoo.net","movies.yahoo.com","cars.yahoo.com","lifestyle.yahoo.com","omg.yahoo.com","match.yahoo.net"]]},search:{"360.cn":[[/so.(com|360.cn)$/gi],["q"]],AOL:[[/\.aol.\w{2,4}(\w{2,4})?/gi,"aolsearch.com"],["q","query"]],Yandex:[["yandex.ru","yandex.ua","yandex.com","www.yandex.ru","www.yandex.ua","www.yandex.com","yandex.by","yandex.kz","www.yandex.by","www.yandex.kz"],["text"]],DuckDuckGoL:[["duckduckgo.com"],["q"]],Picsearch:[["www.picsearch.com"],["q"]],"Mail.ru":[["go.mail.ru"],["q"]],Rambler:[["nova.rambler.ru"],["query","words"]],MySearch:[[/(.mysearch)|(.myway).com$/gi,"search.mywebsearch.com"],["searchfor","searchFor"]],Baidu:[[/.baidu.com$/gi,"web.gougou.com"],["wd","word","kw","k"]],Ecosia:[["ecosia.org"],["q"]],Bing:[["bing.com","www.bing.com","msnbc.msn.com","dizionario.it.msn.com","cc.bingj.com","m.bing.com"],["q"]],Seznam:[["search.seznam.cz"],["q"]],"Yahoo!":[[/.?yahoo./gi,"www.cercato.it","search.offerbox.com","ys.mirostart.com"],["q","p"]],Ask:[[/.ask.com$/gi,"ask.reference.com","www.askkids.com","www.ask.co.uk","search-results.com","uk.search-results.com","www.search-results.com","int.search-results.com"]],"uol.com.br":[["busca.uol.com.br"],["q"]],Google:[[/^(www.)?google.\w{2,4}(.\w{2,4})?$/gi,/^.incredimail.com$/gi,/.googleearth./gi,"isearch.avg.com","www.cnn.com","darkoogle.com","search.darkoogle.com","search.foxtab.com","www.gooofullsearch.com","search.hiyo.com","search.sweetim.com","www.fastweb.it","search.juno.com","find.tdc.dk","searchresults.verizon.com","search.walla.co.il","search.alot.com","webcache.googleusercontent.com","encrypted.google.com","googlesyndicatedsearch.com"],["q","query","keywords"]],"2GIS":[["link.2gis.ru"]]},email:{Gmail:[["mail.google.com"]],Rambler:[["mail.rambler.ru"]]},social:{Odnoklassniki:[["odnoklassniki.ru","ok.ru"]],GitHub:[["github.com"]],Instagram:[["instagram.com"]],Vkontakte:[["vk.com","vkontakte.ru"]],Twitter:[["twitter.com","t.co"]],"Mail.ru":[["my.mail.ru"]],Pinterest:[["pinterest.com"]],LinkedIn:[["linkedin.com"]],Facebook:[["facebook.com","fb.me"]],Youtube:[["youtube.com","youtu.be"]]}}},8117:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(61125)),i=r(n(69759)),a=n(90061),s=n(37578),l=n(80210),u=r(n(50754)),c=n(20827);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const f=(0,a.createLogger)("utm"),p={utmccn:"campaign",utmcsr:"source",utmcmd:"medium",utmctr:"keyword",utmcct:"content"},g={parseUtmz:function(e){const t={};if(e){const n=decodeURI(e).replace(/^[0-9\.]*/g,"");let r;if(n){const e=n.split("|");for(let n=0;n<e.length;n++)r=e[n].substr(0,6),r in p&&(t[p[r]]=e[n].substr(7))}}return t},parseUTM:function(e,t,n){const r={};let a=!1,g=null;if(f.log("parseUTM",n),n){const e=n.split("|");let t;const o=Object.values(p);for(let n=0;n<e.length;n++)t=e[n].split("="),2===t.length&&(t[0]=t[0].toLowerCase(),o.indexOf(t[0])>=0?(r[t[0]]=t[1],a=!0):"term"===t[0]&&(r.keyword=t[1],r.term=t[1]))}if(g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),f.log("finish utmz, utmparams",r),!a)if("string"==typeof t&&""!==t){const n=new i.default(t,e);if(f.log("processing_refer",n,t,e),n.known)if("internal"===n.medium){const e=n.uri.search;if(e&&e.length){const t=this.decodeString(e);let n={};try{n=l.querystring.parse(t)}catch(e){const r=this.getUTMParamsFromUrl(t);for(const e in r)if(r[e]){const t=r[e].split("=");t.length&&(n[t[0]]=t[1])}}for(const e in p)n["utm_"+p[e]]&&(r[p[e]]=n["utm_"+p[e]]);n.utm_term&&(r.keyword=n.utm_term,r.term=n.utm_term),f.log("query params:",r)}(0,c.isEmpty)(r)&&Object.assign(r,{campaign:"(direct)",source:"(direct)"})}else"unknown"===n.medium?Object.assign(r,{campaign:"(referral)",medium:"referral",source:u.default.toUnicode(n.uri.hostname),content:`${n.uri.pathname}${n.uri.search}`}):Object.assign(r,{campaign:"(organic)",source:n.referer,medium:n.medium,keyword:n.search_term,content:""});else f.warn("unknown_refer")}else(0,c.isEmpty)(r)&&Object.assign(r,{campaign:"(direct)",source:"(direct)"});if(r.keyword&&(r.keyword=this.decodeString(r.keyword)),r.term&&(r.term=this.decodeString(r.term)),r.content&&(r.content=this.decodeString(r.content)),r.campaign&&(r.campaign=this.decodeString(r.campaign)),t&&this.isLid(e,t)&&(r.medium="cpc","(organic)"==r.campaign&&(r.campaign=null)),!r.source&&"string"==typeof t&&""!==t){const n=new i.default(t,e);n.referer&&(r.source=n.referer)}return g.medium&&(r.medium=this.decodeString(g.medium)),t&&g.source&&(r.source=this.decodeString(g.source)),f.log("FINISH UTM",n,r),(0,s.filterObj)(r,(e=>!(0,c.isEmpty)(e)))},isLid(e,t){return["yclid=","gclid=","fbclid="].some((t=>e.includes(t)))&&["yandex","google","facebook"].some((e=>t.includes(e)))},decodeString(e){try{e=decodeURIComponent(e)}catch(t){return f.log(t),this.decode(e)}return e},decode(e){return(e=(e=(e=e.replace(/%([EF][0-9A-F])%([89AB][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n,r){const o=parseInt(t,16)-224,i=parseInt(n,16)-128;if(0==o&&i<32)return e;const a=(o<<12)+(i<<6)+(parseInt(r,16)-128);return a>65535?e:String.fromCharCode(a)}))).replace(/%([CD][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n){const r=parseInt(t,16)-192;if(r<2)return e;const o=parseInt(n,16)-128;return String.fromCharCode((r<<6)+o)}))).replace(/%([0-7][0-9A-F])/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))).replace(/%[A-Z0-9]{2}/gi,"")},getUTMParamsFromUrl:function(e){let t=e.indexOf("?"),n=null;for(;-1!=n;)n=e.indexOf("?",t+1),n>0&&(t=n);const r=e.substr(t+1).split("&");let o,i,a="";for(i=r.length;i--;)if(o=r[i].split("="),o[0].indexOf("utm_")>=0){o=r[i],o=o.replace(/\|/gi,"%7C");const e=o.split("=");e.length>1&&(o=e[0]+"="+e.slice(1).join("%3D")),a+=(a.length>0?"|":"")+o.substr(o.indexOf("utm_")+4)}return a},setUTM:function(e){let t=e.href,n=e.refer,r=e.setterFn;const o=g.getUTMParamsFromUrl(t),i=g.parseUTM(t,n,o);return r({campaign:i&&i.campaign||null,source:i&&i.source||null,medium:i&&i.medium||null,keyword:i&&i.keyword||null,term:i&&i.term||null,content:i&&i.content||null})}};var h=g;t.default=h},95020:function(e,t,n){"use strict";!function(){"undefined"==typeof window&&(window=n.g);var e,t=2e4,r=2e3,o=32e3,i=3e4,a=function(t,n){if("function"==typeof e[t])try{return e[t](n)}catch(n){if("onerror"!==t)try{e.onerror(n)}catch(e){}}},s=function(e){return void 0===e?"":("string"!=typeof e&&(e=String(e)),e.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/[\x00-\x19]/g," "))},l=function(e){return Math.random()*e<<0},u=/^-?[a-zA-Z0-9]{1,16}$/,c=/^[_a-zA-Z][_a-zA-Z0-9]{0,7}$/,d=/^[a-zA-Z0-9]{10}$/;window.ClientSocket=function(){if(e)return e;e=this;var n,f,p,g,h=r,m=0,_=function(){try{f.send(".")}catch(e){}p=setTimeout(_,t)},v=function(){f.onclose=null,f.onerror=null,f.onmessage=null,f.onopen=null,f.CLOSING>f.readyState&&f.close()},y=function(){f&&(v(),o<(h<<=1)&&(h=o)),f=new WebSocket(n),e.readyState=f.readyState,f.onclose=function(t){if(e.readyState=f.readyState,a("onclose",t.reason),p){if(clearTimeout(p),clearTimeout(g),t.reason){var n=-1;switch(t.reason){case"Protocol Error":case"Unsupported Data":case"Invalid Data":case"Message Too Big":case"Mandatory Ext.":case"Invalid Response":case"Normal Closure":case"Void Time":n=0;break;case"Service Restart":n=6e4+l(6e5);break;case"Try Again Later":n=6e5+l(6e5);break;case"Internal Error":n=18e5+l(6e5);break;case"Going Away":n=36e5+l(6e5);break;case"Policy Violation":n=72e5;break;case"Blacklisted":n=864e5}if(-1!==n)return v(),p=null,void a("ondrop",n)}else a("onerror",new Error("close-is-not-clean"));if(3<=++m)return v(),p=null,a("ondrop",6e5+l(6e5)),void a("onfail","Network Unreachable");p=setTimeout(y,h+l(r)),o<(h<<=1)&&(h=o)}},f.onerror=function(e){},f.onmessage=function(e){if(m=0,clearTimeout(g),g=setTimeout(y,i),!(1>=e.data.length)){for(var t,n="",r={},o=e.data.split("\n"),l=0;l<o.length;l++)if(o[l]){var u=o[l].split("\t");if(4>u.length)o[l]&&a("onerror","uncomplete-message: "+JSON.stringify(o[l]));else switch(u[3]){case"+":u[0]&&(r.from=u[0]),u[1]&&(r.room=u[1]),u[4]&&(r.ip=u[4]),u[5]&&(r.port=u[5]),r.geoip={},u[6]&&(r.geoip.region=u[6]),u[7]&&(r.geoip.city_country_code=u[7]),u[8]&&(r.geoip.city_country_name=u[8]),u[9]&&(r.geoip.region_name=u[9]),u[10]&&(r.geoip.city=u[10]),u[11]&&(r.geoip.latitude=u[11]),u[12]&&(r.geoip.longitude=u[12]),u[13]&&(r.geoip.org=u[13]),a("onadd",r);break;case"-":u[0]&&(r.from=u[0]),u[1]&&(r.room=u[1]),u[4]&&(r.code=u[4]),a("ondel",r);break;default:if(4<u.length)r.key=u[3],u[0]&&(r.from=u[0]),u[1]&&(r.room=u[1]),r.value=5<u.length?u.slice(4):u[4],a("onset",r);else if(u[0]&&(r.from=u[0],r.room=u[1]),r.key=u[3]||"*",t=a("onget",r)){if(n+="\t"+u[1]+"\t"+u[0]+"\t"+u[3],t instanceof Array)for(var c=0;c<t.length;c++)n+="\t"+s(t);else n+="\t"+s(t);n+="\n"}}}n&&b(n)}},f.onopen=function(n){e.readyState=f.readyState,e.url=f.url,e.protocol=f.protocol,h=r,clearTimeout(g),g=setTimeout(y,i),clearTimeout(p),p=setTimeout(_,t),a("onopen")},clearTimeout(p),p=setTimeout(y,h)};this.open=function(e){if("string"!=typeof e)throw new TypeError("invalid-URL");n=e,y()},this.close=function(){f&&(clearTimeout(p),clearTimeout(g),m=0,p=null,f.close(1e3,"Normal Closure"),e.readyState=f.readyState)};var b=function(e){if(e){var n=(e=String(e)).length;if("function"==typeof Blob&&(n=new Blob([e]).size),!(8192>=n))throw new RangeError("message-too-big");clearTimeout(g),g=setTimeout(y,i),clearTimeout(p),p=setTimeout(_,t),f.send(e)}},C=function(e,t){var n="";if(e.to){if(!u.test(e.to))throw new Error("invalid-TO");if(!e.room||!d.test(e.room))throw new Error("invalid-ROOM");n+="\t"+e.room+"\t"+e.to}else{if("get"===t)throw new Error("get-require-TO-and-ROOM");n+="\t\t"}if("*"===e.key)e.key="";else if(!c.test(e.key))throw new Error("invalid-KEY");return n+="\t"+e.key};this.get=function(e){if(e)try{b(C(e,"get")+"\n")}catch(e){return e}},this.set=function(e){if(e)try{var t=C(e,"set");if(e.value instanceof Array){if(0===e.value.length)return;for(var n=0;n<e.value.length;n++)t+="\t"+s(e.value[n])}else t+="\t"+s(e.value);b(t+"\n")}catch(e){return e}}}}()},53139:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateAgent=t.setAllAgentsLeft=t.initAgentStore=t.dispatchers=t.addAgent=void 0;var o=n(2036),i=n(62096),a=n(20438),s=r(n(14762));const l=(0,n(90061).createLogger)("AgentsActions"),u=e=>({type:o.ActionType.INIT_AGENTS_STORE,payload:e});t.initAgentStore=u;const c=e=>({type:o.ActionType.ADD_AGENT,payload:e});t.addAgent=c;const d=e=>{const t=s.default.getAgentById(e.id);return l.log("redux_try_to_update_agent",e,t),t&&(t.set("display_name",e.name),t.set("title",e.title),t.set("avatar_url",e.avatarUrl),l.log("redux_update_agent",s.default)),{type:o.ActionType.UPDATE_AGENT,payload:e}};t.updateAgent=d;const f=()=>({type:o.ActionType.SET_ALL_AGENTS_LEFT});t.setAllAgentsLeft=f;const p=(0,a.bindActionCreators)({initAgentStore:u,addAgent:c,updateAgent:d,setAllAgentsLeft:f},i.reduxStore.dispatch);t.dispatchers=p},42932:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setVIReconnectTime=t.setQuoteMsgId=t.setMaintenance=t.setLastMsgTime=t.setLastMsgId=t.setLastChatStatus=t.setLastChatOpened=t.setIsInputDisabled=t.setIsInDrag=t.setIsContactFormFocused=t.setHiddenByRules=t.setDidFreezeData=t.setChatStarted=t.setChatOpenByClient=t.setChatAccepted=t.setAppStarted=t.setAppRoute=t.setAppIsOnline=t.setAppIsFocused=t.initAppStore=t.dispatchers=void 0;var o=n(20438),i=n(96394),a=n(2036),s=n(62096),l=r(n(95003));const u=e=>{let t=e.isFocused,n=e.isOnline,r=e.route,o=e.tabRoute,i=e.lastChatOpened,s=e.isInputDisabled,l=e.maintenance,u=e.chatStarted,c=e.chatAccepted,d=e.lastMsgId,f=e.lastMsgTime,p=e.started,g=e.chatOpenByClient,h=e.viReconnectTime,m=e.didFreezeData,_=e.lastChatStatus,v=e.quoteMsgId,y=e.hiddenByRules;return{type:a.ActionType.INIT_APP_STORE,payload:{isFocused:t,isOnline:n,route:r,tabRoute:o,lastChatOpened:i,isInputDisabled:s,maintenance:l,chatOpenByClient:g,chatStarted:u,chatAccepted:c,lastMsgId:d,lastMsgTime:f,started:p,viReconnectTime:h,didFreezeData:m,lastChatStatus:_,quoteMsgId:v,hiddenByRules:y}}};t.initAppStore=u;const c=e=>(l.default.is_online=e?1:0,{type:a.ActionType.SET_APP_IS_ONLINE,payload:{isOnline:e}});t.setAppIsOnline=c;const d=e=>(l.default.is_focused=e,{type:a.ActionType.SET_APP_IS_FOCUSED,payload:{isFocused:e}});t.setAppIsFocused=d;const f=e=>({type:a.ActionType.SET_CHAT_OPEN_BY_CLIENT,payload:{chatOpenByClient:e}});t.setChatOpenByClient=f;const p=e=>(l.default.route=e,{type:a.ActionType.SET_APP_ROUTE,payload:{route:e}});t.setAppRoute=p;const g=e=>(l.default.lastChatOpened=e,{type:a.ActionType.SET_LAST_CHAT_OPENED,payload:{lastChatOpened:e}});t.setLastChatOpened=g;const h=e=>({type:a.ActionType.SET_IS_IN_DRAG,payload:{isInDrag:e}});t.setIsInDrag=h;const m=e=>({type:a.ActionType.SET_IS_CONTACT_FORM_FOCUSED,payload:{isContactFormFocused:e}});t.setIsContactFormFocused=m;const _=e=>({type:a.ActionType.SET_IS_INPUT_DISABLED,payload:{isInputDisabled:e}});t.setIsInputDisabled=_;const v=e=>(l.default.maintenance=e,(0,i.setConfigParam)("maintenance",e),{type:a.ActionType.SET_MAINTENANCE,payload:{maintenance:e}});t.setMaintenance=v;const y=e=>(l.default.chat_started=e,{type:a.ActionType.UPDATE_APP_STORE,payload:{chatStarted:e}});t.setChatStarted=y;const b=e=>(l.default.chat_accepted=e,{type:a.ActionType.UPDATE_APP_STORE,payload:{chatAccepted:e}});t.setChatAccepted=b;const C=e=>(l.default.lastMsgTime=e,{type:a.ActionType.UPDATE_APP_STORE,payload:{lastMsgTime:e}});t.setLastMsgTime=C;const E=e=>(l.default.lastMsgId=e,{type:a.ActionType.UPDATE_APP_STORE,payload:{lastMsgId:e}});t.setLastMsgId=E;const D=e=>(l.default.started=e,{type:a.ActionType.UPDATE_APP_STORE,payload:{started:e}});t.setAppStarted=D;const T=e=>(l.default.viReconnectTime=e,{type:a.ActionType.UPDATE_APP_STORE,payload:{viReconnectTime:e}});t.setVIReconnectTime=T;const w=e=>(l.default.didFreezeData=e,{type:a.ActionType.UPDATE_APP_STORE,payload:{didFreezeData:e}});t.setDidFreezeData=w;const S=e=>(l.default.lastChatStatus=e,{type:a.ActionType.SET_LAST_CHAT_STATUS,payload:{lastChatStatus:e}});t.setLastChatStatus=S;const O=e=>(l.default.quoteMsgId=e,{type:a.ActionType.SET_QUOTE_MSG_ID,payload:{quoteMsgId:e}});t.setQuoteMsgId=O;const A=e=>(l.default.hiddenByRules=e,{type:a.ActionType.SET_HIDDEN_BY_RULES,payload:{hiddenByRules:e}});t.setHiddenByRules=A;const I=(0,o.bindActionCreators)({initAppStore:u,setAppIsOnline:c,setAppIsFocused:d,setAppRoute:p,setLastChatOpened:g,setIsInDrag:h,setIsContactFormFocused:m,setIsInputDisabled:_,setMaintenance:v,setChatOpenByClient:f,setChatAccepted:b,setChatStarted:y,setLastMsgTime:C,setAppStarted:D,setLastMsgId:E,setVIReconnectTime:T,setDidFreezeData:w,setLastChatStatus:S,setQuoteMsgId:O,setHiddenByRules:A},s.reduxStore.dispatch);t.dispatchers=I},13532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initBotsStore=t.dispatchers=t.addBot=void 0;var r=n(2036),o=n(62096),i=n(20438);const a=e=>({type:r.ActionType.INIT_BOTS_STORE,payload:e});t.initBotsStore=a;const s=e=>({type:r.ActionType.ADD_BOT,payload:e});t.addBot=s;const l={initBotsStore:(0,i.bindActionCreators)(a,o.reduxStore.dispatch),addBot:(0,i.bindActionCreators)(s,o.reduxStore.dispatch)};t.dispatchers=l},45689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWebRTCCallStatus=t.setSeparateForm=t.setDelayedTimezone=t.setDelayedPeriods=t.setDelayedCallbackStatus=t.setCallbackStatus=t.setCallbackIsDelayed=t.setCallbackError=t.setCallbackAvailable=t.setActiveWebRTCCallMessageId=t.initializeCallbackStore=t.dispatchers=void 0;var r=n(20438),o=n(2036),i=n(62096);const a=e=>({type:o.ActionType.INIT_CALLBACK_STORE,payload:e});t.initializeCallbackStore=a;const s=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{available:e}});t.setCallbackAvailable=s;const l=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedStatus:e}});t.setDelayedCallbackStatus=l;const u=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{isDelayed:e}});t.setCallbackIsDelayed=u;const c=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{status:e}});t.setCallbackStatus=c;const d=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{error:e}});t.setCallbackError=d;const f=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedTimezone:e}});t.setDelayedTimezone=f;const p=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedPeriods:e}});t.setDelayedPeriods=p;const g=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{activeWebRTCCallMessageId:e}});t.setActiveWebRTCCallMessageId=g;const h=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{webRTCCallStatus:e}});t.setWebRTCCallStatus=h;const m=e=>({type:o.ActionType.UPDATE_CALLBACK_STORE,payload:{separateForm:e}});t.setSeparateForm=m;const _={initializeCallbackStore:(0,r.bindActionCreators)(a,i.reduxStore.dispatch),setCallbackAvailable:(0,r.bindActionCreators)(s,i.reduxStore.dispatch),setDelayedCallbackStatus:(0,r.bindActionCreators)(l,i.reduxStore.dispatch),setCallbackIsDelayed:(0,r.bindActionCreators)(u,i.reduxStore.dispatch),setCallbackStatus:(0,r.bindActionCreators)(c,i.reduxStore.dispatch),setCallbackError:(0,r.bindActionCreators)(d,i.reduxStore.dispatch),setDelayedTimezone:(0,r.bindActionCreators)(f,i.reduxStore.dispatch),setDelayedPeriods:(0,r.bindActionCreators)(p,i.reduxStore.dispatch),setActiveWebRTCCallMessageId:(0,r.bindActionCreators)(g,i.reduxStore.dispatch),setWebRTCCallStatus:(0,r.bindActionCreators)(h,i.reduxStore.dispatch),setSeparateForm:(0,r.bindActionCreators)(m,i.reduxStore.dispatch)};t.dispatchers=_},93141:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setNoJoinedAgents=t.setJoinedBots=t.setJoinedAgents=t.setChatEvaluated=t.setAgentTyping=t.initChatsStore=t.dispatchers=t.createChats=t.addJoinedAgent=void 0;var o=r(n(61125)),i=n(29865),a=n(20438),s=n(2036),l=n(99131),u=n(62096),c=n(55623),d=n(45959),f=n(53139),p=r(n(26754)),g=r(n(14762)),h=n(92056),m=n(90189);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y=e=>{const t=(0,c.selectChatsIds)(e),n=(0,m.selectAgentJoinedIds)(e),r=(0,m.selectBotJoinedIds)(e),o=(0,d.selectClientEvaluate)(e),i=(0,d.selectDepartmentId)(e);return t.length?t.reduce(((e,t,a,s)=>(e.push(v(v(v({},l.chatTemplate),a===s.length-1&&{joinedAgents:n,joinedBots:r}),{},{departmentId:i,evaluated:o,id:t})),e)),[]):[v(v({},l.chatTemplate),{},{departmentId:i,evaluated:o,joinedAgents:n,joinedBots:r})]};t.createChats=y;const b=()=>(e,t)=>{const n=y(t());return e({type:s.ActionType.INIT_CHATS_STORE,payload:n})};t.initChatsStore=b;const C=e=>({type:s.ActionType.SET_AGENT_TYPING,payload:{agentTyping:!!e}});t.setAgentTyping=C;const E=e=>t=>(0,i.batch)((()=>{t({type:s.ActionType.SET_CURRENT_CHAT_EVALUATED,payload:{evaluated:e}}),t((0,h.setEvaluate)(e))}));t.setChatEvaluated=E;const D=e=>{g.default.updateAgentList(e);const t=g.default.getAgentIdsByStatus("join");return{type:s.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT,payload:{joinedAgents:t}}};t.setJoinedAgents=D;const T=()=>e=>{g.default.closeChat(),p.default.agent_id=0,p.default.state="left",(0,i.batch)((()=>{e({type:s.ActionType.CLOSE_CHAT,payload:{joinedAgents:[],joinedBots:[]}}),e((0,f.setAllAgentsLeft)())}))};t.setNoJoinedAgents=T;const w=e=>({type:s.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT,payload:{agentId:e}});t.addJoinedAgent=w;const S=e=>({type:s.ActionType.SET_JOINED_BOTS,payload:{joinedBots:null!=e?e:[]}});t.setJoinedBots=S;const O=(0,a.bindActionCreators)({initChatsStore:b,setAgentTyping:C,setChatEvaluated:E,setJoinedAgents:D,setNoJoinedAgents:T,addJoinedAgent:w,setJoinedBots:S},u.reduxStore.dispatch);t.dispatchers=O},92056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateClient=t.setVisitorId=t.setUserToken=t.setUTM=t.setPaId=t.setMailing=t.setLastMessage=t.setIsIntroduced=t.setInputText=t.setHasIntegration=t.setExternalData=t.setEvaluate=t.setEulaAccepted=t.setDepartmentId=t.setCustomData=t.setClientTags=t.setClientSessionId=t.setClientPhone=t.setClientName=t.setClientId=t.setClientEmail=t.setClientDescription=t.setClientContacts=t.setClientAttributes=t.setCaptchaToken=t.setAssignedAgentId=t.resetClient=t.dispatchers=void 0;var r=n(20438),o=n(2036),i=n(62096);const a=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{hasIntegration:e}});t.setHasIntegration=a;const s=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{lastMessage:e}});t.setLastMessage=s;const l=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{isIntroduced:e}});t.setIsIntroduced=l;const u=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{inputText:e}});t.setInputText=u;const c=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{userToken:e}});t.setUserToken=c;const d=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{customData:e}});t.setCustomData=d;const f=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{captchaToken:e}});t.setCaptchaToken=f;const p=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{priorityAgentId:e}});t.setPaId=p;const g=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{email:e}});t.setClientEmail=g;const h=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{eulaAccepted:e}});t.setEulaAccepted=h;const m=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{mailing:e}});t.setMailing=m;const _=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{phone:e}});t.setClientPhone=_;const v=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{name:e}});t.setClientName=v;const y=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{description:e}});t.setClientDescription=y;const b=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{clientId:e}});t.setClientId=b;const C=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{sessionId:e}});t.setClientSessionId=C;const E=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{assignedAgentId:e}});t.setAssignedAgentId=E;const D=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{departmentId:e}});t.setDepartmentId=D;t.setEvaluate=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{evaluate:e}});const T=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{utm:e}});t.setUTM=T;const w=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:e});t.setClientContacts=w;const S=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{visitorId:e}});t.setVisitorId=S;const O=e=>({type:o.ActionType.UPDATE_CLIENT_STORE_MANUALLY,payload:e});t.updateClient=O;const A=()=>({type:o.ActionType.RESET_CLIENT_STORE});t.resetClient=A;const I=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{tags:e}});t.setClientTags=I;const k=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{attributes:e}});t.setClientAttributes=k;const M=e=>({type:o.ActionType.UPDATE_CLIENT_STORE,payload:{externalData:e}});t.setExternalData=M;const x=(0,r.bindActionCreators)({setHasIntegration:a,setLastMessage:s,setIsIntroduced:l,setInputText:u,setUserToken:c,setCustomData:d,setCaptchaToken:f,setPaId:p,setEulaAccepted:h,setMailing:m,setClientEmail:g,setClientPhone:_,setClientName:v,setClientDescription:y,setClientId:b,setClientSessionId:C,setClientContacts:w,setAssignedAgentId:E,setDepartmentId:D,setVisitorId:S,setUTM:T,updateClient:O,resetClient:A,setClientTags:I,setClientAttributes:k,setExternalData:M},i.reduxStore.dispatch);t.dispatchers=x},84219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDesignerSettings=t.dispatchers=void 0;var r=n(20438),o=n(2036),i=n(62096);const a=e=>({type:o.ActionType.UPDATE_DESIGNER_SETTINGS,payload:e});t.updateDesignerSettings=a;const s=(0,r.bindActionCreators)({updateDesignerSettings:a},i.reduxStore.dispatch);t.dispatchers=s},66031:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setJoint=t.enablePrechat=t.dispatchers=t.disableFiletransfer=void 0;var o=n(20438),i=n(2036),a=n(62096),s=r(n(96394));const l=e=>(s.default.disable_filetranser=e,{type:i.ActionType.SET_DISABLE_FILETRANSFER,payload:{disableFiletransfer:e?1:0}});t.disableFiletransfer=l;const u=e=>(s.default.enable_prechat=e?1:0,{type:i.ActionType.SET_ENABLE_PRECHAT,payload:{prechat:e?1:0}});t.enablePrechat=u;const c=e=>(s.default.joint=e,{type:i.ActionType.SET_JOINT,payload:{joint:e}});t.setJoint=c;const d=(0,o.bindActionCreators)({disableFiletransfer:l,enablePrechat:u,setJoint:c},a.reduxStore.dispatch);t.dispatchers=d},26932:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userDispatchers=t.user=t.transitionDispatchers=t.transition=t.socialDispatchers=t.social=t.proactiveDispatchers=t.proactive=t.permissionsDispatchers=t.permissions=t.messagesDispatchers=t.messages=t.featuresDispatchers=t.features=t.designerDispatchers=t.designer=t.clientDispatchers=t.client=t.chatsDispatchers=t.chats=t.callbackDispatchers=t.callback=t.botsDispatchers=t.bots=t.appDispatchers=t.app=t.agentsDispatchers=t.agents=void 0;var r=v(n(42932));t.app=r;var o=v(n(45689));t.callback=o;var i=v(n(27591));t.social=i;var a=v(n(50307));t.user=a;var s=v(n(53139));t.agents=s;var l=v(n(93141));t.chats=l;var u=v(n(5452));t.transition=u;var c=v(n(40099));t.messages=c;var d=v(n(92056));t.client=d;var f=v(n(66031));t.features=f;var p=v(n(13532));t.bots=p;var g=v(n(25925));t.proactive=g;var h=v(n(94539));t.permissions=h;var m=v(n(84219));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}t.designer=m;const y=r.dispatchers;t.appDispatchers=y;const b=o.dispatchers;t.callbackDispatchers=b;const C=i.dispatchers;t.socialDispatchers=C;const E=a.dispatchers;t.userDispatchers=E;const D=s.dispatchers;t.agentsDispatchers=D;const T=l.dispatchers;t.chatsDispatchers=T;const w=u.dispatchers;t.transitionDispatchers=w;const S=c.dispatchers;t.messagesDispatchers=S;const O=d.dispatchers;t.clientDispatchers=O;const A=f.dispatchers;t.featuresDispatchers=A;const I=p.dispatchers;t.botsDispatchers=I;const k=g.dispatchers;t.proactiveDispatchers=k;const M=h.dispatchers;t.permissionsDispatchers=M;const x=m.dispatchers;t.designerDispatchers=x},40099:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateWebRTCCallStatus=t.updateMessages=t.updateMessageBody=t.updateMessage=t.initMessagesStore=t.editMessage=t.dispatchers=t.destroyByType=t.deleteMessageByPrivateId=t.addMessages=t.addMessage=void 0;var o=n(2036),i=n(62096),a=n(20438),s=r(n(14264));const l=()=>{const e=s.default.getAll().map((e=>e.store));return s.default.trigger("update"),{type:o.ActionType.INIT_MESSAGES_STORE,payload:{messages:e}}};t.initMessagesStore=l;const u=(e,t)=>{let n=e;return t||(n=s.default.push(n).store),{type:o.ActionType.ADD_MESSAGE,payload:{message:n}}};t.addMessage=u;const c=e=>(s.default.pushAll(e),{type:o.ActionType.ADD_MESSAGES,payload:{messages:e}});t.addMessages=c;const d=e=>({type:o.ActionType.EDIT_MESSAGE,payload:e});t.editMessage=d;const f=(e,t)=>{const n=s.default.getMessageByPrivateId(e);return n&&n.set("body",t),{type:o.ActionType.UPDATE_MESSAGE_BODY,payload:{privateId:e,body:t}}};t.updateMessageBody=f;const p=(e,t)=>{let n=e.privateId,r=e.messageId;const i=n?s.default.getMessageByPrivateId(n):s.default.getMessageById(r);return i&&i.set(t),{type:o.ActionType.UPDATE_MESSAGE,payload:{privateId:n,messageId:r,newMessage:t}}};t.updateMessage=p;const g=(e,t)=>{let n=e.privateIds,r=e.messageIds;return s.default.getAll().forEach((e=>{const o=e.toJSON(),i=o.msg_id,a=o.private_id;n&&n.includes(a)&&e.set(t),r&&r.includes(i)&&e.set(t)})),{type:o.ActionType.UPDATE_MESSAGES,payload:{privateIds:n,messageIds:r,update:t}}};t.updateMessages=g;const h=e=>{const t=s.default.getMessageByPrivateId(e);return t&&t.destroy(),{type:o.ActionType.DELETE_MESSAGE,payload:{privateId:e}}};t.deleteMessageByPrivateId=h;const m=e=>{const t=s.default.getMessagesByType(e);return t.length&&t.forEach((e=>{e&&e.destroy()})),{type:o.ActionType.DELETE_MESSAGE,payload:{type:e}}};t.destroyByType=m;const _=(e,t)=>{const n=s.default.getMessageByPrivateId(e);return n&&n.set("body",{webRTCCallStatus:t}),{type:o.ActionType.UPDATE_WEBRTCCALL_STATUS,payload:{privateId:e||null,webRTCCallStatus:t}}};t.updateWebRTCCallStatus=_;const v={initMessagesStore:(0,a.bindActionCreators)(l,i.reduxStore.dispatch),addMessage:(0,a.bindActionCreators)(u,i.reduxStore.dispatch),addMessages:(0,a.bindActionCreators)(c,i.reduxStore.dispatch),editMessage:(0,a.bindActionCreators)(d,i.reduxStore.dispatch),updateMessageBody:(0,a.bindActionCreators)(f,i.reduxStore.dispatch),deleteMessageByPrivateId:(0,a.bindActionCreators)(h,i.reduxStore.dispatch),destroyByType:(0,a.bindActionCreators)(m,i.reduxStore.dispatch),updateWebRTCCallStatus:(0,a.bindActionCreators)(_,i.reduxStore.dispatch),updateMessage:(0,a.bindActionCreators)(p,i.reduxStore.dispatch),updateMessages:(0,a.bindActionCreators)(g,i.reduxStore.dispatch)};t.dispatchers=v},94539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePermission=t.dispatchers=void 0;var r=n(2036),o=n(62096),i=n(20438);const a=(e,t)=>({type:r.ActionType.UPDATE_PERMISSION,payload:{permission:e,value:t}});t.updatePermission=a;const s={updatePermission:(0,i.bindActionCreators)(a,o.reduxStore.dispatch)};t.dispatchers=s},25925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStatus=t.setPrechats=t.setName=t.resetProactive=t.dispatchers=t.addProactive=void 0;var r=n(2036),o=n(62096),i=n(20438);const a=e=>{let t=e.createdTs,n=e.name,o=e.privateId,i=e.status,a=e.text,s=e.agentId,l=e.botId,u=e.isMarkdown,c=e.prechats,d=e.campaignId;return{type:r.ActionType.ADD_PROACTIVE,payload:{createdTs:t,name:n,privateId:o,status:i,text:a,agentId:s,botId:l,isMarkdown:u,prechats:c,campaignId:d}}};t.addProactive=a;const s=e=>({type:r.ActionType.SET_PROACTIVE_STATUS,payload:{status:e}});t.setStatus=s;const l=e=>({type:r.ActionType.SET_PROACTIVE_NAME,payload:{name:e}});t.setName=l;const u=e=>({type:r.ActionType.SET_PROACTIVE_PRECHATS,payload:{prechats:e}});t.setPrechats=u;const c=()=>({type:r.ActionType.RESET_PROACTIVE});t.resetProactive=c;const d={addProactive:(0,i.bindActionCreators)(a,o.reduxStore.dispatch),setStatus:(0,i.bindActionCreators)(s,o.reduxStore.dispatch),setName:(0,i.bindActionCreators)(l,o.reduxStore.dispatch),setPrechats:(0,i.bindActionCreators)(u,o.reduxStore.dispatch),resetProactive:(0,i.bindActionCreators)(c,o.reduxStore.dispatch)};t.dispatchers=d},27591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeSocialStore=t.dispatchers=void 0;var r=n(2036),o=n(62096),i=n(20438);const a=e=>{let t=e.vk,n=e.fb,o=e.mode;return{type:r.ActionType.INIT_SOCIAL_STORE,payload:{vk:t,fb:n,mode:o}}};t.initializeSocialStore=a;const s={initializeSocialStore:(0,i.bindActionCreators)(a,o.reduxStore.dispatch)};t.dispatchers=s},5452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startTransition=t.initTransitionStore=t.dispatchers=void 0;var r=n(2036),o=n(62096),i=n(20438);const a=e=>({type:r.ActionType.INIT_TRANSITION_STORE,payload:e});t.initTransitionStore=a;const s=e=>({type:r.ActionType.START_TRANSITION_SCRIPT,payload:{script:e}});t.startTransition=s;const l={initTransitionStore:(0,i.bindActionCreators)(a,o.reduxStore.dispatch),startTransition:(0,i.bindActionCreators)(s,o.reduxStore.dispatch)};t.dispatchers=l},50307:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setWidgetPadding=t.setWidgetOrientation=t.setWidgetMobileOrientation=t.setWidgetLabelBubble=t.setWidgetFontType=t.setWidgetFontSize=t.setWidgetFontFamily=t.setWidgetFontColor=t.setWidgetColor2=t.setWidgetColor=t.setPrechat=t.setPowerGradient=t.setPowerButtonColor=t.setPattern=t.setOnlineLabel=t.setOfflineLabel=t.setOfflineFormTitle=t.setOfflineFormText=t.setMobileOffsetBottom=t.setDesktopOffsetBottom=t.setCallbackButtonColor=t.setCallHeaderText=t.setBubbleColor=t.dispatchers=void 0;var o=n(2036),i=n(62096),a=n(20438),s=r(n(95003)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(96394));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=e=>(l.default.widget_color=e,s.default.widget_color=e,{type:o.ActionType.SET_WIDGET_COLOR,payload:{widgetColor:e}});t.setWidgetColor=c;const d=e=>(l.default.widget_color2=e,s.default.widget_color2=e,{type:o.ActionType.SET_WIDGET_COLOR2,payload:{widgetColor2:e}});t.setWidgetColor2=d;const f=e=>(l.default.widget_font_color=e,s.default.widget_font_color=e,{type:o.ActionType.SET_WIDGET_FONT_COLOR,payload:{widgetFontColor:e}});t.setWidgetFontColor=f;const p=e=>(l.default.widget_orientation=e,{type:o.ActionType.SET_WIDGET_ORIENTATION,payload:{widgetOrientation:e}});t.setWidgetOrientation=p;const g=e=>((0,l.setConfigParam)("widget_mobile_orientation",e),{type:o.ActionType.SET_MOBILE_WIDGET_ORIENTATION,payload:{widgetMobileOrientation:e}});t.setWidgetMobileOrientation=g;const h=e=>((0,l.setConfigParam)("mobile_offset_bottom",e),{type:o.ActionType.SET_MOBILE_OFFSET_BOTTOM,payload:{mobileOffsetBottom:e}});t.setMobileOffsetBottom=h;const m=e=>((0,l.setConfigParam)("desktop_offset_bottom",e),{type:o.ActionType.SET_DESKTOP_OFFSET_BOTTOM,payload:{desktopOffsetBottom:e}});t.setDesktopOffsetBottom=m;const _=e=>((0,l.setConfigParam)("power_gradient",e?1:0),{type:o.ActionType.SET_POWER_GRADIENT,payload:{powerGradient:!!e||null}});t.setPowerGradient=_;const v=e=>((0,l.setConfigParam)("power_button_color",e),{type:o.ActionType.SET_MOBILE_WIDGET_COLOR,payload:{powerButtonColor:e}});t.setPowerButtonColor=v;const y=e=>{const t=+e;return l.default.widget_padding=t,{type:o.ActionType.SET_WIDGET_PADDING,payload:{widgetPadding:t}}};t.setWidgetPadding=y;const b=e=>(l.default.online_widget_label=e,{type:o.ActionType.SET_ONLINE_WIDGET_LABEL,payload:{onlineWidgetLabel:e}});t.setOnlineLabel=b;const C=e=>(l.default.offline_widget_label=e,{type:o.ActionType.SET_OFFLINE_WIDGET_LABEL,payload:{offlineWidgetLabel:e}});t.setOfflineLabel=C;const E=e=>(l.default.font_size=e,{type:o.ActionType.SET_WIDGET_FONT_SIZE,payload:{fontSize:e}});t.setWidgetFontSize=E;const D=e=>(l.default.font_family=e,{type:o.ActionType.SET_WIDGET_FONT_FAMILY,payload:{fontFamily:e}});t.setWidgetFontFamily=D;const T=e=>(l.default.font_type=e,{type:o.ActionType.SET_WIDGET_FONT_TYPE,payload:{fontType:e}});t.setWidgetFontType=T;const w=e=>({type:o.ActionType.SET_WIDGET_LABEL_BUBBLE,payload:{labelBubble:e}});t.setWidgetLabelBubble=w;const S=e=>(s.default.callText=e,{type:o.ActionType.SET_CALL_HEADER_TEXT,payload:{callHeaderText:e}});t.setCallHeaderText=S;const O=e=>(l.default.pattern=e,{type:o.ActionType.SET_PATTERN,payload:{pattern:e}});t.setPattern=O;const A=e=>(l.default.callback_btn_color=e,{type:o.ActionType.SET_CALLBACK_BUTTON_COLOR,payload:{callbackButtonColor:e}});t.setCallbackButtonColor=A;const I=e=>(l.default.bubble_color=e,{type:o.ActionType.SET_BUBBLE_COLOR,payload:{bubbleColor:e}});t.setBubbleColor=I;const k=e=>(l.default.offline_form_title=e,{type:o.ActionType.SET_OFFLINE_FORM_TITLE,payload:{offlineFormTitle:e}});t.setOfflineFormTitle=k;const M=e=>(l.default.offline_form_text=e,{type:o.ActionType.SET_OFFLINE_FORM_TEXT,payload:{offlineFormText:e}});t.setOfflineFormText=M;const x=e=>(l.default.prechat=e,{type:o.ActionType.SET_PRECHAT,payload:{prechat:e}});t.setPrechat=x;const P={setWidgetColor:(0,a.bindActionCreators)(c,i.reduxStore.dispatch),setWidgetColor2:(0,a.bindActionCreators)(d,i.reduxStore.dispatch),setWidgetFontColor:(0,a.bindActionCreators)(f,i.reduxStore.dispatch),setWidgetOrientation:(0,a.bindActionCreators)(p,i.reduxStore.dispatch),setWidgetMobileOrientation:(0,a.bindActionCreators)(g,i.reduxStore.dispatch),setDesktopOffsetBottom:(0,a.bindActionCreators)(m,i.reduxStore.dispatch),setMobileOffsetBottom:(0,a.bindActionCreators)(h,i.reduxStore.dispatch),setPowerGradient:(0,a.bindActionCreators)(_,i.reduxStore.dispatch),setPowerButtonColor:(0,a.bindActionCreators)(v,i.reduxStore.dispatch),setWidgetPadding:(0,a.bindActionCreators)(y,i.reduxStore.dispatch),setOnlineLabel:(0,a.bindActionCreators)(b,i.reduxStore.dispatch),setOfflineLabel:(0,a.bindActionCreators)(C,i.reduxStore.dispatch),setWidgetFontSize:(0,a.bindActionCreators)(E,i.reduxStore.dispatch),setWidgetFontFamily:(0,a.bindActionCreators)(D,i.reduxStore.dispatch),setWidgetFontType:(0,a.bindActionCreators)(T,i.reduxStore.dispatch),setWidgetLabelBubble:(0,a.bindActionCreators)(w,i.reduxStore.dispatch),setCallHeaderText:(0,a.bindActionCreators)(S,i.reduxStore.dispatch),setPattern:(0,a.bindActionCreators)(O,i.reduxStore.dispatch),setCallbackButtonColor:(0,a.bindActionCreators)(A,i.reduxStore.dispatch),setBubbleColor:(0,a.bindActionCreators)(I,i.reduxStore.dispatch),setOfflineFormTitle:(0,a.bindActionCreators)(k,i.reduxStore.dispatch),setOfflineFormText:(0,a.bindActionCreators)(M,i.reduxStore.dispatch),setPrechat:(0,a.bindActionCreators)(x,i.reduxStore.dispatch)};t.dispatchers=P},2036:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionType=void 0;t.ActionType={DO_NOTHING:"DO_NOTHING",INIT_CALLBACK_STORE:"INIT_CALLBACK_STORE",SET_CALL_AVAILABLE:"SET_CALL_AVAILABLE",SET_DELAYED_CALL_STATUS:"SET_DELAYED_CALL_STATUS",SET_CALL_IS_DELAYED:"SET_CALL_IS_DELAYED",SET_CALL_STATUS:"SET_CALL_STATUS",SET_CALL_ERROR:"SET_CALL_ERROR",SET_DELAYED_TIMEZONE:"SET_DELAYED_TIMEZONE",SET_DELAYED_PERIODS:"SET_DELAYED_PERIODS",SET_ACTIVE_WEBRTC_MESSAGE_ID:"SET_ACTIVE_WEBRTC_MESSAGE_ID",SET_WEBRTC_CALL_STATUS:"SET_WEBRTC_CALL_STATUS",UPDATE_CALLBACK_STORE:"UPDATE_CALLBACK_STORE",INIT_SOCIAL_STORE:"INIT_SOCIAL_STORE",INIT_APP_STORE:"INIT_APP_STORE",SET_APP_IS_ONLINE:"SET_APP_IS_ONLINE",SET_APP_IS_FOCUSED:"SET_APP_IS_FOCUSED",SET_APP_ROUTE:"SET_APP_ROUTE",SET_LAST_CHAT_OPENED:"SET_LAST_CHAT_OPENED",SET_IS_IN_DRAG:"SET_IS_IN_DRAG",SET_IS_CONTACT_FORM_FOCUSED:"SET_IS_CONTACT_FORM_FOCUSED",SET_IS_INPUT_DISABLED:"SET_IS_INPUT_DISABLED",SET_MAINTENANCE:"SET_MAINTENANCE",SET_CHAT_OPEN_BY_CLIENT:"SET_CHAT_OPEN_BY_CLIENT",UPDATE_APP_STORE:"UPDATE_APP_STORE",SET_LAST_CHAT_STATUS:"SET_LAST_CHAT_STATUS",SET_QUOTE_MSG_ID:"SET_QUOTE_MSG_ID",SET_HIDDEN_BY_RULES:"SET_HIDDEN_BY_RULES",SET_WIDGET_COLOR:"SET_WIDGET_COLOR",SET_WIDGET_COLOR2:"SET_WIDGET_COLOR2",SET_WIDGET_FONT_COLOR:"SET_WIDGET_FONT_COLOR",SET_WIDGET_ORIENTATION:"SET_WIDGET_ORIENTATION",SET_WIDGET_PADDING:"SET_WIDGET_PADDING",SET_ONLINE_WIDGET_LABEL:"SET_ONLINE_WIDGET_LABEL",SET_OFFLINE_WIDGET_LABEL:"SET_OFFLINE_WIDGET_LABEL",SET_DESKTOP_OFFSET_BOTTOM:"SET_DESKTOP_OFFSET_BOTTOM",SET_WIDGET_FONT_SIZE:"SET_WIDGET_FONT_SIZE",SET_WIDGET_FONT_FAMILY:"SET_WIDGET_FONT_FAMILY",SET_WIDGET_FONT_TYPE:"SET_WIDGET_FONT_TYPE",SET_CALL_HEADER_TEXT:"SET_CALL_HEADER_TEXT",SET_PATTERN:"SET_PATTERN",SET_CALLBACK_BUTTON_COLOR:"SET_CALLBACK_BUTTON_COLOR",SET_BUBBLE_COLOR:"SET_BUBBLE_COLOR",SET_WIDGET_LABEL_BUBBLE:"SET_WIDGET_LABEL_BUBBLE",SET_PRECHAT:"SET_PRECHAT",SET_POWER_GRADIENT:"SET_POWER_GRADIENT",SET_MOBILE_OFFSET_BOTTOM:"SET_MOBILE_OFFSET_BOTTOM",SET_MOBILE_WIDGET_ORIENTATION:"SET_MOBILE_WIDGET_ORIENTATION",SET_MOBILE_WIDGET_COLOR:"SET_MOBILE_WIDGET_COLOR",INIT_AGENTS_STORE:"INIT_AGENTS_STORE",ADD_AGENT:"ADD_AGENT",UPDATE_AGENT:"UPDATE_AGENT",SET_ALL_AGENTS_LEFT:"SET_ALL_AGENTS_LEFT",INIT_BOTS_STORE:"INIT_BOTS_STORE",ADD_BOT:"ADD_BOT",INIT_CHATS_STORE:"INIT_CHATS_STORE",START_CHAT:"START_CHAT",CLOSE_CHAT:"CLOSE_CHAT",SET_JOINED_AGENTS_IN_CURRENT_CHAT:"SET_JOINED_AGENTS_IN_CURRENT_CHAT",ADD_JOINED_AGENT_TO_CURRENT_CHAT:"ADD_JOINED_AGENT_TO_CURRENT_CHAT",REMOVE_AGENT_FROM_CURRENT_CHAT:"REMOVE_AGENT_FROM_CHAT",SET_CURRENT_CHAT_EVALUATED:"SET_CHAT_EVALUATED",SET_AGENT_TYPING:"SET_AGENT_TYPING",SET_CURRENT_CHAT_DEPARTMENT_ID:"SET_CHAT_DEPARTMENT_ID",SET_JOINED_BOTS:"SET_JOINED_BOTS",UPDATE_CHATS_STORE:"UPDATE_CHATS_STORE",INIT_TRANSITION_STORE:"INIT_TRANSITION_STORE",START_TRANSITION_SCRIPT:"START_TRANSITION_SCRIPT",CONTINUE_TRANSITION_SCRIPT:"CONTINUE_TRANSITION_SCRIPT",STOP_TRANSITION_SCRIPT:"STOP_TRANSITION_SCRIPT",RESET_TRANSITON_SCRIPT:"RESET_TRANSITON_SCRIPT",INIT_MESSAGES_STORE:"INIT_MESSAGES_STORE",ADD_MESSAGE:"ADD_MESSAGE",ADD_MESSAGES:"ADD_MESSAGES",EDIT_MESSAGE:"EDIT_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",UPDATE_MESSAGE_BODY:"UPDATE_MESSAGE_BODY",UPDATE_MESSAGE_STATUS:"UPDATE_MESSAGE_STATUS",UPDATE_MESSAGE:"UPDATE_MESSAGE",UPDATE_MESSAGES:"UPDATE_MESSAGES",SET_OFFLINE_FORM_TITLE:"SET_OFFLINE_FORM_TITLE",SET_OFFLINE_FORM_TEXT:"SET_OFFLINE_FORM_TEXT",UPDATE_CLIENT_STORE:"UPDATE_CLIENT_STORE",UPDATE_CLIENT_STORE_MANUALLY:"UPDATE_CLIENT_STORE_MANUALLY",RESET_CLIENT_STORE:"RESET_CLIENT_STORE",SET_DISABLE_FILETRANSFER:"SET_DISABLE_FILETRANSFER",SET_ENABLE_PRECHAT:"SET_ENABLE_PRECHAT",ADD_PROACTIVE:"ADD_PROACTIVE",RESET_PROACTIVE:"RESET_PROACTIVE",SET_PROACTIVE_STATUS:"SET_PROACTIVE_STATUS",SET_PROACTIVE_NAME:"SET_PROACTIVE_NAME",SET_PROACTIVE_PRECHATS:"SET_PROACTIVE_PRECHATS",UPDATE_WEBRTCCALL_STATUS:"UPDATE_WEBRTCCALL_STATUS",UPDATE_PERMISSION:"UPDATE_PERMISSION",UPDATE_DESIGNER_SETTINGS:"UPDATE_DESIGNER_SETTINGS",SET_JOINT:"SET_JOINT"}},79156:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.storesMap=t.readoptReduxToClientStorage=t.adoptClientStorageToRedux=void 0;var o=r(n(61125)),i=n(90061),a=n(28650),s=n(71047),l=n(42344),u=n(4510),c=n(73422);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=(0,i.createLogger)("REDUX: ClientAdapter"),g={callback:{cw_call:{error:"error",status:"status"},cw_call_enabled:"available",cw_call_delayed_periods:"delayedPeriods",cw_call_delayed_status:"delayedStatus",cw_call_delayed_tz:"delayedTimezone",cw_call_delayed:"isDelayed",activeWebRTCCallMessageId:"activeWebRTCCallMessageId",webRTCCallStatus:"webRTCCallStatus",separateForm:"separateForm"},client:{assigned_agent_id:"assignedAgentId",avatar_url:"avatarUrl",captchaToken:"captchaToken",client_id:"clientId",client_info:{client_name:"name",description:"description",email:"email",phone:"phone"},customData:"customData",department_id:"departmentId",display_name:"displayName",eula_accepted:"eulaAccepted",mailing:"mailing",evaluate:"evaluate",has_integration:"hasIntegration",inputText:"inputText",is_introduced:"isIntroduced",isBlacklisted:"isBlacklisted",jv_sess_id:"sessionId",last_message:"lastMessage",pa_id:"priorityAgentId",user_token:"userToken",utm:"utm",visitorId:"visitorId",tags:"tags",attributes:"attributes",externalData:"externalData"}},h={callback:{name:s.STORAGED_ID.CALLBACK,keys:g.callback,initialState:l.initialState},client:{name:s.STORAGED_ID.CLIENT,keys:g.client,initialState:u.initialState}};t.storesMap=h;t.adoptClientStorageToRedux=(e,t)=>{p.warn("ADOPT_CLIENT_STORAGE_TO_REDUX",{data:e,keysSet:t});const n=h[t],r=n.keys,o=n.initialState;if(!e)return o;const i={};for(const t in r){const n=r[t];var s;if((0,c.isObject)(n))for(const r in n)e[t]&&(0,a.hasOwn)(e[t],r)?i[n[r]]=e[t][r]:i[n[r]]=null;else i[n]=null!==(s=e[t])&&void 0!==s?s:o[n]}return i};t.readoptReduxToClientStorage=(e,t)=>{p.warn("READOPT_CLIENT_STORAGE_TO_REDUX",{data:e,keysSet:t});const n=f({},e),r=h[t].keys;for(const t in r){const o=r[t];if((0,c.isObject)(o))for(const r in o)n[t]=f(f({},n[t]),{},{[r]:e[o[r]]}),delete n[o[r]];else n[t]=e[o],t!==o&&delete n[o]}return n}},91133:function(e,t,n){"use strict";var r=n(17907);t.e=void 0;var o=r(n(61125)),i=n(73422);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.e=(e,t)=>Object.keys(t).reduce(((e,n)=>{const r=t[n];return(0,i.isNull)(r)||(e[n]=r),e}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},28240:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.loggerMiddleware=void 0;var o=r(n(61125)),i=n(90061),a=r(n(22866));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=(0,i.createLogger)("Redux");t.loggerMiddleware=e=>t=>n=>{u.warn("DISPATCHING",n);const r=t(n);return a.default.getInstance()&&a.default.getInstance().saveReduxAction(l(l({},n),{},{ts:(new Date).getTime()})),u.warn("NEXT_STATE",e.getState()),r}},68031:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOnStorage=t.statesToPersist=t.persistMiddleware=void 0;var o=r(n(96394)),i=n(16016),a=n(2036),s=n(79156),l=n(39715),u=n(71047),c=n(44733),d=n(73422);const f=c.StorageProvider.createKeyForStore(u.STORAGED_ID.POSITION),p=c.StorageProvider.createKeyForStore(u.STORAGED_ID.CLIENT),g={[u.STORAGED_ID.POSITION]:{storageKey:f,path:"position",onAdapter:null,onReadapter:null,onUpdate:null},[u.STORAGED_ID.CLIENT]:{storageKey:p,path:"client",onAdapter:e=>(0,s.adoptClientStorageToRedux)(e,u.STORAGED_ID.CLIENT),onReadapter:e=>(0,s.readoptReduxToClientStorage)(e,u.STORAGED_ID.CLIENT),onUpdate:e=>{o.default.cookie_domain&&c.StorageProvider.duplicateClientStateInCookie(e)}},[u.STORAGED_ID.CALLBACK]:{storageKey:p,path:"callback",onAdapter:e=>(0,s.adoptClientStorageToRedux)(e,u.STORAGED_ID.CALLBACK),onReadapter:e=>(0,s.readoptReduxToClientStorage)(e,u.STORAGED_ID.CALLBACK),onUpdate:null}};t.statesToPersist=g;const h={"position/initPositionStore":g[u.STORAGED_ID.POSITION],[a.ActionType.UPDATE_CLIENT_STORE]:g[u.STORAGED_ID.CLIENT],[a.ActionType.RESET_CLIENT_STORE]:g[u.STORAGED_ID.CLIENT],[a.ActionType.UPDATE_CALLBACK_STORE]:g[u.STORAGED_ID.CALLBACK]};t.persistMiddleware=e=>t=>n=>{if(t(n),n.type===a.ActionType.SET_DID_FREEZE_DATA&&!0===n.payload.didFreezeData)return Object.values(g).forEach((e=>{let t=e.storageKey;return c.StorageProvider.remove(t)}));n.type===a.ActionType.RESET_CLIENT_STORE&&c.StorageProvider.remove(g[u.STORAGED_ID.CLIENT].storageKey);const r=e.getState();if(n.type in h&&!r.app.didFreezeData){const e=h[n.type],t=e.storageKey,o=e.path,i=e.onReadapter,a=e.onUpdate,s=(0,l.get)(r,o),u=c.StorageProvider.get(t),d=Object.assign({},u,i?i(s):s);c.StorageProvider.set(t,d),null==a||a(d);const f=v(n.type);c.StorageProvider.set(m,f)}};const m="sync",_=(0,i.generateGUID)(),v=e=>({actionType:e,sourceId:_,time:Date.now()});t.subscribeOnStorage=e=>{window.addEventListener("storage",(e=>t=>{let n=t.key;if((0,c.isJvKeyForStoreToGet)(n)){const t=c.StorageProvider.get(m);if(t&&t.sourceId!==_){const n=h[t.actionType],r=n.storageKey,o=n.onAdapter,i=c.StorageProvider.get(r);e.dispatch({type:t.actionType,payload:(0,d.isFunction)(o)?o(i):i})}}})(e))}},57157:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;switch(n){case a.ActionType.INIT_AGENTS_STORE:if(r&&r.length){const e=r.filter((e=>!e.isBot));return(0,i.default)(e)}return(0,i.default)(e);case a.ActionType.ADD_AGENT:if(r){return e.find((e=>e.id===r.id))?e.map((e=>e.id===r.id?l(l({},e),r):e)):[].concat((0,i.default)(e),[l({},r)])}return(0,i.default)(e);case a.ActionType.UPDATE_AGENT:return r?e.map((e=>e.id===r.id?l(l({},e),r):e)):(0,i.default)(e);case a.ActionType.SET_ALL_AGENTS_LEFT:return e.map((e=>l(l({},e),{},{state:"left"})));default:return e}};var o=r(n(61125)),i=r(n(15687)),a=n(2036);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=[]},46144:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;switch(n){case i.ActionType.INIT_APP_STORE:return{isFocused:r.isFocused,isOnline:!!r.isOnline,route:r.route,tabRoute:r.tabRoute,lastChatOpened:r.lastChatOpened,isInDrag:r.isInDrag,isContactFormFocused:r.isContactFormFocused,isInputDisabled:r.isInputDisabled,maintenance:r.maintenance,chatOpenByClient:r.chatOpenByClient,chatStarted:r.chatStarted,chatAccepted:r.chatAccepted,lastMsgId:r.lastMsgId,lastMsgTime:r.lastMsgTime,started:r.started,viReconnectTime:r.viReconnectTime,didFreezeData:r.didFreezeData,lastChatStatus:r.lastChatStatus,quoteMsgId:r.quoteMsgId,hiddenByRules:r.hiddenByRules};case i.ActionType.SET_APP_IS_ONLINE:return s(s({},e),{},{isOnline:r.isOnline});case i.ActionType.SET_APP_IS_FOCUSED:return s(s({},e),{},{isFocused:r.isFocused});case i.ActionType.SET_CHAT_OPEN_BY_CLIENT:return s(s({},e),{},{chatOpenByClient:r.chatOpenByClient});case i.ActionType.SET_APP_ROUTE:return s(s({},e),{},{route:r.route});case i.ActionType.SET_LAST_CHAT_OPENED:return s(s({},e),{},{lastChatOpened:r.lastChatOpened});case i.ActionType.SET_IS_IN_DRAG:return s(s({},e),{},{isInDrag:r.isInDrag});case i.ActionType.SET_IS_CONTACT_FORM_FOCUSED:return s(s({},e),{},{isContactFormFocused:r.isContactFormFocused});case i.ActionType.SET_IS_INPUT_DISABLED:return s(s({},e),{},{isInputDisabled:r.isInputDisabled});case i.ActionType.SET_MAINTENANCE:return s(s({},e),{},{maintenance:r.maintenance});case i.ActionType.SET_LAST_CHAT_STATUS:return s(s({},e),{},{lastChatStatus:r.lastChatStatus});case i.ActionType.SET_QUOTE_MSG_ID:return s(s({},e),{},{quoteMsgId:r.quoteMsgId});case i.ActionType.SET_HIDDEN_BY_RULES:return s(s({},e),{},{hiddenByRules:r.hiddenByRules});case i.ActionType.UPDATE_APP_STORE:return s(s({},e),r);default:return e}};var o=r(n(61125)),i=n(2036);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={isFocused:null,isOnline:null,route:null,tabRoute:null,lastChatOpened:null,isInDrag:null,isContactFormFocused:null,isInputDisabled:null,maintenance:null,chatOpenByClient:null,chatStarted:null,chatAccepted:null,lastMsgId:null,lastMsgTime:null,started:null,viReconnectTime:null,didFreezeData:!1,lastChatStatus:null,quoteMsgId:null,hiddenByRules:!1}},56786:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;switch(n){case a.ActionType.INIT_BOTS_STORE:if(r&&r.length){const e=r.filter((e=>e.isBot));return(0,i.default)(e)}return(0,i.default)(e);case a.ActionType.ADD_BOT:if(r){return e.find((e=>e.id===r.id))?e.map((e=>e.id===r.id?l(l({},e),r):e)):[].concat((0,i.default)(e),[l({},r)])}return(0,i.default)(e);default:return e}};var o=r(n(61125)),i=r(n(15687)),a=n(2036);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=[]},42344:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;if(n===i.ActionType.UPDATE_CALLBACK_STORE)return s(s({},e),r);return e},t.initialState=void 0;var o=r(n(61125)),i=n(2036);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={available:null,delayedPeriods:[],delayedStatus:null,delayedTimezone:null,isDelayed:null,status:null,error:null,activeWebRTCCallMessageId:null,webRTCCallStatus:null,separateForm:null};t.initialState=l},99131:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.chatTemplate=void 0,t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;switch(n){case a.ActionType.INIT_CHATS_STORE:return r;case a.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT:return e.map(u((e=>{var t;return l(l({},e),{},{joinedAgents:null!==(t=r.joinedAgents)&&void 0!==t?t:[]})})));case a.ActionType.SET_JOINED_BOTS:return e.map(u((e=>{var t;return l(l({},e),{},{joinedBots:null!==(t=r.joinedBots)&&void 0!==t?t:[]})})));case a.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT:return r.agentId<0?e:e.map(u((e=>e.joinedAgents.includes(r.agentId)?e:l(l({},e),{},{joinedAgents:[].concat((0,o.default)(e.joinedAgents),[r.agentId])}))));case a.ActionType.SET_AGENT_TYPING:return e.map(u((e=>l(l({},e),{},{agentTyping:r.agentTyping}))));case a.ActionType.SET_CURRENT_CHAT_EVALUATED:return e.map(u((e=>l(l({},e),{},{evaluated:r.evaluated}))));case a.ActionType.CLOSE_CHAT:return e.map(u((e=>l(l({},e),{},{joinedAgents:[]}))));default:return e}};var o=r(n(15687)),i=r(n(61125)),a=n(2036);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.chatTemplate={agentTyping:null,departmentId:null,evaluated:null,id:null,joinedAgents:[],joinedBots:[]};const u=e=>(t,n,r)=>n!==r.length-1?t:e(t),c=[]},94514:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(20438),i=n(51344),a=n(16587),s=n(35073),l=n(62241),u=r(n(57157)),c=r(n(46144)),d=r(n(56786)),f=r(n(42344)),p=r(n(99131)),g=r(n(4510)),h=r(n(20209)),m=r(n(51458)),_=r(n(77620)),v=r(n(78135)),y=r(n(31147)),b=(0,o.combineReducers)({agents:u.default,app:c.default,bots:d.default,callback:f.default,chats:p.default,client:g.default,messages:h.default,position:i.position,proactive:m.default,settings:_.default,social:v.default,transition:y.default,zoom:a.zoom,extensions:s.extensions,system:l.system});t.default=b},20209:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;switch(n){case a.ActionType.INIT_MESSAGES_STORE:return r.messages?(0,i.default)(r.messages):(0,i.default)(e);case a.ActionType.ADD_MESSAGE:return r.message?[].concat((0,i.default)(e),[r.message]):(0,i.default)(e);case a.ActionType.ADD_MESSAGES:return r.messages&&r.messages.length?[].concat((0,i.default)(e),(0,i.default)(r.messages)):(0,i.default)(e);case a.ActionType.UPDATE_MESSAGE_BODY:return r.privateId&&r.body?(0,i.default)(e.map((e=>e.private_id===r.privateId?l(l({},e),{},{body:r.body}):e))):(0,i.default)(e);case a.ActionType.UPDATE_MESSAGE:return e.map((e=>r.messageId&&e.msg_id===r.messageId||r.privateId&&e.private_id===r.privateId?l(l({},e),r.newMessage):e));case a.ActionType.UPDATE_MESSAGES:return e.map((e=>r.messageIds&&r.messageIds.includes(e.msg_id)||r.privateIds&&r.privateIds.includes(e.private_id)?l(l({},e),r.update):e));case a.ActionType.EDIT_MESSAGE:case a.ActionType.DELETE_MESSAGE:return(0,i.default)(e);case a.ActionType.UPDATE_WEBRTCCALL_STATUS:return r.privateId&&r.webRTCCallStatus?(0,i.default)(e.map((e=>e.private_id===r.privateId?l(l({},e),{},{body:l(l({},e.body),{},{webRTCCallStatus:r.webRTCCallStatus})}):e))):(0,i.default)(e);default:return e}};var o=r(n(61125)),i=r(n(15687)),a=n(2036);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=[]},51458:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;switch(n){case i.ActionType.ADD_PROACTIVE:return r?{text:r.text||null,name:r.name||null,createdTs:r.createdTs||null,privateId:r.privateId||null,status:r.status||null,agentId:r.agentId||null,botId:r.botId||null,isMarkdown:r.isMarkdown||null,prechats:r.prechats||null,campaignId:r.campaignId||null}:e;case i.ActionType.SET_PROACTIVE_STATUS:return s(s({},e),{},{status:r.status});case i.ActionType.SET_PROACTIVE_NAME:return s(s({},e),{},{name:r.name});case i.ActionType.SET_PROACTIVE_PRECHATS:return s(s({},e),{},{prechats:r.prechats});case i.ActionType.RESET_PROACTIVE:return l;default:return e}},t.initialState=void 0;var o=r(n(61125)),i=n(2036);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={text:null,name:null,createdTs:null,privateId:null,status:null,agentId:null,botId:null,isMarkdown:null,prechats:null,campaignId:null};t.initialState=l},49437:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.designer=void 0;var o=r(n(61125)),i=n(2036);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={isMobileView:!1,mobileRenderTarget:""};t.designer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;return n===i.ActionType.UPDATE_DESIGNER_SETTINGS?s(s({},e),r):e}},37480:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.features=void 0;var o,i=r(n(61125)),a=n(2036),s=r(n(96394));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const c=s.default.eula,d=s.default.modules,f={apiInvitation:!!s.default.enable_api_invitation,disableEmoji:!!s.default.disable_emoji||null,disableErrorReporting:!!s.default.disable_error_reporting||null,disableFiletransfer:!!s.default.disable_filetransfer||null,disableMobile:!!s.default.disable_mobile||null,disableTelemetry:!!s.default.disable_telemetry||null,eula:c&&{customAgreement:c.custom_agreement||null,customTitle:c.custom_title||null,externalLink:c.external_link||null,titleExternalLink:c.title_external_link||null,useGdpr:c.use_gdpr||null}||null,joint:s.default.joint||null,logs:!!s.default.logs||null,mobileProactive:Boolean(s.default.mobile_proactive),disableSounds:0===s.default.enable_sounds||null,newVisitorsInsight:!!s.default.new_visitors_insight||null,prechat:!!s.default.enable_prechat||null,regions:s.default.regions||null,typingInsight:Boolean(s.default.typing_insight),modules:d?{videoCall:d.video_calls||null,telephony:d.telephony||null,bots:d.bots||null}:null,webRTCSeparateWindow:!!s.default.enable_webrtc_separate_window||null,enableRequestVideocall:!!s.default.enable_request_videocall||null,disableBotLabel:!!s.default.disable_bot_label||null,campaigns:s.default.campaigns?s.default.campaigns:null,recaptcha:s.default.enable_antispam&&s.default.recaptcha,userToken:!(!s.default.enable_token_connect||!s.default.user_token)||null,enableSpaNavigate:!!s.default.enable_spa_navigate||null,botMedia:!!s.default.bot_media||null,disableMobileBack:!!s.default.disable_mobile_back||null,mailing:s.default.eula&&null!==(o=s.default.mailing)&&void 0!==o?o:null,disableCustomData:!!s.default.disable_custom_data||null};t.features=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;switch(n){case a.ActionType.SET_DISABLE_FILETRANSFER:return u(u({},e),{},{disableFiletransfer:r.disableFiletransfer});case a.ActionType.SET_ENABLE_PRECHAT:return u(u({},e),{},{prechat:r.prechat});case a.ActionType.SET_JOINT:return u(u({},e),{},{joint:r.joint});default:return e}}},77620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(20438),o=n(61547),i=n(84348),a=n(6727),s=n(62241),l=n(37480),u=n(78634),c=n(6511),d=n(49437),f=(0,r.combineReducers)({features:l.features,system:s.system,user:u.user,permissions:c.permissions,campaignPopup:o.campaignPopup,campaignWidget:i.campaignWidget,contactFormPreview:a.contactFormPreview,designer:d.designer});t.default=f},6511:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.permissions=void 0;var o=r(n(61125)),i=n(2036),a=n(62168);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u={[a.Permission.AUDIO]:a.PermissionStatus.UNKNOWN,[a.Permission.VIDEO]:a.PermissionStatus.UNKNOWN};t.permissions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;return n===i.ActionType.UPDATE_PERMISSION?l(l({},e),{},{[r.permission]:r.value}):l({},e)}},78634:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.user=void 0;var o=r(n(61125)),i=n(2036),a=r(n(96394)),s=n(73422),l=n(18276);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d={bubbleColor:a.default.bubble_color||null,callback:a.default.callback_settings&&{time:a.default.callback_settings.time||0,button:!!a.default.callback_settings.button,countries:a.default.callback_settings.countries||null}||null,callbackButtonColor:a.default.callback_btn_color||null,chatMode:a.default.chat_mode||null,contactsAsk:a.default.contacts_ask,contactsSettings:a.default.contacts_settings||null,contactsSettingsNew:a.default.contacts_settings_new||null,custom_langpack:a.default.custom_langpack||null,departments:a.default.departments||null,fontFamily:a.default.font_family||"Arial",fontSize:a.default.font_size&&"0"!==a.default.font_size?a.default.font_size:"15",fontType:a.default.font_type||"normal",hideAd:a.default.hide_ad||null,hideOffline:a.default.hide_offline||null,labelBubble:a.default.label_bubble||0,locale:a.default.locale||null,offlineFormText:a.default.offline_form_text||null,offlineFormTitle:a.default.offline_form_title||null,offlineWidgetLabel:a.default.offline_widget_label||(0,l.l10n)("defOfflineWidgetLabelMobile"),onlineWidgetLabel:a.default.online_widget_label||(0,l.l10n)("defOnlineWidgetLabel"),pattern:a.default.pattern||null,powerButtonColor:a.default.power_button_color||"#44BB6E",powerButtonPhone:a.default.power_button_phone||null,powerGradient:!!a.default.power_gradient||null,prechat:a.default.prechat||null,rules:a.default.rules||null,showRateForm:a.default.show_rate_form||null,rateSettings:a.default.rate_settings?{type:a.default.rate_settings.type,icon:a.default.rate_settings.icon,conditionName:a.default.rate_settings.condition_name,conditionValue:a.default.rate_settings.condition_value,customTitle:a.default.rate_settings.custom_title,goodRateTitle:a.default.rate_settings.good_rate_title,badRateTitle:a.default.rate_settings.bad_rate_title}:null,socialResponse:a.default.social_response||null,widgetColor:a.default.widget_color||"#2f324a",widgetColor2:a.default.widget_color2||"#424867",widgetFontColor:a.default.widget_font_color||null,widgetMobileOrientation:a.default.widget_mobile_orientation||"right",desktopOffsetBottom:a.default.desktop_offset_bottom||null,mobileOffsetBottom:a.default.mobile_offset_bottom||null,widgetOrientation:a.default.widget_orientation||"bottom",widgetPadding:(0,s.isNil)(a.default.widget_padding)?100:+a.default.widget_padding,wixAgentDisplayName:a.default.wix_agent_display_name||null,wixAgentTitle:a.default.wix_agent_title||null,callHeaderText:null};t.user=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;const n=t.type,r=t.payload;switch(n){case i.ActionType.SET_WIDGET_COLOR:return c(c({},e),{},{widgetColor:r.widgetColor});case i.ActionType.SET_WIDGET_COLOR2:return c(c({},e),{},{widgetColor2:r.widgetColor2});case i.ActionType.SET_WIDGET_FONT_COLOR:return c(c({},e),{},{widgetFontColor:r.widgetFontColor});case i.ActionType.SET_WIDGET_ORIENTATION:return c(c({},e),{},{widgetOrientation:r.widgetOrientation});case i.ActionType.SET_MOBILE_WIDGET_ORIENTATION:return c(c({},e),{},{widgetMobileOrientation:r.widgetMobileOrientation});case i.ActionType.SET_DESKTOP_OFFSET_BOTTOM:return c(c({},e),{},{desktopOffsetBottom:r.desktopOffsetBottom});case i.ActionType.SET_MOBILE_OFFSET_BOTTOM:return c(c({},e),{},{mobileOffsetBottom:r.mobileOffsetBottom});case i.ActionType.SET_POWER_GRADIENT:return c(c({},e),{},{powerGradient:r.powerGradient});case i.ActionType.SET_MOBILE_WIDGET_COLOR:return c(c({},e),{},{powerButtonColor:r.powerButtonColor});case i.ActionType.SET_WIDGET_PADDING:return c(c({},e),{},{widgetPadding:r.widgetPadding});case i.ActionType.SET_ONLINE_WIDGET_LABEL:return c(c({},e),{},{onlineWidgetLabel:r.onlineWidgetLabel});case i.ActionType.SET_OFFLINE_WIDGET_LABEL:return c(c({},e),{},{offlineWidgetLabel:r.offlineWidgetLabel});case i.ActionType.SET_WIDGET_FONT_FAMILY:return c(c({},e),{},{fontFamily:r.fontFamily});case i.ActionType.SET_WIDGET_FONT_SIZE:return c(c({},e),{},{fontSize:r.fontSize});case i.ActionType.SET_WIDGET_FONT_TYPE:return c(c({},e),{},{fontType:r.fontType});case i.ActionType.SET_CALL_HEADER_TEXT:return c(c({},e),{},{callHeaderText:r.callHeaderText});case i.ActionType.SET_PATTERN:return c(c({},e),{},{pattern:r.pattern});case i.ActionType.SET_CALLBACK_BUTTON_COLOR:return c(c({},e),{},{callbackButtonColor:r.callbackButtonColor});case i.ActionType.SET_BUBBLE_COLOR:return c(c({},e),{},{bubbleColor:r.bubbleColor});case i.ActionType.SET_WIDGET_LABEL_BUBBLE:return c(c({},e),{},{labelBubble:r.labelBubble});case i.ActionType.SET_OFFLINE_FORM_TITLE:return c(c({},e),{},{offlineFormTitle:r.offlineFormTitle});case i.ActionType.SET_OFFLINE_FORM_TEXT:return c(c({},e),{},{offlineFormText:r.offlineFormText});case i.ActionType.SET_PRECHAT:return c(c({},e),{},{prechat:r.prechat});default:return e}}},78135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;if(n===r.ActionType.INIT_SOCIAL_STORE)return i?{vk:i.vk||null,fb:i.fb||null,mode:i.mode||null}:e;return e};var r=n(2036);const o={vk:null,fb:null,mode:null}},31147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;const n=t.type,i=t.payload;switch(n){case r.ActionType.INIT_TRANSITION_STORE:return{currentScript:i&&i.currentScript||null};case r.ActionType.START_TRANSITION_SCRIPT:return{currentScript:i&&i.script||e.currentScript};default:return e}},t.initialState=void 0;var r=n(2036);const o={currentScript:null};t.initialState=o},35233:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectRoute=t.selectQuoteMsgId=t.selectLastChatOpened=t.selectIsOnline=t.selectIsFocused=t.selectChatStarted=t.selectApp=void 0;const n=e=>e.app;t.selectApp=n;t.selectIsOnline=e=>n(e).isOnline;t.selectIsFocused=e=>n(e).isFocused;t.selectRoute=e=>n(e).route;t.selectChatStarted=e=>n(e).chatStarted;t.selectLastChatOpened=e=>n(e).lastChatOpened;t.selectQuoteMsgId=e=>n(e).quoteMsgId},55623:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.selectIsChatNotStarted=t.selectIsChatEvaluated=t.selectChatsIds=t.selectChats=void 0;var o=r(n(15687)),i=n(90189),a=n(66311);t.selectChats=e=>e.chats;t.selectIsChatEvaluated=e=>{var t;const n=(0,i.selectCurrentChat)(e);return null!==(t=null==n?void 0:n.evaluated)&&void 0!==t&&t};t.selectIsChatNotStarted=e=>{const t=(0,i.selectCurrentChat)(e);return!(null!=t&&t.joinedAgents.length||null!=t&&t.joinedBots.length)};t.selectChatsIds=e=>{const t=(0,a.selectMessages)(e);return(0,o.default)(t.reduce(((e,t)=>(null!=t&&t.chat_id&&(e.has(t.chat_id)||e.add(t.chat_id)),e)),new Set))}},45959:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectLastMessage=t.selectIsIntroduced=t.selectInputText=t.selectEulaAccepted=t.selectDescription=t.selectDepartmentId=t.selectClientName=t.selectClientId=t.selectClientEvaluate=t.selectClientEmail=t.selectClient=void 0;const n=e=>e.client;t.selectClient=n;t.selectClientId=e=>n(e).clientId;t.selectEulaAccepted=e=>n(e).eulaAccepted;t.selectClientEvaluate=e=>n(e).evaluate;t.selectDepartmentId=e=>n(e).departmentId;t.selectClientName=e=>n(e).name||"";t.selectClientEmail=e=>n(e).email||"";t.selectInputText=e=>n(e).inputText||"";t.selectDescription=e=>n(e).description;t.selectLastMessage=e=>n(e).lastMessage||"";t.selectIsIntroduced=e=>n(e).isIntroduced},95448:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFeatures=t.selectCampaigns=void 0;const n=e=>e.settings.features;t.selectFeatures=n;t.selectCampaigns=e=>n(e).campaigns},66311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectSendedMessages=t.selectMessages=t.selectLastMessage=t.selectLastClientMessage=t.selectClientMessages=void 0;var r=n(81152);const o=e=>e.messages;t.selectMessages=o;t.selectSendedMessages=e=>o(e).filter((e=>e.status===r.MessageStatus.SENT));const i=e=>o(e).filter((e=>e.from===r.MessageInitiator.CLIENT));t.selectClientMessages=i;t.selectLastClientMessage=e=>{const t=i(e);if(t.length>0)return t[t.length-1]};t.selectLastMessage=e=>{const t=o(e);if(t.length>0)return t[t.length-1]}},7193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectProactive=void 0;t.selectProactive=e=>e.proactive},87692:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectWixAgentTitle=t.selectWixAgentDisplayName=t.selectWidgetPadding=t.selectWidgetOrientation=t.selectWidgetMobileOrientation=t.selectWidgetId=t.selectWidgetFontColor=t.selectWidgetColor2=t.selectWidgetColor=t.selectUserCallbackTime=t.selectSettings=t.selectPrechat=t.selectPowerGradient=t.selectPowerButtonPhone=t.selectPowerButtonColor=t.selectPattern=t.selectOfflineWidgetLabel=t.selectOfflineFormTitle=t.selectMobileProactive=t.selectMobileOffsetBottom=t.selectLocale=t.selectLabelBubble=t.selectJoint=t.selectIsPremium=t.selectGeoIp=t.selectEulaEnabled=t.selectEula=t.selectEnablePrechat=t.selectDisableEmoji=t.selectDisableBotLabel=t.selectDesigner=t.selectDepartments=t.selectContactsSettings=t.selectContactsAsk=t.selectCallHeaderText=t.selectBubbleColor=t.selectBillRu=t.selectBaseUrl=t.selectAvatarUrl=void 0;const n=e=>e.settings;t.selectSettings=n;const r=e=>n(e).features,o=e=>n(e).system,i=e=>n(e).user;t.selectEnablePrechat=e=>r(e).prechat;t.selectDisableEmoji=e=>r(e).disableEmoji;t.selectDisableBotLabel=e=>r(e).disableBotLabel;t.selectEula=e=>r(e).eula;t.selectJoint=e=>r(e).joint;t.selectMobileProactive=e=>r(e).mobileProactive;t.selectDesigner=e=>n(e).designer;t.selectAvatarUrl=e=>o(e).avatarUrl;t.selectIsPremium=e=>o(e).premium;t.selectBillRu=e=>o(e).billRu;t.selectBaseUrl=e=>o(e).baseUrl;t.selectWidgetId=e=>o(e).widgetId;t.selectGeoIp=e=>o(e).geoIp;t.selectEulaEnabled=e=>o(e).eula;t.selectBubbleColor=e=>i(e).bubbleColor||"green";t.selectPrechat=e=>i(e).prechat;t.selectLocale=e=>i(e).locale;t.selectDepartments=e=>i(e).departments||[];t.selectContactsSettings=e=>i(e).contactsSettings;t.selectWidgetOrientation=e=>i(e).widgetOrientation;t.selectWidgetMobileOrientation=e=>i(e).widgetMobileOrientation;t.selectMobileOffsetBottom=e=>i(e).mobileOffsetBottom;t.selectCallHeaderText=e=>i(e).callHeaderText;t.selectWidgetPadding=e=>i(e).widgetPadding;t.selectWidgetFontColor=e=>i(e).widgetFontColor||null;t.selectWidgetColor=e=>i(e).widgetColor||null;t.selectWidgetColor2=e=>i(e).widgetColor2||null;t.selectUserCallbackTime=e=>i(e).callback.time;t.selectPowerButtonPhone=e=>i(e).powerButtonPhone;t.selectPattern=e=>i(e).pattern;t.selectPowerButtonColor=e=>i(e).powerButtonColor;t.selectPowerGradient=e=>i(e).powerGradient;t.selectWixAgentDisplayName=e=>i(e).wixAgentDisplayName;t.selectWixAgentTitle=e=>i(e).wixAgentTitle;t.selectOfflineWidgetLabel=e=>i(e).offlineWidgetLabel;t.selectOfflineFormTitle=e=>i(e).offlineFormTitle;t.selectContactsAsk=e=>i(e).contactsAsk;t.selectLabelBubble=e=>i(e).labelBubble},92400:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectTransitionCurrentScript=void 0;t.selectTransitionCurrentScript=e=>e.transition.currentScript},62096:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reduxStore=void 0;var o=n(20438),i=n(9393),a=n(75291),s=n(44733),l=n(28240),u=n(68031),c=r(n(94514)),d=n(11517);const f=(0,o.configureStore)({reducer:c.default,preloadedState:function(){var e;const t={};return(0,i.each)(u.statesToPersist,(function(e){let n=e.storageKey,r=e.path,o=e.onAdapter;const i=s.StorageProvider.get(n);i&&(0,a.set)(t,r,o?o(i):i)})),null!==(e=t.client)&&void 0!==e&&e.attributes&&(t.client.attributes=d.migrations.attributes(t.client.attributes)),t}(),middleware:e=>e({immutableCheck:!1}).concat(l.loggerMiddleware,u.persistMiddleware)});t.reduxStore=f,(0,u.subscribeOnStorage)(f)},5735:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(61125)),i=n(9393),a=n(31484),s=r(n(26754)),l=r(n(138)),u=r(n(14264)),c=r(n(71277)),d=r(n(2833)),f=n(81152),p=n(21476),g=n(97490),h=n(65465),m=n(4425),_=r(n(66547)),v=r(n(73687)),y=n(90061),b=r(n(92443)),C=r(n(96394)),E=n(73262),D=n(21951),T=n(68403),w=n(13077),S=n(43902),O=n(6222),A=n(31011),I=n(73422),k=n(42634),M=n(26932),x=n(44145),P=n(69882),R=n(83907),F=n(9550),L=n(94767),j=n(74619),N=n(50350),B=n(85948),U=n(45948),W=n(97615);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const G=(0,y.createLogger)("ruleManager"),$=new(0,n(89766).EventEmitter),V=Object.assign($,{rules:[],canInvite:!0,initCampaignIds:[],init:function(){var e;const t=(0,x.getApp)(),n=t.maintenance,r=t.route,o=t.chatStarted,i=t.isOnline;if(n)return void G.log("Ignore rules, maintenance");if(r===g.Route.HIDDEN&&!(0,x.getFeatures)().enableSpaNavigate)return void G.log("Ignore rules, widget is hidden");(0,T.isPaidCustomer)()&&(0,a.defaults)(this.rules,C.default.rules);const l=(new Date).getTime();this.hasWidgetCampaign=!1,this.campaigns=null===(e=(0,x.getFeatures)().campaigns)||void 0===e?void 0:e.filter((e=>{var t,n,r,o;const i=S.StatsManager.get(e.campaign_id);return"widget"!==e.type||(e.rules.commands[0].command===R.RuleTypes.PROACTIVE&&(this.hasWidgetCampaign=!0),"widget_settings"in e.content)?(null==i||!i.isSubmitted||"call_to_action"===(null===(t=e.content)||void 0===t||null===(n=t.popup_settings)||void 0===n||null===(r=n.screens)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.action))&&(!e.end_ts||l<1e3*e.end_ts):(G.warn(`CampaignWidget '${e.title}' (#${e.campaign_id}) is no longer running. You need to recreate it.`),!1)})),this.isCampaignsEnable=this.campaigns&&this.campaigns.length>0,(0,w.setRuleLocal)("pageEnterTime",l),(0,w.addPageView)(),s.default.agent_id&&o&&i||this.ready()},ready:function(){const e=this.rules.slice();G.log("RULE MANAGER READY: initialRules",e),this.rules=[],e.forEach(((e,t)=>{e.conditions?this.isCampaignsEnable&&this.hasWidgetCampaign&&e.commands[0].command===R.RuleTypes.PROACTIVE?G.warn("Remove proactive rule, because it handled by campaigns."):this.rules.push(new Y(e,t)):G.warn("Remove rule without conditions.")}));const t=this.rules.length;this.isCampaignsEnable&&this.campaigns.forEach(((e,n)=>{var r,o,i,a;const s=e.campaign_id,l=e.title,u=e.content,c=e.rules;c.conditions?this.rules.push(new Y(z(z({},c),{},{campaign_id:s,name:l||`Campaign ${s}`,widget_settings:null!==(r=null==u?void 0:u.widget_settings)&&void 0!==r?r:null,popup_settings:null!==(o=null==u?void 0:u.popup_settings)&&void 0!==o?o:null,prechats:null!==(i=null==u||null===(a=u.widget_settings)||void 0===a?void 0:a.prechat_buttons)&&void 0!==i?i:null==u?void 0:u.prechat_buttons}),t+n)):G.warn("Remove campaign without conditions.")})),G.warn("final rules",this.rules)},moveCloseButton:function(){(0,i.each)(this.rules,(function(e){(0,w.setRuleLocal)("movedToCloseButton",!0),e.tick()}),this)},mouseScroll:function(e){(0,i.each)(this.rules,(function(t){(0,w.setRuleLocal)("scrollPosition",e),t.tick()}),this)},cancelRule:function(e){G.log("canceling rule",e);for(var t=0;t<this.rules.length;t+=1)!this.rules[t].isTriggered&&this.rules[t].cancel&&this.rules[t].commands[0].command===e&&this.rules[t].cancel();e===R.RuleTypes.PROACTIVE&&(this.canInvite=!1)},allRulesCancel:function(){G.log("allRulesCancel");for(var e=0;e<this.rules.length;e++)!this.rules[e].isTriggered&&this.rules[e].cancel&&this.rules[e].cancel()},handleOnceADay:function(e,t){if(G.log("handleOnceADay",e),e&&e.name){const n=t.id?"id"+t.id:"i"+t.index;v.default.set(`${e.name}_${n}`,e.value||null,86400)}},showProactive:function(e,t,n,r,o,i,a){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(this.isCampaignsEnable&&i){const e=(0,x.getProactive)().campaignId;if(e)return void G.warn(`Proactive message disabled. Proactive message already have options from campaign #${e}.`);M.proactiveDispatchers.addProactive({campaignId:i})}(n&&"string"==typeof n&&n.includes("markdown")||r)&&(r=!0);const m=u.default.getCurrentChatMessages(),_="Cant show proactive:";if(!this.canInvite||(0,x.getProactive)().text||u.default.getCurrentProactive()||p.Router.getCurrentRoute()==g.Route.CHAT&&(0,x.getApp)().chatOpenByClient||(0,x.getApp)().chatStarted&&m&&m.length)return void G.info(`${_} by logic`);const v=(0,x.getUserSettings)().departments;if((0,I.isNumber)(t)&&0!==t&&(null==v||!v.find((e=>+e.id===t))))return void G.info(`${_} department id ${t} is not found.`);const y=u=>{G.log("widget status",u);const d=(0,x.getClient)();(0,x.getApp)().isOnline||(0,x.getAgents)().length?(0,x.getProactive)().text||!u||p.Router.getCurrentRoute()!==g.Route.LABEL&&!A.platform.isChatPage?G.log('invitation failed, no agent OR route != "label" OR proactive already shown'):(u.bot_id||d.priorityAgentId&&d.priorityAgentId===u.agent_id||M.clientDispatchers.setPaId(u.agent_id),v&&(0,I.isNumber)(t)&&M.clientDispatchers.setDepartmentId(t),o&&M.featuresDispatchers.enablePrechat(!0),b.default.proactive({message:e,agentInfo:u,name:n,isMarkdown:r,prechats:o,campaignId:i,conditionList:(0,w.getCondNames)(a),extra:s}),(0,w.setInvitationTime)(),V.emit("show_proactive"),c.default.play("notification"),h.messageActions.destroyByType(f.MessageType.LISTPICKER),h.messageActions.addPrechatMessage(o,i),i?l.default.trackCampaignShown(n):l.default.trackProactiveInvitationShown(n)):G.info(`${_} for offline`)};d.default.getActiveAgent(y,t)},showCallForm:function(e,t){const n=(0,x.getProactive)();(0,x.getApp)().route!=g.Route.LABEL||n.text&&n.status!=f.MessageStatus.READ?G.warn("ignore showCallForm due to proactive"):b.default.showCallForm(e,(()=>{V.emit("show_proactive"),c.default.play("notification"),(0,w.setInvitationTime)(),l.default.trackCallWidgetInvitationShown(t)}))},showCampaignPopup:function(e,t){var n;const r=e.campaignId,o=(0,x.getApp)().chatAccepted,i=(0,x.getSettings)().campaignPopup,a=i.campaignId,s=i.display,l=null==e||null===(n=e.screens[0])||void 0===n?void 0:n.action,u=(0,O.isFrequencyDelay)(r),c=S.StatsManager.get(r);if(!t){if(o)return void G.warn("Chat accepted by agent. CampaignPopup disabled.");if(u)return void G.warn(`CampaignPopup #${r} is delayed.`);if(s)return void G.warn(`CampaignPopup already have config from campaign #${a}.`);if(null!=c&&c.isSubmitted){if("call_to_action"!==l)return void G.warn(`CampaignPopup #${r} no longer shown. It was accepted by client.`);e.frequency="once_1d"}}b.default.showPopup(e)}});let Z,q;const K=Object.assign($,{inited:!1,initialize:function(){this.inited||(this.initScroll(),this.initClose(),this.inited=!0)},initScroll:function(){Z=(0,E.throttle)(this._scroll.bind(this),150),(0,D.addListener)(window.parent,"scroll",Z)},initClose:function(){this.last_position={},q=(0,E.throttle)(this._mouse.bind(this),100),(0,D.addListener)(window.parent,"mousemove",q)},_mouse:function(e){if(this.timerId&&clearTimeout(this.timerId),void 0!==this.last_position.x){var t=this.last_position.x-e.clientX,n=this.last_position.y-e.clientY,r=Math.abs(n)>Math.abs(t)&&n>0,o=e.clientY>>0==0,i=e.clientY<=30,a=e.clientY<=this.last_position.dY+30&&n>e.clientY&&n>25;r&&(o||i&&a)&&(this.timerId=setTimeout((()=>{V.moveCloseButton()}),200))}this.last_position={x:e.clientX,y:e.clientY,dY:this.last_position.y-e.clientY}},_scroll:function(){const e=window.parent.document;let t=e.documentElement.clientHeight;t===e.documentElement.scrollHeight&&(t=e.body.clientHeight),V.mouseScroll(Math.round((e.documentElement.scrollTop+e.body.scrollTop)/(e.documentElement.scrollHeight-t)*100))},removeEvents:function(){Z&&(0,D.removeEvent)(window.parent,"scroll",Z),q&&(0,D.removeEvent)(window.parent,"scroll",q)}}),Y=function(e,t){const n={initialize:function(){(0,a.defaults)(this,e),this.index=t,this.isCampaign=Boolean(e.campaign_id),this.isTriggered=!1;const n=(0,x.getApp)(),r=n.route,o=n.hiddenByRules;if(r===g.Route.HIDDEN||o)return void G.log("Ignore rule, widget is hidden.");(0,i.each)(this.conditions,(function(e){e.condition===R.RuleConditions.WEEK_DAY&&"0"===e.value&&(e.value="7")})),this.timeConditions=[];const s=this.commands[0];let u=!1;const c=this.id?"id"+this.id:"i"+this.index,d=s.command+"_onceADay_"+c,f=v.default.get(d),p=(0,w.hasOnceCondition)(this.conditions);if(p&&f){if(!1!==p.value)return G.log(`Ignore "${this.name}" rule, already triggered today.`),void this.cancel();v.default.set(d,null,1)}if(!p&&s.params&&(s.params.once_aday||s.params.onceADay)&&f)G.log("is once a day rule",this.name);else{if(this.conditions)for(let e=0;e<this.conditions.length;e++){const t=this.conditions[e];(0,w.isGoalCondition)(t.condition)&&K.initialize(),"once_a_day"===t.condition&&(u=!0);const n=t.condition===R.RuleConditions.PAGE_URL;if(n&&(t.value=t.value.replace(/http(|s):\/\//,"")),(0,w.isTimeCondition)(t.condition)||(0,w.isGoalCondition)(t.condition)||(0,x.getFeatures)().enableSpaNavigate&&n){const e=(0,w.isGoalCondition)(t.condition)?(0,w.getGoalValue)(t):(0,w.getValue)(t.condition);t.condition===R.RuleConditions.GOAL_CLICK&&(0,w.initGoalClick)(t.value),G.info(`${this.name}; init condition ${t.condition}; expected=${t.value}; actual=${e}`),this.timeConditions.push(t)}else{if("ab_test_group"===t.condition&&!_.default.get("ab_test_group")){const e=Math.round(Math.random()),n=t.group_name?t.group_name:"JivoSite A/B Group";_.default.set("ab_test_group",e?"group_a":"group_b"),l.default.setABTestGroupContacts(n,e?"Group A":"Group B")}const n=(0,w.checkCondition)(t,this.name);if(this.conditions[e].isChecked=n,this.conditions[e].isStatic=!0,n)u=!0;else if("all"===this.type)return}}this.campaign_id&&(0,w.isAllStaticChecked)(this.conditions,this.type)&&V.initCampaignIds.push(this.campaign_id),this.timeConditions.length>0?(0,w.checkTimeConditions)(this.timeConditions,this.type,this.name)?this.triggered():this.timeWait():u&&this.triggered()}},timeWait:function(){var e=this;clearTimeout(this.timeWaitTimeout),this.timeWaitTimeout=setTimeout((function(){e.tick()}),1e3)},tick:function(){!this.isTriggered&&(0,w.checkTimeConditions)(this.conditions,this.type,this.name)?this.triggered():this.timeWait()},cancel:function(){clearTimeout(this.timeWaitTimeout),this.isTriggered=!0},triggered:function(){var e,t,n,r,o;G.log("triggered",this.name);const i=this.commands[0];clearTimeout(this.timeWaitTimeout),this.isTriggered=!0;let a={};(0,I.isObject)(i.params)&&(a={name:i.command+"_onceADay",value:i.params.once_aday||i.params.onceADay?1:null});const s=(0,w.hasOnceCondition)(this.conditions);G.log("onceCondition",s,this.conditions),s&&(a={name:i.command+"_onceADay",value:s.value});const d=(0,w.isPopupCommand)(i.command),p=(0,x.getApp)().route,_=(0,x.getApp)().isOnline;if(p!==g.Route.LABEL&&d&&(0,x.getApp)().chatOpenByClient||A.platform.isChatPage&&[g.Route.DEPARTMENTS,g.Route.INTRODUCE].includes(p))return void G.log("cant show proactive",p);const v=(0,x.getClient)();if(d&&(0,w.isYandexMarketClient)(v.utm))return void G.log("ignore proactive for YMarket");const y=this.widget_settings,C=this.campaign_id&&y?(0,L.getFormattedTextForProactiveCampaign)(y):null===(e=i.params)||void 0===e?void 0:e.message,E=(0,x.getUserSettings)(),D=E.contactsAsk,S=E.chatMode,O=this.campaign_id,k=this.popup_settings,P=this.frequency;switch(i.command){case R.RuleTypes.PROACTIVE:V.showProactive(C,null!==(t=i.params)&&void 0!==t&&t.department?+(null===(n=i.params)||void 0===n?void 0:n.department):void 0,this.name,!!this.campaign_id||this.isMarkdown,this.prechats,this.campaign_id,this.conditions,this.campaign_id?{img_src:y.img_src,img_position:y.img_position,background:y.background,text_color:y.text_color}:null);break;case R.RuleTypes.OPEN_OFFLINE:if((0,x.getClient)().isIntroduced)return G.warn("Client introduced earlier, OPEN_OFFLINE canceled."),void V.cancelRule(R.RuleTypes.OPEN_OFFLINE);if(S===m.ChatMode.ONLINE||p!==g.Route.LABEL)return;(0,w.setInvitationTime)(),i.params&&(i.params.title&&M.userDispatchers.setOfflineFormTitle(i.params.title),i.params.message&&(h.messageActions.deleteOfflineSystemInvites(),M.userDispatchers.setOfflineFormText(i.params.message))),b.default.openOffline(),V.emit("show_proactive"),c.default.play("notification"),l.default.trackProactiveInvitationShown(this.name),V.cancelRule(R.RuleTypes.OPEN_OFFLINE);break;case R.RuleTypes.HIDE:M.appDispatchers.setHiddenByRules(!0),(0,x.getFeatures)().enableSpaNavigate||((0,B.addSyncExclude)("route"),M.appDispatchers.setAppRoute(g.Route.HIDDEN)),V.allRulesCancel(),c.default.disableSoundPlayer();break;case R.RuleTypes.SYSTEM_MESSAGE:if(_){var j,N;const e=u.default.getLastMessage();e&&e.get("type")===f.MessageType.SYSTEM&&e.get("text")===(null===(j=i.params)||void 0===j?void 0:j.message)&&e.destroy(),(0,w.setInvitationTime)(),b.default.systemMessage(null===(N=i.params)||void 0===N?void 0:N.message),h.messageActions.addPrechatMessage()}break;case R.RuleTypes.SYSTEM_EMAIL:if(!_)return;if(_&&D===F.ContactsType.SOCIAL)return void G.log("systemMessageEmail failed, contact settings is social");if(v.email)return void G.log("Client already has email. Rule ignored.");if((0,T.hasIntegration)(v.hasIntegration))return void G.log("systemMessageEmail failed, client has integration");(0,w.setInvitationTime)(),b.default.systemMessageEmail(null===(r=i.params)||void 0===r?void 0:r.message),h.messageActions.addPrechatMessage();break;case R.RuleTypes.SHOW_CALLFORM:V.showCallForm((null===(o=i.params)||void 0===o?void 0:o.title).replace("<br>","").replace("<span>","").replace("<span style='color: #40cd72'>","").replace("</span>",""),this.name);break;case R.RuleTypes.SHOW_POPUP:V.showCampaignPopup(z(z({},k),{},{frequency:P,campaignId:O}))}V.handleOnceADay(a,this)}};return n.initialize(),n};(0,x.getFeatures)().enableSpaNavigate&&new j.Observer({onUrlChange:()=>{const e=(0,P.getCurrentPage)(),t=e.title,n=e.url;(0,N.sendUrlChange)(t,n),(0,w.setRuleLocal)("firstMessageTime",null),U.isPopupConstructor||W.EnvironmentManager.isWidgetConstructor()||M.appDispatchers.setHiddenByRules(!1),(0,k.deleteProactiveMessage)(),V.allRulesCancel(),V.initCampaignIds=[],V.campaigns=[],V.rules=[],V.init()}}),s.default.addListener((function(){s.default.agent_id&&(0,x.getApp)().chatStarted&&(0,x.getApp)().isOnline&&V.allRulesCancel()})),u.default.on("create",(()=>{u.default.getCurrentClientMessages().length&&!(0,w.getRuleLocal)("firstMessageTime")&&(G.log("cancelRules, we have client messsages."),V.cancelRule(R.RuleTypes.PROACTIVE),V.cancelRule(R.RuleTypes.SHOW_CALLFORM));const e=u.default.getLastMessage();e&&e.get("type")===R.RuleTypes.PROACTIVE&&V.cancelRule(R.RuleTypes.PROACTIVE),u.default.getAgentTextMessages().length&&e.get("from")!==f.MessageInitiator.CLIENT&&(G.log("cancel system_message, we have agentMessage"),V.cancelRule(R.RuleTypes.SYSTEM_MESSAGE))})),(0,D.addListener)(window.parent,"jBeforeunload",K.removeEvents);var J=V;t.default=J},26754:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(40694);const i=(0,r(n(85948)).default)({agent_id:0,bot_id:0,display_name:null,title:null,avatar_url:null,typing:0,state:null,isUpdateFromBot:null});i.toReduxFormat=()=>(0,o.agentToReduxFormat)(i);var a=i;t.default=a},95003:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(85948)),i=r(n(96394)),a=n(69882),s=n(31484),l=n(97490),u=n(4425),c=r(n(73687)),d=n(44733),f=n(71047),p=n(9550),g=n(44145),h=n(97615),m=n(45948),_=n(31011);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const y={route:l.Route.LABEL,is_online:0,is_focused:!1,chat_started:!1,chat_accepted:!1,widget_color:i.default.widget_color,widget_color2:i.default.widget_color2,widget_font_color:i.default.widget_font_color,cap_id:null,forcedOffline:!1,callText:null,maintenance:null,eula_accepted:!1,width:!1,height:!1,viReconnectTime:null,lastMsgId:null,lastChatOpened:null,started:!1,lastMsgTime:null,didFreezeData:!1,lastChatStatus:null,quoteMsgId:null,hiddenByRules:!1},b=h.EnvironmentManager.isDesignerEditor()?null:d.StorageProvider.createKeyForStore(f.STORAGED_ID.APP),C=(0,o.default)(y,b),E=(0,g.getClient)();C.widget_color=i.default.widget_color,C.widget_color2=i.default.widget_color2,C.widget_font_color=i.default.widget_font_color,C.is_online=i.default.chat_mode===u.ChatMode.ONLINE?1:0,C.is_online||null!==E.sessionId||(C.chat_started=!1),(0,a.isWixEditor)()&&(C.chat_started=!1),_.platform.isMobileOrTablet&&(C.route=l.Route.LABEL),(0,s.defaults)(i.default,{contacts_settings:{name:{show:!1,required:!1},phone:{show:!1,required:!1},email:{show:!1,required:!1}}}),1!==i.default.hide_offline||512&i.default.options||(i.default.hide_offline=0),1!=i.default.show_rate_form||64&i.default.options||(i.default.show_rate_form=0),(0,o.addSyncExclude)("hiddenByRules"),C.hiddenByRules&&(0,o.addSyncExclude)("route"),C.route==l.Route.HIDDEN&&(C.route=l.Route.LABEL),C.chat_started&&C.chat_accepted&&!_.platform.isMobileOrTablet?(i.default.label_bubble?C.route=C.route===l.Route.LABEL?l.Route.LABEL:l.Route.CHAT:C.route=C.route===l.Route.CHAT_MIN?l.Route.CHAT_MIN:l.Route.CHAT,i.default.hide_offline=0):C.route=l.Route.LABEL,C.route==l.Route.INTRODUCE&&i.default.contacts_ask!==p.ContactsType.BEFORE_CHAT&&(C.route=l.Route.CHAT),C.route==l.Route.INTRODUCE&&E.isIntroduced&&(C.route=l.Route.CHAT),C.route!=l.Route.INTRODUCE||C.is_online||(C.route=l.Route.CHAT),C.route==l.Route.CHAT_SOCIAL&&(C.route=l.Route.CHAT),C.route!=l.Route.CHAT_EVAL&&C.route!=l.Route.CHAT_INTRODUCE||(C.route=l.Route.CHAT),!_.platform.isMobile&&C.zoom&&(C.zoom=null),h.EnvironmentManager.isRegPage()&&(C.route=l.Route.CHAT);const D=i.default.contacts_ask===p.ContactsType.BEFORE_CHAT&&!E.isIntroduced&&C.is_online;_.platform.isChatPage?D?C.route=l.Route.INTRODUCE:i.default.departments&&!C.chat_started&&C.is_online?C.route=l.Route.DEPARTMENTS:C.route=l.Route.CHAT:D&&C.route==l.Route.CHAT&&(C.route=l.Route.INTRODUCE),(!C.is_online&&i.default.hide_offline&&!C.chat_started||c.default.get("is_blacklisted")||_.platform.isMobileOrTablet&&i.default.disable_mobile||(0,a.isAppCobrowse)())&&(C.route=l.Route.HIDDEN),m.isPopupConstructor&&(C.route=l.Route.HIDDEN),C.hiddenByRules=!1,i.default.cookie_domain&&d.StorageProvider.migrate();var T=C;t.default=T},10895:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){const n=[].concat(t);for(;n.length>0;)e=n.pop()(e);return e}}},53401:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.splitCookieOnEntries=t.setCookie=t.parseCookies=t.getCookie=t.deleteCookie=void 0;var o=r(n(67375)),i=n(80210),a=n(73422),s=n(10895);const l=e=>e.toUTCString(),u=e=>e.map((e=>e.trim())),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:432e5;const t=(new Date).getTime()+e;return l(new Date(t))},d=e=>{const t=new Date;return t.setDate(t.getDate()+e),l(t)};t.getCookie=e=>{const t=(0,a.isRegExp)(e)?e:new RegExp(e+"=([^;]*)"),n=document.cookie.match(t),r=(0,s.compose)(JSON.parse,decodeURIComponent);return n?r(n[1]):null};const f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Object.assign({path:"/",expires:c()},n);(0,a.isDate)(r.expires)&&(r.expires=l(r.expires)),(0,a.isNumber)(r.expires)&&(r.expires=d(r.expires));const s=Object.entries(r),u=(0,a.isString)(t)?t:JSON.stringify(t),f=(0,i.encodeAndJoinPair)([e,u]),p=s.reduceRight(((e,t)=>{let n=(0,o.default)(t,2);return e+`; ${n[0]}=${n[1]}`}),f);return document.cookie=p};t.setCookie=f;t.deleteCookie=e=>f(e,"",{"max-age":-1});t.parseCookies=()=>document.cookie.split(";").reduce(((e,t)=>{var n;const r=(0,i.splitAndDecodePair)(t),o=r[0].trim(),a=null!==(n=r[1])&&void 0!==n?n:"";return e[o]=a.trim(),e}),{});t.splitCookieOnEntries=()=>{const e=document.cookie.split(";"),t=(0,s.compose)(u,i.splitAndDecodePair);return e.map(t)}},31484:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0],i=t.slice(1),a=Object.assign({},r);return Object.assign.apply(Object,[r].concat((0,o.default)(i),[a]))};var o=r(n(15687))},9393:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.each=function(e,t,n){const r=n?function(e,r,o){return t.call(n,e,r,o)}:t;Array.isArray(e)&&e.forEach(r);(0,s.isObject)(e)&&Object.entries(e).forEach(((e,t,n)=>{let i=(0,o.default)(e,2),a=i[0],s=i[1];return r(s,a,n)}));((0,i.isNodeList)(e)||(0,a.isHTMLCollection)(e))&&Array.from(e).forEach(r);return e};var o=r(n(67375)),i=n(82384),a=n(2423),s=n(46322)},60277:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extend=void 0;t.extend=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?Object.assign.apply(Object,[e].concat(n)):{}}},21434:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.fileName=void 0;var o=r(n(67375)),i=n(39731);t.fileName=e=>{const t=(0,i.splitString)(e,"."),n=(0,o.default)(t,2);return{name:n[0],ext:n[1]}}},58271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileSize=t.bytesToMB=void 0;const n=["B","KB","MB","gB","tB"];t.fileSize=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e)return"0";const r=Math.floor(Math.log(e)/Math.log(1024)),o=e/1024**r,i=t?Math.round(o):o.toFixed(2),a=n[r];return i+a};t.bytesToMB=e=>e/1048576},37578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterObj=void 0;var r=n(28650);t.filterObj=(e,t)=>Object.keys(e).reduce(((n,o)=>((0,r.hasOwn)(e,o)&&t(e[o],o)&&(n[o]=e[o]),n)),{})},39715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return(0,r.isString)(t)?o(t.match(/([^[.\]])+/g)):(0,r.isArray)(t)?o(t):void 0;function o(t){return t.reduce(((e,t)=>{try{e=e[t]}catch(e){return n}return e}),e)}};var r=n(73422)},28650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},35967:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.intersection=void 0;var o=r(n(55067));t.intersection=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return[];const i=(0,o.default)(Set,n);return e.filter((e=>i.has(e)))}},2423:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLCollection=void 0;t.isHTMLCollection=e=>!!e&&"HTMLCollection"===e.constructor.name},82384:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeList=void 0;t.isNodeList=e=>!!e&&"NodeList"===e.constructor.name},46322:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=void 0;t.isObject=e=>!!e&&"Object"===e.constructor.name},82956:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.xhrPromised=t.xhr=t.createCancelablePromise=t.CancelError=void 0;var o=r(n(92664)),i=r(n(33119)),a=r(n(7819)),s=r(n(84827)),l=r(n(85299)),u=r(n(55536)),c=r(n(51398)),d=r(n(61125)),f=r(n(67375));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}const g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().split(/[\r\n]+/).reduce(((e,t)=>{const n=t.split(": "),r=(0,f.default)(n,2),o=r[0],i=r[1];return e[o]=i,e}),{})},h=(e,t,n,r)=>{const o=new XMLHttpRequest;return o.open(t,e,!0),n.headers&&Object.keys(n.headers).forEach((e=>{o.setRequestHeader(e,n.headers[e])})),o.timeout=n.timeout,o.responseType=n.responseType,o.withCredentials=n.withCredentials,o.onload=()=>n.validateStatus(o.status)?r(null,{data:o.response,status:o.status,statusText:o.statusText,headers:g(o.getAllResponseHeaders())}):r({data:o.response,status:o.status,statusText:o.statusText}),o.onerror=e=>r({data:o.response,status:o.status,statusText:o.statusText}),o.upload.onprogress=n.onUpload,o.onprogress=n.onDownload,o.ontimeout=n.onTimeout||r,o.send(n.body),o};t.xhr=h;t.xhrPromised=(e,t,n)=>new Promise(((r,o)=>h(e,t,n,((e,t)=>e?o(e):r(t)))));let m=function(e){(0,s.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,d.default)((0,a.default)(e),"name","CancelError"),(0,d.default)((0,a.default)(e),"message","Canceled"),e}return(0,o.default)(n)}((0,c.default)(Error));t.CancelError=m;t.createCancelablePromise=e=>{let t=!1;const n=new m;return{promise:new Promise(((r,o)=>{e.then((e=>t?o(n):r(e))).catch((e=>o(t?n:e)))})),cancel:()=>t=!0,isCanceled:t}}},42687:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.omit=void 0;var o=r(n(61125));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.omit=function(e){e=a({},e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return null!=n&&n.length?(n.forEach((t=>delete e[t])),e):e}},38392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=void 0;var r=n(73422);t.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return(0,r.isUndefined)(n)?{}:n.reduce(((t,n)=>(n in e&&(t[n]=e[n]),t)),{})}},80210:function(e,t,n){"use strict";var r=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAndJoinPair=s,t.querystring=void 0,t.splitAndDecodePair=l;var o=r(n(67375)),i=n(42882),a=n(39731);function s(e){return e.map(encodeURIComponent).join("=")}function l(e){return e.split("=").map(decodeURIComponent)}const u={create:e=>e?function(e){return Object.entries(e).map(s).join("&")}(e):"",parse:e=>{if(e){const t=(0,a.splitString)(e,"?");return function(e){const t=e.split("&");return(0,i.fromEntries)(t.map(l))}((0,o.default)(t,2)[1])}}};t.querystring=u},53489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){if(!1===(0,r.isString)(e))throw new TypeError("Filename must be string.");const t=(0,o.fileName)(e),n=t.name,s=t.ext,l=n.replace(i,"").replace(a,"_");return(l.length?l:"Untitled")+"."+s};var r=n(73422),o=n(21434);const i=/[/?<>\\:*|"%#]/g,a=/\s+/g},75291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e,t,n){if((0,r.isString)(t))return o(t.match(/([^[.\]])+/g));if((0,r.isArray)(t))return o(t);function o(t){t.reduce(((e,t,o,i)=>((0,r.isUndefined)(e[t])&&(e[t]={}),o===i.length-1&&(e[t]=n),e[t])),e)}};var r=n(73422)},39731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitString=void 0;t.splitString=(e,t,n)=>{const r=e[n?"indexOf":"lastIndexOf"](t),o=e.substring(0,r);return[o,e.substring(r+(o?t.length:1))]}},38632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parentSS=t.parentLS=void 0;var r=n(45926),o=n(71047),i=n(73422),a=n(4623);const s=u(o.STORAGE_TYPE.LOCAL);t.parentLS=s;const l=u(o.STORAGE_TYPE.SESSION);function u(e,t){(0,a.tryCatch)((()=>e=(0,r.getPageWindow)()[e]));const n=e=>(0,a.tryCatch)(e,t);return{get(t){return n((()=>{const n=e.getItem(t);return JSON.parse(n)}))},set(t,r){return n((()=>{const n=(0,i.isString)(r)?r:JSON.stringify(r);return e.setItem(t,n),r}))},remove(t){return n((()=>e.removeItem(t)))},keys(){return n((()=>Object.keys(e)))},values(){return n((()=>Object.values(e).map(JSON.parse)))},all(){return n((()=>Object.assign({},e)))},clear(){return n((()=>e.clear()))},status(){return function(e){return(0,a.tryCatch)((()=>{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),o.STORAGE_STATUS.AVAILABLE}),(t=>t instanceof DOMException&&function(e){return e&&0!==e.length}(e)&&function(e){return 22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUATA_REACHED"===e.name}(t)?o.STORAGE_STATUS.EXCEED:o.STORAGE_STATUS.UNAVAILABLE))}(e)}}}t.parentSS=l},4623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=function(e,t){try{return e()}catch(e){return(0,r.isFunction)(t)?t(e):t}};var r=n(73422)},76784:function(e,t,n){"use strict";t.G=void 0;var r=n(58345);t.G=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return(0,r.unique)(e.concat.apply(e,n))}},15201:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.without=void 0;t.without=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0===n.length)return e;const o=new Set(n);return e.filter((e=>!o.has(e)))}},94184:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},95299:function(e,t,n){var r=n(27698);e.exports=r},83450:function(e,t,n){var r=n(83363);e.exports=r},66820:function(e,t,n){var r=n(56243);e.exports=r},90093:function(e,t,n){var r=n(28196);e.exports=r},15684:function(e,t,n){var r=n(19373);e.exports=r},84234:function(e,t,n){var r=n(82073);e.exports=r},92182:function(e,t,n){var r=n(15868);e.exports=r},65362:function(e,t,n){var r=n(63383);e.exports=r},32271:function(e,t,n){var r=n(14471);e.exports=r},43536:function(e,t,n){var r=n(41910);e.exports=r},37331:function(e,t,n){var r=n(79427);e.exports=r},99565:function(e,t,n){var r=n(96507);e.exports=r},78690:function(e,t,n){var r=n(16670);e.exports=r},84670:function(e,t,n){var r=n(61895);e.exports=r},41285:function(e,t,n){var r=n(18254);e.exports=r},80281:function(e,t,n){var r=n(92547);e.exports=r},40031:function(e,t,n){var r=n(46509);e.exports=r},54493:function(e,t,n){n(77971),n(53242);var r=n(54058);e.exports=r.Array.from},24034:function(e,t,n){n(92737);var r=n(54058);e.exports=r.Array.isArray},8700:function(e,t,n){n(99076);var r=n(35703);e.exports=r("Array").indexOf},24900:function(e,t,n){n(60186);var r=n(35703);e.exports=r("Array").slice},27700:function(e,t,n){n(73381);var r=n(35703);e.exports=r("Function").bind},13830:function(e,t,n){n(66274),n(77971);var r=n(22902);e.exports=r},16246:function(e,t,n){var r=n(7046),o=n(27700),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||r(i,e)&&t===i.bind?o:t}},34570:function(e,t,n){var r=n(7046),o=n(8700),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||r(i,e)&&t===i.indexOf?o:t}},69601:function(e,t,n){var r=n(7046),o=n(24900),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||r(i,e)&&t===i.slice?o:t}},91018:function(e,t,n){n(66274),n(37501),n(55967),n(77971);var r=n(54058);e.exports=r.Map},45999:function(e,t,n){n(49221);var r=n(54058);e.exports=r.Object.assign},35254:function(e,t,n){n(53882);var r=n(54058).Object;e.exports=function(e,t){return r.create(e,t)}},48171:function(e,t,n){n(86450);var r=n(54058).Object,o=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(o.sham=!0)},286:function(e,t,n){n(46924);var r=n(54058).Object,o=e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(o.sham=!0)},13966:function(e,t,n){n(17405);var r=n(54058);e.exports=r.Object.getPrototypeOf},3065:function(e,t,n){n(90108);var r=n(54058);e.exports=r.Object.setPrototypeOf},14983:function(e,t,n){n(7453);var r=n(54058);e.exports=r.Reflect.construct},37095:function(e,t,n){n(42355);var r=n(54058);e.exports=r.Reflect.get},57473:function(e,t,n){n(85906),n(55967),n(35824),n(8555),n(52615),n(21732),n(35903),n(1825),n(28394),n(45915),n(61766),n(62737),n(89911),n(74315),n(63131),n(64714),n(70659),n(69120),n(79413),n(1502);var r=n(54058);e.exports=r.Symbol},24227:function(e,t,n){n(66274),n(55967),n(77971),n(1825);var r=n(11477);e.exports=r.f("iterator")},27385:function(e,t,n){e.exports=n(64225)},81522:function(e,t,n){e.exports=n(30382)},32209:function(e,t,n){e.exports=n(40478)},14122:function(e,t,n){e.exports=n(89097)},69447:function(e,t,n){e.exports=n(628)},81493:function(e,t,n){e.exports=n(97088)},86672:function(e,t,n){e.exports=n(44574)},60269:function(e,t,n){e.exports=n(76936)},76094:function(e,t,n){e.exports=n(26467)},73685:function(e,t,n){e.exports=n(80621)},27533:function(e,t,n){e.exports=n(48403)},74303:function(e,t,n){e.exports=n(28688)},55122:function(e,t,n){e.exports=n(5383)},10856:function(e,t,n){e.exports=n(46733)},31524:function(e,t,n){e.exports=n(82432)},86600:function(e,t,n){e.exports=n(52201)},9759:function(e,t,n){e.exports=n(27398)},64225:function(e,t,n){var r=n(95299);e.exports=r},30382:function(e,t,n){var r=n(83450);e.exports=r},40478:function(e,t,n){var r=n(66820);e.exports=r},89097:function(e,t,n){var r=n(90093);e.exports=r},628:function(e,t,n){var r=n(15684);e.exports=r},97088:function(e,t,n){var r=n(84234);e.exports=r},44574:function(e,t,n){var r=n(92182);n(52453),n(32523),n(66591),n(55121),n(14751),n(52407),n(48580),n(27281),n(36507),n(93647),n(47641),n(18552),n(27693),n(8),n(48514),n(8212),n(89642),n(78485),n(42256),n(68826),e.exports=r},76936:function(e,t,n){var r=n(65362);e.exports=r},26467:function(e,t,n){var r=n(32271);e.exports=r},80621:function(e,t,n){var r=n(43536);e.exports=r},48403:function(e,t,n){var r=n(37331);e.exports=r},28688:function(e,t,n){var r=n(99565);e.exports=r},5383:function(e,t,n){var r=n(78690);e.exports=r},46733:function(e,t,n){var r=n(84670);e.exports=r},82432:function(e,t,n){var r=n(41285);e.exports=r},52201:function(e,t,n){var r=n(80281);n(28783),n(43975),n(65799),n(31943),n(46774),n(45414),n(80620),n(36172),e.exports=r},27398:function(e,t,n){var r=n(40031);e.exports=r},24883:function(e,t,n){var r=n(57475),o=n(69826),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},174:function(e,t,n){var r=n(24284),o=n(69826),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a constructor")}},11851:function(e,t,n){var r=n(57475),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},18479:function(e){e.exports=function(){}},5743:function(e,t,n){var r=n(7046),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},96059:function(e,t,n){var r=n(10941),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},97135:function(e,t,n){var r=n(95981);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},11354:function(e,t,n){"use strict";var r=n(86843),o=n(78834),i=n(89678),a=n(75196),s=n(6782),l=n(24284),u=n(10623),c=n(55449),d=n(53476),f=n(22902),p=Array;e.exports=function(e){var t=i(e),n=l(this),g=arguments.length,h=g>1?arguments[1]:void 0,m=void 0!==h;m&&(h=r(h,g>2?arguments[2]:void 0));var _,v,y,b,C,E,D=f(t),T=0;if(!D||this===p&&s(D))for(_=u(t),v=n?new this(_):p(_);_>T;T++)E=m?h(t[T],T):t[T],c(v,T,E);else for(C=(b=d(t,D)).next,v=n?new this:[];!(y=o(C,b)).done;T++)E=m?a(b,h,[y.value,T],!0):y.value,c(v,T,E);return v.length=T,v}},31692:function(e,t,n){var r=n(74529),o=n(59413),i=n(10623),a=function(e){return function(t,n,a){var s,l=r(t),u=i(l),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3610:function(e,t,n){var r=n(86843),o=n(95329),i=n(37026),a=n(89678),s=n(10623),l=n(64692),u=o([].push),c=function(e){var t=1==e,n=2==e,o=3==e,c=4==e,d=6==e,f=7==e,p=5==e||d;return function(g,h,m,_){for(var v,y,b=a(g),C=i(b),E=r(h,m),D=s(C),T=0,w=_||l,S=t?w(g,D):n||f?w(g,0):void 0;D>T;T++)if((p||T in C)&&(y=E(v=C[T],T,b),e))if(t)S[T]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return T;case 2:u(S,v)}else switch(e){case 4:return!1;case 7:u(S,v)}return d?-1:o||c?c:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},50568:function(e,t,n){var r=n(95981),o=n(99813),i=n(53385),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},34194:function(e,t,n){"use strict";var r=n(95981);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},15790:function(e,t,n){var r=n(59413),o=n(10623),i=n(55449),a=Array,s=Math.max;e.exports=function(e,t,n){for(var l=o(e),u=r(t,l),c=r(void 0===n?l:n,l),d=a(s(c-u,0)),f=0;u<c;u++,f++)i(d,f,e[u]);return d.length=f,d}},33965:function(e,t,n){var r=n(95329);e.exports=r([].slice)},5693:function(e,t,n){var r=n(1052),o=n(24284),i=n(10941),a=n(99813)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===s||r(t.prototype))||i(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},64692:function(e,t,n){var r=n(5693);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},75196:function(e,t,n){var r=n(96059),o=n(7609);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},21385:function(e,t,n){var r=n(99813)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},82532:function(e,t,n){var r=n(95329),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},9697:function(e,t,n){var r=n(22885),o=n(57475),i=n(82532),a=n(99813)("toStringTag"),s=Object,l="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:l?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},28984:function(e,t,n){"use strict";var r=n(78834),o=n(24883),i=n(96059);e.exports=function(){for(var e,t=i(this),n=o(t.delete),a=!0,s=0,l=arguments.length;s<l;s++)e=r(n,t,arguments[s]),a=a&&e;return!!a}},83590:function(e,t,n){"use strict";var r=n(86843),o=n(78834),i=n(24883),a=n(174),s=n(82119),l=n(93091),u=[].push;e.exports=function(e){var t,n,c,d,f=arguments.length,p=f>1?arguments[1]:void 0;return a(this),(t=void 0!==p)&&i(p),s(e)?new this:(n=[],t?(c=0,d=r(p,f>2?arguments[2]:void 0),l(e,(function(e){o(u,n,d(e,c++))}))):l(e,u,{that:n}),new this(n))}},45226:function(e,t,n){"use strict";var r=n(33965);e.exports=function(){return new this(r(arguments))}},85616:function(e,t,n){"use strict";var r=n(65988).f,o=n(29290),i=n(94380),a=n(86843),s=n(5743),l=n(82119),u=n(93091),c=n(75105),d=n(23538),f=n(94431),p=n(55746),g=n(21647).fastKey,h=n(45402),m=h.set,_=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,r){s(e,f),m(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),p||(e.size=0),l(r)||u(r,e[c],{that:e,AS_ENTRIES:n})})),f=d.prototype,h=_(t),v=function(e,t,n){var r,o,i=h(e),a=y(e,t);return a?a.value=n:(i.last=a={index:o=g(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),p?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},y=function(e,t){var n,r=h(e),o=g(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(f,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,n=h(t),r=y(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=h(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),i(f,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),p&&r(f,"size",{get:function(){return h(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",o=_(t),i=_(r);c(e,t,(function(e,t){m(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),f(t)}}},24683:function(e,t,n){"use strict";var r=n(76887),o=n(21899),i=n(21647),a=n(95981),s=n(32029),l=n(93091),u=n(5743),c=n(57475),d=n(10941),f=n(90904),p=n(65988).f,g=n(3610).forEach,h=n(55746),m=n(45402),_=m.set,v=m.getterFor;e.exports=function(e,t,n){var m,y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),C=y?"set":"add",E=o[e],D=E&&E.prototype,T={};if(h&&c(E)&&(b||D.forEach&&!a((function(){(new E).entries().next()})))){var w=(m=t((function(t,n){_(u(t,w),{type:e,collection:new E}),null!=n&&l(n,t[C],{that:t,AS_ENTRIES:y})}))).prototype,S=v(e);g(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in D)||b&&"clear"==e||s(w,e,(function(n,r){var o=S(this).collection;if(!t&&b&&!d(n))return"get"==e&&void 0;var i=o[e](0===n?0:n,r);return t?this:i}))})),b||p(w,"size",{configurable:!0,get:function(){return S(this).collection.size}})}else m=n.getConstructor(t,e,y,C),i.enable();return f(m,e,!1,!0),T[e]=m,r({global:!0,forced:!0},T),b||n.setStrong(m,e,y),m}},64160:function(e,t,n){var r=n(95981);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},23538:function(e){e.exports=function(e,t){return{value:e,done:t}}},32029:function(e,t,n){var r=n(55746),o=n(65988),i=n(31887);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},31887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},55449:function(e,t,n){"use strict";var r=n(83894),o=n(65988),i=n(31887);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},95929:function(e,t,n){var r=n(32029);e.exports=function(e,t,n,o){return o&&o.enumerable?e[t]=n:r(e,t,n),e}},94380:function(e,t,n){var r=n(95929);e.exports=function(e,t,n){for(var o in t)n&&n.unsafe&&e[o]?e[o]=t[o]:r(e,o,t[o],n);return e}},75609:function(e,t,n){var r=n(21899),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},55746:function(e,t,n){var r=n(95981);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},76616:function(e){var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},61333:function(e,t,n){var r=n(21899),o=n(10941),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},66796:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},63281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2861:function(e,t,n){var r=n(626);e.exports=r("navigator","userAgent")||""},53385:function(e,t,n){var r,o,i=n(21899),a=n(2861),s=i.process,l=i.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(o=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},35703:function(e,t,n){var r=n(54058);e.exports=function(e){return r[e+"Prototype"]}},56759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},76887:function(e,t,n){"use strict";var r=n(21899),o=n(79730),i=n(97484),a=n(57475),s=n(49677).f,l=n(37252),u=n(54058),c=n(86843),d=n(32029),f=n(90953),p=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return o(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,o,g,h,m,_,v,y,b=e.target,C=e.global,E=e.stat,D=e.proto,T=C?r:E?r[b]:(r[b]||{}).prototype,w=C?u:u[b]||d(u,b,{})[b],S=w.prototype;for(g in t)n=!l(C?g:b+(E?".":"#")+g,e.forced)&&T&&f(T,g),m=w[g],n&&(_=e.dontCallGetSet?(y=s(T,g))&&y.value:T[g]),h=n&&_?_:t[g],n&&typeof m==typeof h||(v=e.bind&&n?c(h,r):e.wrap&&n?p(h):D&&a(h)?i(h):h,(e.sham||h&&h.sham||m&&m.sham)&&d(v,"sham",!0),d(w,g,v),D&&(f(u,o=b+"Prototype")||d(u,o,{}),d(u[o],g,h),e.real&&S&&!S[g]&&d(S,g,h)))}},95981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},45602:function(e,t,n){var r=n(95981);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},79730:function(e,t,n){var r=n(18285),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},86843:function(e,t,n){var r=n(97484),o=n(24883),i=n(18285),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},18285:function(e,t,n){var r=n(95981);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},98308:function(e,t,n){"use strict";var r=n(95329),o=n(24883),i=n(10941),a=n(90953),s=n(33965),l=n(18285),u=Function,c=r([].concat),d=r([].join),f={},p=function(e,t,n){if(!a(f,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";f[t]=u("C,a","return new C("+d(r,",")+")")}return f[t](e,n)};e.exports=l?u.bind:function(e){var t=o(this),n=t.prototype,r=s(arguments,1),a=function(){var n=c(r,s(arguments));return this instanceof a?p(t,n.length,n):t.apply(e,n)};return i(n)&&(a.prototype=n),a}},78834:function(e,t,n){var r=n(18285),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},79417:function(e,t,n){var r=n(55746),o=n(90953),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},97484:function(e,t,n){var r=n(82532),o=n(95329);e.exports=function(e){if("Function"===r(e))return o(e)}},95329:function(e,t,n){var r=n(18285),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=r?a:function(e){return function(){return i.apply(e,arguments)}}},626:function(e,t,n){var r=n(54058),o=n(21899),i=n(57475),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},22902:function(e,t,n){var r=n(9697),o=n(14229),i=n(82119),a=n(12077),s=n(99813)("iterator");e.exports=function(e){if(!i(e))return o(e,s)||o(e,"@@iterator")||a[r(e)]}},53476:function(e,t,n){var r=n(78834),o=n(24883),i=n(96059),a=n(69826),s=n(22902),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(o(n))return i(r(n,e));throw l(a(e)+" is not iterable")}},79993:function(e,t,n){var r=n(53476);e.exports=r},14229:function(e,t,n){var r=n(24883),o=n(82119);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},21899:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},90953:function(e,t,n){var r=n(95329),o=n(89678),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},27748:function(e){e.exports={}},15463:function(e,t,n){var r=n(626);e.exports=r("document","documentElement")},2840:function(e,t,n){var r=n(55746),o=n(95981),i=n(61333);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},37026:function(e,t,n){var r=n(95329),o=n(95981),i=n(82532),a=Object,s=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},81302:function(e,t,n){var r=n(95329),o=n(57475),i=n(63030),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},21647:function(e,t,n){var r=n(76887),o=n(95329),i=n(27748),a=n(10941),s=n(90953),l=n(65988).f,u=n(10946),c=n(684),d=n(91584),f=n(99418),p=n(45602),g=!1,h=f("meta"),m=0,_=function(e){l(e,h,{value:{objectID:"O"+m++,weakData:{}}})},v=e.exports={enable:function(){v.enable=function(){},g=!0;var e=u.f,t=o([].splice),n={};n[h]=1,e(n).length&&(u.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===h){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,h)){if(!d(e))return"F";if(!t)return"E";_(e)}return e[h].objectID},getWeakData:function(e,t){if(!s(e,h)){if(!d(e))return!0;if(!t)return!1;_(e)}return e[h].weakData},onFreeze:function(e){return p&&g&&d(e)&&!s(e,h)&&_(e),e}};i[h]=!0},45402:function(e,t,n){var r,o,i,a=n(47093),s=n(21899),l=n(10941),u=n(32029),c=n(90953),d=n(63030),f=n(44262),p=n(27748),g="Object already initialized",h=s.TypeError,m=s.WeakMap;if(a||d.state){var _=d.state||(d.state=new m);_.get=_.get,_.has=_.has,_.set=_.set,r=function(e,t){if(_.has(e))throw h(g);return t.facade=e,_.set(e,t),t},o=function(e){return _.get(e)||{}},i=function(e){return _.has(e)}}else{var v=f("state");p[v]=!0,r=function(e,t){if(c(e,v))throw h(g);return t.facade=e,u(e,v,t),t},o=function(e){return c(e,v)?e[v]:{}},i=function(e){return c(e,v)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}}}},6782:function(e,t,n){var r=n(99813),o=n(12077),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},1052:function(e,t,n){var r=n(82532);e.exports=Array.isArray||function(e){return"Array"==r(e)}},57475:function(e,t,n){var r=n(76616),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},24284:function(e,t,n){var r=n(95329),o=n(95981),i=n(57475),a=n(9697),s=n(626),l=n(81302),u=function(){},c=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),g=!f.exec(u),h=function(e){if(!i(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},m=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(f,l(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||o((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?m:h},77040:function(e,t,n){var r=n(90953);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},37252:function(e,t,n){var r=n(95981),o=n(57475),i=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n==c||n!=u&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},82119:function(e){e.exports=function(e){return null==e}},10941:function(e,t,n){var r=n(57475),o=n(76616),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},82529:function(e){e.exports=!0},56664:function(e,t,n){var r=n(626),o=n(57475),i=n(7046),a=n(32302),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,s(e))}},93091:function(e,t,n){var r=n(86843),o=n(78834),i=n(96059),a=n(69826),s=n(6782),l=n(10623),u=n(7046),c=n(53476),d=n(22902),f=n(7609),p=TypeError,g=function(e,t){this.stopped=e,this.result=t},h=g.prototype;e.exports=function(e,t,n){var m,_,v,y,b,C,E,D=n&&n.that,T=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_RECORD),S=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),A=r(t,D),I=function(e){return m&&f(m,"normal",e),new g(!0,e)},k=function(e){return T?(i(e),O?A(e[0],e[1],I):A(e[0],e[1])):O?A(e,I):A(e)};if(w)m=e.iterator;else if(S)m=e;else{if(!(_=d(e)))throw p(a(e)+" is not iterable");if(s(_)){for(v=0,y=l(e);y>v;v++)if((b=k(e[v]))&&u(h,b))return b;return new g(!1)}m=c(e,_)}for(C=w?e.next:m.next;!(E=o(C,m)).done;){try{b=k(E.value)}catch(e){f(m,"throw",e)}if("object"==typeof b&&b&&u(h,b))return b}return new g(!1)}},7609:function(e,t,n){var r=n(78834),o=n(96059),i=n(14229);e.exports=function(e,t,n){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return o(a),n}},53847:function(e,t,n){"use strict";var r=n(35143).IteratorPrototype,o=n(29290),i=n(31887),a=n(90904),s=n(12077),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=o(r,{next:i(+!u,n)}),a(e,c,!1,!0),s[c]=l,e}},75105:function(e,t,n){"use strict";var r=n(76887),o=n(78834),i=n(82529),a=n(79417),s=n(57475),l=n(53847),u=n(249),c=n(88929),d=n(90904),f=n(32029),p=n(95929),g=n(99813),h=n(12077),m=n(35143),_=a.PROPER,v=a.CONFIGURABLE,y=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,C=g("iterator"),E="keys",D="values",T="entries",w=function(){return this};e.exports=function(e,t,n,a,g,m,S){l(n,t,a);var O,A,I,k=function(e){if(e===g&&F)return F;if(!b&&e in P)return P[e];switch(e){case E:case D:case T:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",x=!1,P=e.prototype,R=P[C]||P["@@iterator"]||g&&P[g],F=!b&&R||k(g),L="Array"==t&&P.entries||R;if(L&&(O=u(L.call(new e)))!==Object.prototype&&O.next&&(i||u(O)===y||(c?c(O,y):s(O[C])||p(O,C,w)),d(O,M,!0,!0),i&&(h[M]=w)),_&&g==D&&R&&R.name!==D&&(!i&&v?f(P,"name",D):(x=!0,F=function(){return o(R,this)})),g)if(A={values:k(D),keys:m?F:k(E),entries:k(T)},S)for(I in A)(b||x||!(I in P))&&p(P,I,A[I]);else r({target:t,proto:!0,forced:b||x},A);return i&&!S||P[C]===F||p(P,C,F,{name:g}),h[t]=F,A}},35143:function(e,t,n){"use strict";var r,o,i,a=n(95981),s=n(57475),l=n(10941),u=n(29290),c=n(249),d=n(95929),f=n(99813),p=n(82529),g=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(r=o):h=!0),!l(r)||a((function(){var e={};return r[g].call(e)!==e}))?r={}:p&&(r=u(r)),s(r[g])||d(r,g,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},12077:function(e){e.exports={}},10623:function(e,t,n){var r=n(43057);e.exports=function(e){return r(e.length)}},48721:function(e,t,n){"use strict";var r=n(78834),o=n(24883),i=n(96059);e.exports=function(e,t){var n,a,s=i(this),l=o(s.get),u=o(s.has),c=o(s.set);return r(u,s,e)?(n=r(l,s,e),"update"in t&&(n=t.update(n,e,s),r(c,s,e,n)),n):(a=t.insert(e,s),r(c,s,e,a),a)}},20716:function(e,t,n){"use strict";var r=n(78834),o=n(24883),i=n(57475),a=n(96059),s=TypeError;e.exports=function(e,t){var n,l=a(this),u=o(l.get),c=o(l.has),d=o(l.set),f=arguments.length>2?arguments[2]:void 0;if(!i(t)&&!i(f))throw s("At least one callback required");return r(c,l,e)?(n=r(u,l,e),i(t)&&(n=t(n),r(d,l,e,n))):i(f)&&(n=f(),r(d,l,e,n)),n}},35331:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},24420:function(e,t,n){"use strict";var r=n(55746),o=n(95329),i=n(78834),a=n(95981),s=n(14771),l=n(87857),u=n(36760),c=n(89678),d=n(37026),f=Object.assign,p=Object.defineProperty,g=o([].concat);e.exports=!f||a((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=o}))?function(e,t){for(var n=c(e),o=arguments.length,a=1,f=l.f,p=u.f;o>a;)for(var h,m=d(arguments[a++]),_=f?g(s(m),f(m)):s(m),v=_.length,y=0;v>y;)h=_[y++],r&&!i(p,m,h)||(n[h]=m[h]);return n}:f},29290:function(e,t,n){var r,o=n(96059),i=n(59938),a=n(56759),s=n(27748),l=n(15463),u=n(61333),c=n(44262),d=c("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"</"+"script>"},g=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?g(r):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):g(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[d]=e):n=h(),void 0===t?n:i.f(n,t)}},59938:function(e,t,n){var r=n(55746),o=n(83937),i=n(65988),a=n(96059),s=n(74529),l=n(14771);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),o=l(t),u=o.length,c=0;u>c;)i.f(e,n=o[c++],r[n]);return e}},65988:function(e,t,n){var r=n(55746),o=n(2840),i=n(83937),a=n(96059),s=n(83894),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var r=c(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:f in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},49677:function(e,t,n){var r=n(55746),o=n(78834),i=n(36760),a=n(31887),s=n(74529),l=n(83894),u=n(90953),c=n(2840),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},684:function(e,t,n){var r=n(82532),o=n(74529),i=n(10946).f,a=n(15790),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return i(e)}catch(e){return a(s)}}(e):i(o(e))}},10946:function(e,t,n){var r=n(55629),o=n(56759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},87857:function(e,t){t.f=Object.getOwnPropertySymbols},249:function(e,t,n){var r=n(90953),o=n(57475),i=n(89678),a=n(44262),s=n(64160),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=i(e);if(r(t,l))return t[l];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},91584:function(e,t,n){var r=n(95981),o=n(10941),i=n(82532),a=n(97135),s=Object.isExtensible,l=r((function(){s(1)}));e.exports=l||a?function(e){return!!o(e)&&((!a||"ArrayBuffer"!=i(e))&&(!s||s(e)))}:s},7046:function(e,t,n){var r=n(95329);e.exports=r({}.isPrototypeOf)},55629:function(e,t,n){var r=n(95329),o=n(90953),i=n(74529),a=n(31692).indexOf,s=n(27748),l=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,c=[];for(n in r)!o(s,n)&&o(r,n)&&l(c,n);for(;t.length>u;)o(r,n=t[u++])&&(~a(c,n)||l(c,n));return c}},14771:function(e,t,n){var r=n(55629),o=n(56759);e.exports=Object.keys||function(e){return r(e,o)}},36760:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},88929:function(e,t,n){var r=n(95329),o=n(96059),i=n(11851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},95623:function(e,t,n){"use strict";var r=n(22885),o=n(9697);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},39811:function(e,t,n){var r=n(78834),o=n(57475),i=n(10941),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!i(s=r(n,e)))return s;if(o(n=e.valueOf)&&!i(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!i(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},54058:function(e){e.exports={}},48219:function(e,t,n){var r=n(82119),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},57309:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},94431:function(e,t,n){"use strict";var r=n(626),o=n(65988),i=n(99813),a=n(55746),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},90904:function(e,t,n){var r=n(22885),o=n(65988).f,i=n(32029),a=n(90953),s=n(95623),l=n(99813)("toStringTag");e.exports=function(e,t,n,u){if(e){var c=n?e:e.prototype;a(c,l)||o(c,l,{configurable:!0,value:t}),u&&!r&&i(c,"toString",s)}}},44262:function(e,t,n){var r=n(68726),o=n(99418),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},63030:function(e,t,n){var r=n(21899),o=n(75609),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},68726:function(e,t,n){var r=n(82529),o=n(63030);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},70487:function(e,t,n){var r=n(96059),o=n(174),i=n(82119),a=n(99813)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||i(n=r(s)[a])?t:o(n)}},64620:function(e,t,n){var r=n(95329),o=n(62435),i=n(85803),a=n(48219),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,d=i(a(t)),f=o(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=l(d,f))<55296||r>56319||f+1===p||(c=l(d,f+1))<56320||c>57343?e?s(d,f):r:e?u(d,f,f+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},63405:function(e,t,n){var r=n(53385),o=n(95981);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},29630:function(e,t,n){var r=n(78834),o=n(626),i=n(99813),a=n(95929);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=i("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},34680:function(e,t,n){var r=n(63405);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},59413:function(e,t,n){var r=n(62435),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},74529:function(e,t,n){var r=n(37026),o=n(48219);e.exports=function(e){return r(o(e))}},62435:function(e,t,n){var r=n(35331);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},43057:function(e,t,n){var r=n(62435),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},89678:function(e,t,n){var r=n(48219),o=Object;e.exports=function(e){return o(r(e))}},46935:function(e,t,n){var r=n(78834),o=n(10941),i=n(56664),a=n(14229),s=n(39811),l=n(99813),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!o(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},83894:function(e,t,n){var r=n(46935),o=n(56664);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},22885:function(e,t,n){var r={};r[n(99813)("toStringTag")]="z",e.exports="[object z]"===String(r)},85803:function(e,t,n){var r=n(9697),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},69826:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},99418:function(e,t,n){var r=n(95329),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},32302:function(e,t,n){var r=n(63405);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},83937:function(e,t,n){var r=n(55746),o=n(95981);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},47093:function(e,t,n){var r=n(21899),o=n(57475),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},73464:function(e,t,n){var r=n(54058),o=n(90953),i=n(11477),a=n(65988).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},11477:function(e,t,n){var r=n(99813);t.f=r},99813:function(e,t,n){var r=n(21899),o=n(68726),i=n(90953),a=n(99418),s=n(63405),l=n(32302),u=o("wks"),c=r.Symbol,d=c&&c.for,f=l?c:c&&c.withoutSetter||a;e.exports=function(e){if(!i(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&i(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):f(t)}return u[e]}},85906:function(e,t,n){"use strict";var r=n(76887),o=n(95981),i=n(1052),a=n(10941),s=n(89678),l=n(10623),u=n(66796),c=n(55449),d=n(64692),f=n(50568),p=n(99813),g=n(53385),h=p("isConcatSpreadable"),m=g>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),_=f("concat"),v=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,arity:1,forced:!m||!_},{concat:function(e){var t,n,r,o,i,a=s(this),f=d(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(v(i=-1===t?a:arguments[t]))for(o=l(i),u(p+o),n=0;n<o;n++,p++)n in i&&c(f,p,i[n]);else u(p+1),c(f,p++,i);return f.length=p,f}})},53242:function(e,t,n){var r=n(76887),o=n(11354);r({target:"Array",stat:!0,forced:!n(21385)((function(e){Array.from(e)}))},{from:o})},99076:function(e,t,n){"use strict";var r=n(76887),o=n(97484),i=n(31692).indexOf,a=n(34194),s=o([].indexOf),l=!!s&&1/s([1],1,-0)<0,u=a("indexOf");r({target:"Array",proto:!0,forced:l||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:i(this,e,t)}})},92737:function(e,t,n){n(76887)({target:"Array",stat:!0},{isArray:n(1052)})},66274:function(e,t,n){"use strict";var r=n(74529),o=n(18479),i=n(12077),a=n(45402),s=n(65988).f,l=n(75105),u=n(23538),c=n(82529),d=n(55746),f="Array Iterator",p=a.set,g=a.getterFor(f);e.exports=l(Array,"Array",(function(e,t){p(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=g(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!c&&d&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},60186:function(e,t,n){"use strict";var r=n(76887),o=n(1052),i=n(24284),a=n(10941),s=n(59413),l=n(10623),u=n(74529),c=n(55449),d=n(99813),f=n(50568),p=n(33965),g=f("slice"),h=d("species"),m=Array,_=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var n,r,d,f=u(this),g=l(f),v=s(e,g),y=s(void 0===t?g:t,g);if(o(f)&&(n=f.constructor,(i(n)&&(n===m||o(n.prototype))||a(n)&&null===(n=n[h]))&&(n=void 0),n===m||void 0===n))return p(f,v,y);for(r=new(void 0===n?m:n)(_(y-v,0)),d=0;v<y;v++,d++)v in f&&c(r,d,f[v]);return r.length=d,r}})},73381:function(e,t,n){var r=n(76887),o=n(98308);r({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},32619:function(e,t,n){var r=n(76887),o=n(626),i=n(79730),a=n(78834),s=n(95329),l=n(95981),u=n(1052),c=n(57475),d=n(10941),f=n(56664),p=n(33965),g=n(63405),h=o("JSON","stringify"),m=s(/./.exec),_=s("".charAt),v=s("".charCodeAt),y=s("".replace),b=s(1..toString),C=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,T=!g||l((function(){var e=o("Symbol")();return"[null]"!=h([e])||"{}"!=h({a:e})||"{}"!=h(Object(e))})),w=l((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),S=function(e,t){var n=p(arguments),r=t;if((d(t)||void 0!==e)&&!f(e))return u(t)||(t=function(e,t){if(c(r)&&(t=a(r,this,e,t)),!f(t))return t}),n[1]=t,i(h,null,n)},O=function(e,t,n){var r=_(n,t-1),o=_(n,t+1);return m(E,e)&&!m(D,o)||m(D,e)&&!m(E,r)?"\\u"+b(v(e,0),16):e};h&&r({target:"JSON",stat:!0,arity:3,forced:T||w},{stringify:function(e,t,n){var r=p(arguments),o=i(T?S:h,null,r);return w&&"string"==typeof o?y(o,C,O):o}})},69120:function(e,t,n){var r=n(21899);n(90904)(r.JSON,"JSON",!0)},23112:function(e,t,n){"use strict";n(24683)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(85616))},37501:function(e,t,n){n(23112)},79413:function(){},49221:function(e,t,n){var r=n(76887),o=n(24420);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},53882:function(e,t,n){n(76887)({target:"Object",stat:!0,sham:!n(55746)},{create:n(29290)})},86450:function(e,t,n){var r=n(76887),o=n(55746),i=n(65988).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},46924:function(e,t,n){var r=n(76887),o=n(95981),i=n(74529),a=n(49677).f,s=n(55746),l=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},37144:function(e,t,n){var r=n(76887),o=n(63405),i=n(95981),a=n(87857),s=n(89678);r({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},17405:function(e,t,n){var r=n(76887),o=n(95981),i=n(89678),a=n(249),s=n(64160);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},90108:function(e,t,n){n(76887)({target:"Object",stat:!0},{setPrototypeOf:n(88929)})},55967:function(){},7453:function(e,t,n){var r=n(76887),o=n(626),i=n(79730),a=n(98308),s=n(174),l=n(96059),u=n(10941),c=n(29290),d=n(95981),f=o("Reflect","construct"),p=Object.prototype,g=[].push,h=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),m=!d((function(){f((function(){}))})),_=h||m;r({target:"Reflect",stat:!0,forced:_,sham:_},{construct:function(e,t){s(e),l(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!h)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(g,r,t),new(i(a,e,r))}var o=n.prototype,d=c(u(o)?o:p),_=i(e,d,t);return u(_)?_:d}})},42355:function(e,t,n){var r=n(76887),o=n(78834),i=n(10941),a=n(96059),s=n(77040),l=n(49677),u=n(249);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,c,d=arguments.length<3?t:arguments[2];return a(t)===d?t[n]:(r=l.f(t,n))?s(r)?r.value:void 0===r.get?void 0:o(r.get,d):i(c=u(t))?e(c,n,d):void 0}})},1502:function(){},77971:function(e,t,n){"use strict";var r=n(64620).charAt,o=n(85803),i=n(45402),a=n(75105),s=n(23538),l="String Iterator",u=i.set,c=i.getterFor(l);a(String,"String",(function(e){u(this,{type:l,string:o(e),index:0})}),(function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?s(void 0,!0):(e=r(n,o),t.index+=e.length,s(e,!1))}))},8555:function(e,t,n){n(73464)("asyncIterator")},48616:function(e,t,n){"use strict";var r=n(76887),o=n(21899),i=n(78834),a=n(95329),s=n(82529),l=n(55746),u=n(63405),c=n(95981),d=n(90953),f=n(7046),p=n(96059),g=n(74529),h=n(83894),m=n(85803),_=n(31887),v=n(29290),y=n(14771),b=n(10946),C=n(684),E=n(87857),D=n(49677),T=n(65988),w=n(59938),S=n(36760),O=n(95929),A=n(68726),I=n(44262),k=n(27748),M=n(99418),x=n(99813),P=n(11477),R=n(73464),F=n(29630),L=n(90904),j=n(45402),N=n(3610).forEach,B=I("hidden"),U="Symbol",W=j.set,H=j.getterFor(U),z=Object.prototype,G=o.Symbol,$=G&&G.prototype,V=o.TypeError,Z=o.QObject,q=D.f,K=T.f,Y=C.f,J=S.f,X=a([].push),Q=A("symbols"),ee=A("op-symbols"),te=A("wks"),ne=!Z||!Z.prototype||!Z.prototype.findChild,re=l&&c((function(){return 7!=v(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=q(z,t);r&&delete z[t],K(e,t,n),r&&e!==z&&K(z,t,r)}:K,oe=function(e,t){var n=Q[e]=v($);return W(n,{type:U,tag:e,description:t}),l||(n.description=t),n},ie=function(e,t,n){e===z&&ie(ee,t,n),p(e);var r=h(t);return p(n),d(Q,r)?(n.enumerable?(d(e,B)&&e[B][r]&&(e[B][r]=!1),n=v(n,{enumerable:_(0,!1)})):(d(e,B)||K(e,B,_(1,{})),e[B][r]=!0),re(e,r,n)):K(e,r,n)},ae=function(e,t){p(e);var n=g(t),r=y(n).concat(ce(n));return N(r,(function(t){l&&!i(se,n,t)||ie(e,t,n[t])})),e},se=function(e){var t=h(e),n=i(J,this,t);return!(this===z&&d(Q,t)&&!d(ee,t))&&(!(n||!d(this,t)||!d(Q,t)||d(this,B)&&this[B][t])||n)},le=function(e,t){var n=g(e),r=h(t);if(n!==z||!d(Q,r)||d(ee,r)){var o=q(n,r);return!o||!d(Q,r)||d(n,B)&&n[B][r]||(o.enumerable=!0),o}},ue=function(e){var t=Y(g(e)),n=[];return N(t,(function(e){d(Q,e)||d(k,e)||X(n,e)})),n},ce=function(e){var t=e===z,n=Y(t?ee:g(e)),r=[];return N(n,(function(e){!d(Q,e)||t&&!d(z,e)||X(r,Q[e])})),r};u||(G=function(){if(f($,this))throw V("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=M(e),n=function(e){this===z&&i(n,ee,e),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),re(this,t,_(1,e))};return l&&ne&&re(z,t,{configurable:!0,set:n}),oe(t,e)},O($=G.prototype,"toString",(function(){return H(this).tag})),O(G,"withoutSetter",(function(e){return oe(M(e),e)})),S.f=se,T.f=ie,w.f=ae,D.f=le,b.f=C.f=ue,E.f=ce,P.f=function(e){return oe(x(e),e)},l&&(K($,"description",{configurable:!0,get:function(){return H(this).description}}),s||O(z,"propertyIsEnumerable",se,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),N(y(te),(function(e){R(e)})),r({target:U,stat:!0,forced:!u},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?v(e):ae(v(e),t)},defineProperty:ie,defineProperties:ae,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),F(),L(G,U),k[B]=!0},52615:function(){},64523:function(e,t,n){var r=n(76887),o=n(626),i=n(90953),a=n(85803),s=n(68726),l=n(34680),u=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=a(e);if(i(u,t))return u[t];var n=o("Symbol")(t);return u[t]=n,c[n]=t,n}})},21732:function(e,t,n){n(73464)("hasInstance")},35903:function(e,t,n){n(73464)("isConcatSpreadable")},1825:function(e,t,n){n(73464)("iterator")},35824:function(e,t,n){n(48616),n(64523),n(38608),n(32619),n(37144)},38608:function(e,t,n){var r=n(76887),o=n(90953),i=n(56664),a=n(69826),s=n(68726),l=n(34680),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!i(e))throw TypeError(a(e)+" is not a symbol");if(o(u,e))return u[e]}})},45915:function(e,t,n){n(73464)("matchAll")},28394:function(e,t,n){n(73464)("match")},61766:function(e,t,n){n(73464)("replace")},62737:function(e,t,n){n(73464)("search")},89911:function(e,t,n){n(73464)("species")},74315:function(e,t,n){n(73464)("split")},63131:function(e,t,n){var r=n(73464),o=n(29630);r("toPrimitive"),o()},64714:function(e,t,n){var r=n(626),o=n(73464),i=n(90904);o("toStringTag"),i(r("Symbol"),"Symbol")},70659:function(e,t,n){n(73464)("unscopables")},66591:function(e,t,n){"use strict";n(76887)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:n(28984)})},55121:function(e,t,n){"use strict";n(76887)({target:"Map",proto:!0,real:!0,forced:!0},{emplace:n(48721)})},14751:function(e,t,n){"use strict";var r=n(76887),o=n(96059),i=n(86843),a=n(79993),s=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=o(this),n=a(t),r=i(e,arguments.length>1?arguments[1]:void 0);return!s(n,(function(e,n,o){if(!r(n,e,t))return o()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},52407:function(e,t,n){"use strict";var r=n(76887),o=n(626),i=n(86843),a=n(78834),s=n(24883),l=n(96059),u=n(70487),c=n(79993),d=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=l(this),n=c(t),r=i(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,o("Map"))),p=s(f.set);return d(n,(function(e,n){r(n,e,t)&&a(p,f,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},27281:function(e,t,n){"use strict";var r=n(76887),o=n(96059),i=n(86843),a=n(79993),s=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=o(this),n=a(t),r=i(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,o){if(r(n,e,t))return o(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},48580:function(e,t,n){"use strict";var r=n(76887),o=n(96059),i=n(86843),a=n(79993),s=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=o(this),n=a(t),r=i(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,o){if(r(n,e,t))return o(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},52453:function(e,t,n){n(76887)({target:"Map",stat:!0,forced:!0},{from:n(83590)})},36507:function(e,t,n){"use strict";var r=n(76887),o=n(78834),i=n(95329),a=n(24883),s=n(53476),l=n(93091),u=i([].push);r({target:"Map",stat:!0,forced:!0},{groupBy:function(e,t){a(t);var n=s(e),r=new this,i=a(r.has),c=a(r.get),d=a(r.set);return l(n,(function(e){var n=t(e);o(i,r,n)?u(o(c,r,n),e):o(d,r,n,[e])}),{IS_ITERATOR:!0}),r}})},93647:function(e,t,n){"use strict";var r=n(76887),o=n(96059),i=n(79993),a=n(57309),s=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return s(i(o(this)),(function(t,n,r){if(a(n,e))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},47641:function(e,t,n){"use strict";var r=n(76887),o=n(78834),i=n(93091),a=n(24883);r({target:"Map",stat:!0,forced:!0},{keyBy:function(e,t){var n=new this;a(t);var r=a(n.set);return i(e,(function(e){o(r,n,t(e),e)})),n}})},18552:function(e,t,n){"use strict";var r=n(76887),o=n(96059),i=n(79993),a=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){return a(i(o(this)),(function(t,n,r){if(n===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},27693:function(e,t,n){"use strict";var r=n(76887),o=n(626),i=n(86843),a=n(78834),s=n(24883),l=n(96059),u=n(70487),c=n(79993),d=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=l(this),n=c(t),r=i(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,o("Map"))),p=s(f.set);return d(n,(function(e,n){a(p,f,r(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},8:function(e,t,n){"use strict";var r=n(76887),o=n(626),i=n(86843),a=n(78834),s=n(24883),l=n(96059),u=n(70487),c=n(79993),d=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=l(this),n=c(t),r=i(e,arguments.length>1?arguments[1]:void 0),f=new(u(t,o("Map"))),p=s(f.set);return d(n,(function(e,n){a(p,f,e,r(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}})},48514:function(e,t,n){"use strict";var r=n(76887),o=n(24883),i=n(96059),a=n(93091);r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=i(this),n=o(t.set),r=arguments.length,s=0;s<r;)a(arguments[s++],n,{that:t,AS_ENTRIES:!0});return t}})},32523:function(e,t,n){n(76887)({target:"Map",stat:!0,forced:!0},{of:n(45226)})},8212:function(e,t,n){"use strict";var r=n(76887),o=n(96059),i=n(24883),a=n(79993),s=n(93091),l=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=o(this),n=a(t),r=arguments.length<2,u=r?void 0:arguments[1];if(i(e),s(n,(function(n,o){r?(r=!1,u=o):u=e(u,o,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw l("Reduce of empty map with no initial value");return u}})},89642:function(e,t,n){"use strict";var r=n(76887),o=n(96059),i=n(86843),a=n(79993),s=n(93091);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=o(this),n=a(t),r=i(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,o){if(r(n,e,t))return o()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},68826:function(e,t,n){"use strict";n(76887)({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:n(20716)})},78485:function(e,t,n){"use strict";var r=n(76887),o=n(78834),i=n(96059),a=n(24883),s=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=i(this),r=a(n.get),l=a(n.has),u=a(n.set),c=arguments.length;a(t);var d=o(l,n,e);if(!d&&c<3)throw s("Updating absent value");var f=d?o(r,n,e):a(c>2?arguments[2]:void 0)(e,n);return o(u,n,e,t(f,e,n)),n}})},42256:function(e,t,n){"use strict";n(76887)({target:"Map",proto:!0,real:!0,forced:!0},{upsert:n(20716)})},28783:function(e,t,n){n(73464)("asyncDispose")},43975:function(e,t,n){n(73464)("dispose")},65799:function(e,t,n){n(73464)("matcher")},31943:function(e,t,n){n(73464)("metadataKey")},45414:function(e,t,n){n(73464)("metadata")},46774:function(e,t,n){n(73464)("observable")},80620:function(e,t,n){n(73464)("patternMatch")},36172:function(e,t,n){n(73464)("replaceAll")},7634:function(e,t,n){n(66274);var r=n(63281),o=n(21899),i=n(9697),a=n(32029),s=n(12077),l=n(99813)("toStringTag");for(var u in r){var c=o[u],d=c&&c.prototype;d&&i(d)!==l&&a(d,l,u),s[u]=s.Array}},27698:function(e,t,n){var r=n(54493);e.exports=r},83363:function(e,t,n){var r=n(24034);e.exports=r},56243:function(e,t,n){var r=n(13830);n(7634),e.exports=r},28196:function(e,t,n){var r=n(16246);e.exports=r},19373:function(e,t,n){var r=n(34570);e.exports=r},82073:function(e,t,n){var r=n(69601);e.exports=r},15868:function(e,t,n){var r=n(91018);n(7634),e.exports=r},63383:function(e,t,n){var r=n(45999);e.exports=r},14471:function(e,t,n){var r=n(35254);e.exports=r},41910:function(e,t,n){var r=n(48171);e.exports=r},79427:function(e,t,n){var r=n(286);e.exports=r},96507:function(e,t,n){var r=n(13966);e.exports=r},16670:function(e,t,n){var r=n(3065);e.exports=r},61895:function(e,t,n){var r=n(14983);e.exports=r},18254:function(e,t,n){var r=n(37095);e.exports=r},92547:function(e,t,n){var r=n(57473);n(7634),e.exports=r},46509:function(e,t,n){var r=n(24227);n(7634),e.exports=r},89766:function(e,t,n){var r={EventEmitter:n(47333),EmitterSubscription:n(86584)};e.exports=r},47333:function(e,t,n){"use strict";var r=n(86584),o=n(68231),i=n(73759),a=n(60139),s=function(){function e(){this._subscriber=new o,this._currentSubscription=null}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new r(this._subscriber,t,n))},t.once=function(e,t,n){var r=this;return this.addListener(e,(function(){r.removeCurrentListener(),t.apply(n,arguments)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){this._currentSubscription||i(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(a.thatReturnsTrue).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i&&(this._currentSubscription=i,this.__emitToSubscription.apply(this,[i].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=s},86584:function(e,t,n){"use strict";var r=function(e){var t,n;function r(t,n,r){var o;return(o=e.call(this,t)||this).listener=n,o.context=r,o}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(n(27024));e.exports=r},27024:function(e){"use strict";var t=function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},68231:function(e,t,n){"use strict";var r=n(73759),o=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){t.subscriber!==this&&r(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,r=this._subscriptionsForType[t];r&&delete r[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=o},60139:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},73759:function(e){"use strict";var t=function(e){};e.exports=function(e,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(t(n),!e){var a;if(void 0===n)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(n.replace(/%s/g,(function(){return String(o[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},68337:function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function c(e){var t=e.re=n(36066)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?r.validate=n.validate:u(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?u(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?u(t,n):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var c=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+c+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+c+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function f(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},l,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},c(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,c(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var t=this.re.schema_at_start.exec(e);if(!t)return null;var n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,f(this,0)):null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),c(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,c(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},36066:function(e,t,n){"use strict";e.exports=function(e){var t={};e=e||{},t.src_Any=n(29369).source,t.src_Cc=n(99413).source,t.src_Z=n(35045).source,t.src_P=n(73189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},5243:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap__EIOIO",__call:"__call__zKmmw",__show:"__show__f8tuD",closeButton:"closeButton__Jm4LC",closeIcon:"closeIcon__vhF7r"}},308:function(e,t,n){"use strict";n.r(t),t.default={errorWrap:"errorWrap__WHuSZ",header:"header__UK6Ed",headerText:"headerText__ecorU",__dark:"__dark__NGrNk",__mobile:"__mobile__SfcbA",connectContainer:"connectContainer___7v0G",errorContent:"errorContent__mxQ7G",disconnectWrap:"disconnectWrap__2vNN5",errorText:"errorText__YN6zf",backWrapper:"backWrapper__cEP_r",backButton:"backButton__XvGLs",iconError:"iconError__lbuAE",pattern:"pattern__lPRe0"}},10611:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap__HYmGP",__short:"__short__Zda0T",__active:"__active__eJcg7"}},47860:function(e,t,n){"use strict";n.r(t),t.default={mobileContainer:"mobileContainer__OtAKB",__tablet:"__tablet__pr_aV",__cpFull:"__cpFull__W2V41"}},40977:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap__bVJ3L",_show:"_show__aAEwK",show:"show__vXd7y",_popupShow:"_popupShow__iJkgI",overlay:"overlay__Yu8MM",button:"button__NbFWA",__hide:"__hide__qyWJc",__inzoom:"__inzoom__ZM5r7",closeIconWrap:"closeIconWrap__Bzz9_",closeIcon:"closeIcon__VoHiM",_hoverMenu:"_hoverMenu__PBmz0",menuWrap:"menuWrap__Orzyp",__hover:"__hover__DjY7A",_orientationRight:"_orientationRight__ykM7l",_orientationLeft:"_orientationLeft__DX2Hb",_mobileDesigner:"_mobileDesigner__fhtOw",_extensionsTarget:"_extensionsTarget__Y9DBy",_desktopOffsetBottom:"_desktopOffsetBottom__CjGrO",_mobileOffsetBottom:"_mobileOffsetBottom__npKWn"}},64734:function(e,t,n){"use strict";n.r(t),t.default={icons:"icons__B6YDR",iconWrap:"iconWrap__TzJyC",_showLogo:"_showLogo__Lv76Q",wrapAnimation:"wrapAnimation__BnJ4w",_isCallEnabled:"_isCallEnabled__rQ1Tu",firstWrapCallAnimation:"firstWrapCallAnimation__LdRlj",iconWrapClose:"iconWrapClose__dqRx0",iconWrap2:"iconWrap2__hhFIh",wrapCallNoLogoAnimation:"wrapCallNoLogoAnimation__qCs2K",secondWrapCallAnimation:"secondWrapCallAnimation__hKPbP",iconWrap3:"iconWrap3__QgD9z",thirdWrapCallAnimation:"thirdWrapCallAnimation__ljcF5",jivoIcon:"jivoIcon__HPtt9",closeIcon:"closeIcon__FW86V",logoIconCloud:"logoIconCloud__YSx7A",envelopeIcon:"envelopeIcon__jdH0w",callbackIcon:"callbackIcon__X20gh",iconCallAnimation:"iconCallAnimation__DTaVM",topIcon:"topIcon__n7HjZ"}},60783:function(e,t,n){"use strict";n.r(t),t.default={stand:"stand__eOJU3",standBig:"standBig__ZKCSc"}},75598:function(e,t,n){"use strict";n.r(t),t.default={__widgetConstructor:"__widgetConstructor__pj0jV",unset:"unset__cKV_3"}},7949:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__bHBqU",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__MFniI",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET__EyYvQ",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__M13Uu",Label_OPEN_WIDGET:"Label_OPEN_WIDGET__fj437",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__BiLon",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__NGJrX",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__VNgNq",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__AQpoo"}},37871:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__yDt1A",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__l6uaQ",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET__iCN4a",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__VoIkS",Label_OPEN_WIDGET:"Label_OPEN_WIDGET__z8fti",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__RfSUb",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__lkL7o",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__y5YzX",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__XuSwD"}},10193:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__D2qyq",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__JZWyk",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__YgjtA",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__zE671",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__ZfHPs"}},5446:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__uqTJs",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__d7d_R",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__Ix1vv",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_____vk",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__uvx8q",Label_OPEN_WIDGET:"Label_OPEN_WIDGET__KpVQQ",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__ErKHU",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__Omld4"}},86052:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET__qWeOz",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__I5EYg",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET__aA2LH",Label_MIN_WIDGET:"Label_MIN_WIDGET__e5W72",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__g4umX",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__Avdki",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__Y_kUa",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__bnzdy",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__xC3uB",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__z15E9"}},8741:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET__X0b2X",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET__fEoi2",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET__CM6Vq",Label_MIN_WIDGET:"Label_MIN_WIDGET__Lixlm",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET__JOcjb",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET__QZIkx",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET__gwhLM",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET__aZMZz",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET__tnAa2",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET__o_NgU"}},68367:function(e,t,n){const{render:r,hydrate:o,unmountComponentAtNode:i}=n(98661);function a(e){return{render:function(t){r(t,e)},unmount:function(){i(e)}}}t.createRoot=a,t.hydrateRoot=function(e,t){return o(t,e),a(e)}},98661:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return y},Component:function(){return r.Component},Fragment:function(){return r.Fragment},PureComponent:function(){return p},StrictMode:function(){return ae},Suspense:function(){return T},SuspenseList:function(){return O},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return K},cloneElement:function(){return te},createContext:function(){return r.createContext},createElement:function(){return r.createElement},createFactory:function(){return J},createPortal:function(){return M},createRef:function(){return r.createRef},default:function(){return le},findDOMNode:function(){return re},flushSync:function(){return ie},forwardRef:function(){return _},hydrate:function(){return B},isElement:function(){return se},isFragment:function(){return Q},isMemo:function(){return ee},isValidElement:function(){return X},lazy:function(){return S},memo:function(){return g},render:function(){return N},startTransition:function(){return u},unmountComponentAtNode:function(){return ne},unstable_batchedUpdates:function(){return oe},useCallback:function(){return o.I4},useContext:function(){return o.qp},useDebugValue:function(){return o.Qb},useDeferredValue:function(){return c},useEffect:function(){return o.d4},useErrorBoundary:function(){return o.cO},useId:function(){return o.Me},useImperativeHandle:function(){return o.aP},useInsertionEffect:function(){return f},useLayoutEffect:function(){return o.bt},useMemo:function(){return o.Ye},useReducer:function(){return o._Y},useRef:function(){return o.sO},useState:function(){return o.eJ},useSyncExternalStore:function(){return s},useTransition:function(){return d},version:function(){return Y}});var r=n(6400),o=n(30396);function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function s(e,t){var n=t(),r=(0,o.eJ)({t:{__:n,u:t}}),i=r[0].t,a=r[1];return(0,o.bt)((function(){i.__=n,i.u=t,l(i)&&a({t:i})}),[e,n,t]),(0,o.d4)((function(){return l(i)&&a({t:i}),e((function(){l(i)&&a({t:i})}))}),[e]),n}function l(e){var t,n,r=e.u,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}function u(e){e()}function c(e){return e}function d(){return[!1,u]}var f=o.bt;function p(e,t){this.props=e,this.context=t}function g(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function o(t){return this.shouldComponentUpdate=n,(0,r.createElement)(e,t)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o}(p.prototype=new r.Component).isPureReactComponent=!0,p.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var h=r.options.__b;r.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),h&&h(e)};var m="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _(e){function t(t){var n=i({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=m,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var v=function(e,t){return null==e?null:(0,r.toChildArray)((0,r.toChildArray)(e).map(t))},y={map:v,forEach:v,count:function(e){return e?(0,r.toChildArray)(e).length:0},only:function(e){var t=(0,r.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:r.toChildArray},b=r.options.__e;r.options.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);b(e,t,n,r)};var C=r.options.unmount;function E(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=i({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return E(e,t,n)}))),e}function D(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return D(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function T(){this.__u=0,this.o=null,this.__b=null}function w(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function S(e){var t,n,o;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){o=e})),o)throw o;if(!n)throw t;return(0,r.createElement)(n,i)}return i.displayName="Lazy",i.__f=!0,i}function O(){this.i=null,this.l=null}r.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),C&&C(e)},(T.prototype=new r.Component).__c=function(e,t){var n=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(n);var o=w(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=D(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},T.prototype.componentWillUnmount=function(){this.o=[]},T.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=E(this.__b,n,o.__O=o.__P)}this.__b=null}var i=t.__a&&(0,r.createElement)(r.Fragment,null,e.fallback);return i&&(i.__u&=-33),[(0,r.createElement)(r.Fragment,null,t.__a?null:e.children),i]};var A=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function I(e){return this.getChildContext=function(){return e.context},e.children}function k(e){var t=this,n=e.h;t.componentWillUnmount=function(){(0,r.render)(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),t.v||(t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(e){this.childNodes.push(e),t.h.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}),(0,r.render)((0,r.createElement)(I,{context:t.context},e.__v),t.v)}function M(e,t){var n=(0,r.createElement)(k,{__v:e,h:t});return n.containerInfo=t,n}(O.prototype=new r.Component).__a=function(e){var t=this,n=w(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),A(t,e,r)):o()};n?n(i):i()}},O.prototype.render=function(e){this.i=null,this.l=new Map;var t=(0,r.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},O.prototype.componentDidUpdate=O.prototype.componentDidMount=function(){var e=this;this.l.forEach((function(t,n){A(e,n,t)}))};var x="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,R=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,F=/[A-Z0-9]/g,L="undefined"!=typeof document,j=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function N(e,t,n){return null==t.__k&&(t.textContent=""),(0,r.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function B(e,t,n){return(0,r.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}r.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var U=r.options.event;function W(){}function H(){return this.cancelBubble}function z(){return this.defaultPrevented}r.options.event=function(e){return U&&(e=U(e)),e.persist=W,e.isPropagationStopped=H,e.isDefaultPrevented=z,e.nativeEvent=e};var G,$={enumerable:!1,configurable:!0,get:function(){return this.class}},V=r.options.vnode;r.options.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,o={},i=-1===n.indexOf("-");for(var a in t){var s=t[a];if(!("value"===a&&"defaultValue"in t&&null==s||L&&"children"===a&&"noscript"===n||"class"===a||"className"===a)){var l=a.toLowerCase();"defaultValue"===a&&"value"in t&&null==t.value?a="value":"download"===a&&!0===s?s="":"translate"===l&&"no"===s?s=!1:"o"===l[0]&&"n"===l[1]?"ondoubleclick"===l?a="ondblclick":"onchange"!==l||"input"!==n&&"textarea"!==n||j(t.type)?"onfocus"===l?a="onfocusin":"onblur"===l?a="onfocusout":R.test(a)&&(a=l):l=a="oninput":i&&P.test(a)?a=a.replace(F,"-$&").toLowerCase():null===s&&(s=void 0),"oninput"===l&&o[a=l]&&(a="oninputCapture"),o[a]=s}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=(0,r.toChildArray)(t.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=(0,r.toChildArray)(t.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),t.class&&!t.className?(o.class=t.class,Object.defineProperty(o,"className",$)):(t.className&&!t.class||t.class&&t.className)&&(o.class=o.className=t.className),e.props=o}(e),e.$$typeof=x,V&&V(e)};var Z=r.options.__r;r.options.__r=function(e){Z&&Z(e),G=e.__c};var q=r.options.diffed;r.options.diffed=function(e){q&&q(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),G=null};var K={ReactCurrentDispatcher:{current:{readContext:function(e){return G.__n[e.__c].props.value},useCallback:o.I4,useContext:o.qp,useDebugValue:o.Qb,useDeferredValue:c,useEffect:o.d4,useId:o.Me,useImperativeHandle:o.aP,useInsertionEffect:f,useLayoutEffect:o.bt,useMemo:o.Ye,useReducer:o._Y,useRef:o.sO,useState:o.eJ,useSyncExternalStore:s,useTransition:d}}},Y="18.3.1";function J(e){return r.createElement.bind(null,e)}function X(e){return!!e&&e.$$typeof===x}function Q(e){return X(e)&&e.type===r.Fragment}function ee(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function te(e){return X(e)?r.cloneElement.apply(null,arguments):e}function ne(e){return!!e.__k&&((0,r.render)(null,e),!0)}function re(e){return e&&(e.base||1===e.nodeType&&e)||null}var oe=function(e,t){return e(t)},ie=function(e,t){return e(t)},ae=r.Fragment,se=X,le={useState:o.eJ,useId:o.Me,useReducer:o._Y,useEffect:o.d4,useLayoutEffect:o.bt,useInsertionEffect:f,useTransition:d,useDeferredValue:c,useSyncExternalStore:s,startTransition:u,useRef:o.sO,useImperativeHandle:o.aP,useMemo:o.Ye,useCallback:o.I4,useContext:o.qp,useDebugValue:o.Qb,version:"18.3.1",Children:y,render:N,hydrate:B,unmountComponentAtNode:ne,createPortal:M,createElement:r.createElement,createContext:r.createContext,createFactory:J,cloneElement:te,createRef:r.createRef,Fragment:r.Fragment,isValidElement:X,isElement:se,isFragment:Q,isMemo:ee,findDOMNode:re,Component:r.Component,PureComponent:p,memo:g,forwardRef:_,flushSync:ie,unstable_batchedUpdates:oe,StrictMode:ae,Suspense:T,SuspenseList:O,lazy:S,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:K}},67665:function(e,t,n){"use strict";n.r(t),n.d(t,{resetPropWarnings:function(){return i}});var r=n(6400),o=(n(14369),{});function i(){o={}}function a(e){return e.type===r.Fragment?"Fragment":"function"==typeof e.type?e.type.displayName||e.type.name:"string"==typeof e.type?e.type:"#text"}var s=[],l=[];function u(){return s.length>0?s[s.length-1]:null}var c=!0;function d(e){return"function"==typeof e.type&&e.type!=r.Fragment}function f(e){for(var t=[e],n=e;null!=n.__o;)t.push(n.__o),n=n.__o;return t.reduce((function(e,t){e+="  in "+a(t);var n=t.__source;return n?e+=" (at "+n.fileName+":"+n.lineNumber+")":c&&console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons."),c=!1,e+"\n"}),"")}var p="function"==typeof WeakMap;function g(e){var t=[];return e.__k?(e.__k.forEach((function(e){e&&"function"==typeof e.type?t.push.apply(t,g(e)):e&&"string"==typeof e.type&&t.push(e.type)})),t):t}function h(e){return e?"function"==typeof e.type?null==e.__?null!=e.__e&&null!=e.__e.parentNode?e.__e.parentNode.localName:"":h(e.__):e.type:""}var m=r.Component.prototype.setState;function _(e){return"table"===e||"tfoot"===e||"tbody"===e||"thead"===e||"td"===e||"tr"===e||"th"===e}r.Component.prototype.setState=function(e,t){return null==this.__v&&null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+f(u())),m.call(this,e,t)};var v=/^(address|article|aside|blockquote|details|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|main|menu|nav|ol|p|pre|search|section|table|ul)$/,y=r.Component.prototype.forceUpdate;function b(e){var t=e.props,n=a(e),r="";for(var o in t)if(t.hasOwnProperty(o)&&"children"!==o){var i=t[o];"function"==typeof i&&(i="function "+(i.displayName||i.name)+"() {}"),i=Object(i)!==i||i.toString?i+"":Object.prototype.toString.call(i),r+=" "+o+"="+JSON.stringify(i)}var s=t.children;return"<"+n+r+(s&&s.length?">..</"+n+">":" />")}r.Component.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+f(u())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),y.call(this,e)},r.options.__m=function(e,t){var n=e.type,r=t.map((function(e){return e&&e.localName})).filter(Boolean);console.error('Expected a DOM node of type "'+n+'" but found "'+r.join(", ")+"\" as available DOM-node(s), this is caused by the SSR'd HTML containing different DOM-nodes compared to the hydrated one.\n\n"+f(e))},function(){!function(){var e=r.options.__b,t=r.options.diffed,n=r.options.__,o=r.options.vnode,i=r.options.__r;r.options.diffed=function(e){d(e)&&l.pop(),s.pop(),t&&t(e)},r.options.__b=function(t){d(t)&&s.push(t),e&&e(t)},r.options.__=function(e,t){l=[],n&&n(e,t)},r.options.vnode=function(e){e.__o=l.length>0?l[l.length-1]:null,o&&o(e)},r.options.__r=function(e){d(e)&&l.push(e),i&&i(e)}}();var e=!1,t=r.options.__b,n=r.options.diffed,i=r.options.vnode,u=r.options.__r,c=r.options.__e,m=r.options.__,y=r.options.__h,C=p?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,E=[];r.options.__e=function(e,t,n,r){if(t&&t.__c&&"function"==typeof e.then){var o=e;e=new Error("Missing Suspense. The throwing component was: "+a(t));for(var i=t;i;i=i.__)if(i.__c&&i.__c.__c){e=o;break}if(e instanceof Error)throw e}try{(r=r||{}).componentStack=f(t),c(e,t,n,r),"function"!=typeof e.then&&setTimeout((function(){throw e}))}catch(e){throw e}},r.options.__=function(e,t){if(!t)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var n;switch(t.nodeType){case 1:case 11:case 9:n=!0;break;default:n=!1}if(!n){var r=a(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+t+" instead: render(<"+r+" />, "+t+");")}m&&m(e,t)},r.options.__b=function(n){var r=n.type;if(e=!0,void 0===r)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+b(n)+"\n\n"+f(n));if(null!=r&&"object"==typeof r){if(void 0!==r.__k&&void 0!==r.__e)throw new Error("Invalid type passed to createElement(): "+r+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+a(n)+" = "+b(r)+";\n  let vnode = <My"+a(n)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+f(n));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(r)?"array":r))}if(void 0!==n.ref&&"function"!=typeof n.ref&&"object"!=typeof n.ref&&!("$$typeof"in n))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof n.ref+"] instead\n"+b(n)+"\n\n"+f(n));if("string"==typeof n.type)for(var i in n.props)if("o"===i[0]&&"n"===i[1]&&"function"!=typeof n.props[i]&&null!=n.props[i])throw new Error("Component's \""+i+'" property should be a function, but got ['+typeof n.props[i]+"] instead\n"+b(n)+"\n\n"+f(n));if("function"==typeof n.type&&n.type.propTypes){if("Lazy"===n.type.displayName&&C&&!C.lazyPropTypes.has(n.type)){var s="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var l=n.type();C.lazyPropTypes.set(n.type,!0),console.warn(s+"Component wrapped in lazy() is "+a(l))}catch(e){console.warn(s+"We will log the wrapped component's name once it is loaded.")}}var u=n.props;n.type.__f&&delete(u=function(e,t){for(var n in t)e[n]=t[n];return e}({},u)).ref,function(e,t,n,r,i){Object.keys(e).forEach((function(n){var a;try{a=e[n](t,n,r,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}a&&!(a.message in o)&&(o[a.message]=!0,console.error("Failed prop type: "+a.message+(i&&"\n"+i()||"")))}))}(n.type.propTypes,u,0,a(n),(function(){return f(n)}))}t&&t(n)};var D,T=0;r.options.__r=function(t){u&&u(t),e=!0;var n=t.__c;if(n===D?T++:T=1,T>=25)throw new Error("Too many re-renders. This is limited to prevent an infinite loop which may lock up your browser. The component causing this is: "+a(t));D=n},r.options.__h=function(t,n,r){if(!t||!e)throw new Error("Hook can only be invoked from render methods.");y&&y(t,n,r)};var w=function(e,t){return{get:function(){var n="get"+e+t;E&&E.indexOf(n)<0&&(E.push(n),console.warn("getting vnode."+e+" is deprecated, "+t))},set:function(){var n="set"+e+t;E&&E.indexOf(n)<0&&(E.push(n),console.warn("setting vnode."+e+" is not allowed, "+t))}}},S={nodeName:w("nodeName","use vnode.type"),attributes:w("attributes","use vnode.props"),children:w("children","use vnode.props.children")},O=Object.create({},S);r.options.vnode=function(e){var t=e.props;if(null!==e.type&&null!=t&&("__source"in t||"__self"in t)){var n=e.props={};for(var r in t){var o=t[r];"__source"===r?e.__source=o:"__self"===r?e.__self=o:n[r]=o}}e.__proto__=O,i&&i(e)},r.options.diffed=function(t){var r,o=t.type,i=t.__;if(t.__k&&t.__k.forEach((function(e){if("object"==typeof e&&e&&void 0===e.type){var n=Object.keys(e).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+n+"}.\n\n"+f(t))}})),t.__c===D&&(T=0),"string"==typeof o&&(_(o)||"p"===o||"a"===o||"button"===o)){var s=h(i);if(""!==s&&_(o))"table"===o&&"td"!==s&&_(s)?(console.log(s,i.__e),console.error("Improper nesting of table. Your <table> should not have a table-node parent."+b(t)+"\n\n"+f(t))):"thead"!==o&&"tfoot"!==o&&"tbody"!==o||"table"===s?"tr"===o&&"thead"!==s&&"tfoot"!==s&&"tbody"!==s?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot> parent."+b(t)+"\n\n"+f(t)):"td"===o&&"tr"!==s?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+b(t)+"\n\n"+f(t)):"th"===o&&"tr"!==s&&console.error("Improper nesting of table. Your <th> should have a <tr>."+b(t)+"\n\n"+f(t)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+b(t)+"\n\n"+f(t));else if("p"===o){var l=g(t).filter((function(e){return v.test(e)}));l.length&&console.error("Improper nesting of paragraph. Your <p> should not have "+l.join(", ")+" as child-elements."+b(t)+"\n\n"+f(t))}else"a"!==o&&"button"!==o||-1!==g(t).indexOf(o)&&console.error("Improper nesting of interactive content. Your <"+o+"> should not have other "+("a"===o?"anchor":"button")+" tags as child-elements."+b(t)+"\n\n"+f(t))}if(e=!1,n&&n(t),null!=t.__k)for(var u=[],c=0;c<t.__k.length;c++){var d=t.__k[c];if(d&&null!=d.key){var p=d.key;if(-1!==u.indexOf(p)){console.error('Following component has two or more children with the same key attribute: "'+p+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+b(t)+"\n\n"+f(t));break}u.push(p)}}if(null!=t.__c&&null!=t.__c.__H){var m=t.__c.__H.__;if(m)for(var y=0;y<m.length;y+=1){var C=m[y];if(C.__H)for(var E=0;E<C.__H.length;E++)if((r=C.__H[E])!=r){var w=a(t);console.warn("Invalid argument passed to hook. Hooks should not be called with NaN in the dependency array. Hook index "+y+" in component "+w+" was called with NaN.")}}}}}()},14369:function(e,t,n){"use strict";n.r(t),n.d(t,{addHookName:function(){return i}});var r,o=n(6400);function i(e,t){return o.options.__a&&o.options.__a(t),e}null!=(r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0)&&r.__PREACT_DEVTOOLS__&&r.__PREACT_DEVTOOLS__.attachPreact("10.25.4",o.options,{Fragment:o.Fragment,Component:o.Component})},6400:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return S},Fragment:function(){return w},cloneElement:function(){return Z},createContext:function(){return q},createElement:function(){return E},createRef:function(){return T},h:function(){return E},hydrate:function(){return V},isValidElement:function(){return a},options:function(){return o},render:function(){return $},toChildArray:function(){return R}});var r,o,i,a,s,l,u,c,d,f,p,g,h,m={},_=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function b(e,t){for(var n in t)e[n]=t[n];return e}function C(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function E(e,t,n){var o,i,a,s={};for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return D(e,s,o,i,null)}function D(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==a?++i:a,__i:-1,__u:0};return null==a&&null!=o.vnode&&o.vnode(s),s}function T(){return{current:null}}function w(e){return e.children}function S(e,t){this.props=e,this.context=t}function O(e,t){if(null==t)return e.__?O(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?O(e):null}function A(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return A(e)}}function I(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!k.__r++||l!==o.debounceRendering)&&((l=o.debounceRendering)||u)(k)}function k(){var e,t,n,r,i,a,l,u;for(s.sort(c);e=s.shift();)e.__d&&(t=s.length,r=void 0,a=(i=(n=e).__v).__e,l=[],u=[],n.__P&&((r=b({},i)).__v=i.__v+1,o.vnode&&o.vnode(r),B(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[a]:null,l,null==a?O(i):a,!!(32&i.__u),u),r.__v=i.__v,r.__.__k[r.__i]=r,U(l,r,u),r.__e!=a&&A(r)),s.length>t&&s.sort(c));k.__r=0}function M(e,t,n,r,o,i,a,s,l,u,c){var d,f,p,g,h,v,y=r&&r.__k||_,b=t.length;for(l=x(n,t,y,l,b),d=0;d<b;d++)null!=(p=n.__k[d])&&(f=-1===p.__i?m:y[p.__i]||m,p.__i=d,v=B(e,p,f,o,i,a,s,l,u,c),g=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&H(f.ref,null,p),c.push(p.ref,p.__c||g,p)),null==h&&null!=g&&(h=g),4&p.__u||f.__k===p.__k?l=P(p,l,e):"function"==typeof p.type&&void 0!==v?l=v:g&&(l=g.nextSibling),p.__u&=-7);return n.__e=h,l}function x(e,t,n,r,o){var i,a,s,l,u,c=n.length,d=c,f=0;for(e.__k=new Array(o),i=0;i<o;i++)null!=(a=t[i])&&"boolean"!=typeof a&&"function"!=typeof a?(l=i+f,(a=e.__k[i]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?D(null,a,null,null,null):y(a)?D(w,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?D(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,s=null,-1!==(u=a.__i=F(a,n,l,d))&&(d--,(s=n[u])&&(s.__u|=2)),null==s||null===s.__v?(-1==u&&f--,"function"!=typeof a.type&&(a.__u|=4)):u!=l&&(u==l-1?f--:u==l+1?f++:(u>l?f--:f++,a.__u|=4))):e.__k[i]=null;if(d)for(i=0;i<c;i++)null!=(s=n[i])&&0==(2&s.__u)&&(s.__e==r&&(r=O(s)),z(s,s));return r}function P(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=P(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=O(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function R(e,t){return t=t||[],null==e||"boolean"==typeof e||(y(e)?e.some((function(e){R(e,t)})):t.push(e)),t}function F(e,t,n,r){var o,i,a=e.key,s=e.type,l=t[n];if(null===l||l&&a==l.key&&s===l.type&&0==(2&l.__u))return n;if(r>(null!=l&&0==(2&l.__u)?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((l=t[o])&&0==(2&l.__u)&&a==l.key&&s===l.type)return o;o--}if(i<t.length){if((l=t[i])&&0==(2&l.__u)&&a==l.key&&s===l.type)return i;i++}}return-1}function L(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||v.test(t)?n:n+"px"}function j(e,t,n,r,o){var i;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||L(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||L(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])i=t!=(t=t.replace(d,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=f,e.addEventListener(t,i?g:p,i)):e.removeEventListener(t,i?g:p,i);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function N(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=f++;else if(t.t<n.u)return;return n(o.event?o.event(t):t)}}}function B(e,t,n,r,i,a,s,l,u,c){var d,f,p,g,h,m,_,v,E,D,T,O,A,I,k,x,P,R=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),a=[l=t.__e=n.__e]),(d=o.__b)&&d(t);e:if("function"==typeof R)try{if(v=t.props,E="prototype"in R&&R.prototype.render,D=(d=R.contextType)&&r[d.__c],T=d?D?D.props.value:d.__:r,n.__c?_=(f=t.__c=n.__c).__=f.__E:(E?t.__c=f=new R(v,T):(t.__c=f=new S(v,T),f.constructor=R,f.render=G),D&&D.sub(f),f.props=v,f.state||(f.state={}),f.context=T,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),E&&null==f.__s&&(f.__s=f.state),E&&null!=R.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=b({},f.__s)),b(f.__s,R.getDerivedStateFromProps(v,f.__s))),g=f.props,h=f.state,f.__v=t,p)E&&null==R.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),E&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(E&&null==R.getDerivedStateFromProps&&v!==g&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(v,T),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(v,f.__s,T)||t.__v==n.__v)){for(t.__v!=n.__v&&(f.props=v,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[],f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(v,f.__s,T),E&&null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(g,h,m)}))}if(f.context=T,f.props=v,f.__P=e,f.__e=!1,A=o.__r,I=0,E){for(f.state=f.__s,f.__d=!1,A&&A(t),d=f.render(f.props,f.state,f.context),k=0;k<f._sb.length;k++)f.__h.push(f._sb[k]);f._sb=[]}else do{f.__d=!1,A&&A(t),d=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++I<25);f.state=f.__s,null!=f.getChildContext&&(r=b(b({},r),f.getChildContext())),E&&!p&&null!=f.getSnapshotBeforeUpdate&&(m=f.getSnapshotBeforeUpdate(g,h)),l=M(e,y(x=null!=d&&d.type===w&&null==d.key?d.props.children:d)?x:[x],t,n,r,i,a,s,l,u,c),f.base=t.__e,t.__u&=-161,f.__h.length&&s.push(f),_&&(f.__E=f.__=null)}catch(e){if(t.__v=null,u||null!=a)if(e.then){for(t.__u|=u?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else for(P=a.length;P--;)C(a[P]);else t.__e=n.__e,t.__k=n.__k;o.__e(e,t,n)}else null==a&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=W(n.__e,t,n,r,i,a,s,u,c);return(d=o.diffed)&&d(t),128&t.__u?void 0:l}function U(e,t,n){for(var r=0;r<n.length;r++)H(n[r],n[++r],n[++r]);o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function W(e,t,n,i,a,s,l,u,c){var d,f,p,g,h,_,v,b=n.props,E=t.props,D=t.type;if("svg"==D?a="http://www.w3.org/2000/svg":"math"==D?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=s)for(d=0;d<s.length;d++)if((h=s[d])&&"setAttribute"in h==!!D&&(D?h.localName==D:3==h.nodeType)){e=h,s[d]=null;break}if(null==e){if(null==D)return document.createTextNode(E);e=document.createElementNS(a,D,E.is&&E),u&&(o.__m&&o.__m(t,s),u=!1),s=null}if(null===D)b===E||u&&e.data===E||(e.data=E);else{if(s=s&&r.call(e.childNodes),b=n.props||m,!u&&null!=s)for(b={},d=0;d<e.attributes.length;d++)b[(h=e.attributes[d]).name]=h.value;for(d in b)if(h=b[d],"children"==d);else if("dangerouslySetInnerHTML"==d)p=h;else if(!(d in E)){if("value"==d&&"defaultValue"in E||"checked"==d&&"defaultChecked"in E)continue;j(e,d,null,h,a)}for(d in E)h=E[d],"children"==d?g=h:"dangerouslySetInnerHTML"==d?f=h:"value"==d?_=h:"checked"==d?v=h:u&&"function"!=typeof h||b[d]===h||j(e,d,h,b[d],a);if(f)u||p&&(f.__html===p.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(p&&(e.innerHTML=""),M(e,y(g)?g:[g],t,n,i,"foreignObject"==D?"http://www.w3.org/1999/xhtml":a,s,l,s?s[0]:n.__k&&O(n,0),u,c),null!=s)for(d=s.length;d--;)C(s[d]);u||(d="value","progress"==D&&null==_?e.removeAttribute("value"):void 0!==_&&(_!==e[d]||"progress"==D&&!_||"option"==D&&_!==b[d])&&j(e,d,_,b[d],a),d="checked",void 0!==v&&v!==e[d]&&j(e,d,v,b[d],a))}return e}function H(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){o.__e(e,n)}}function z(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||H(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&z(r[i],t,n||"function"!=typeof e.type);n||C(e.__e),e.__c=e.__=e.__e=void 0}function G(e,t,n){return this.constructor(e,n)}function $(e,t,n){var i,a,s,l;t==document&&(t=document.documentElement),o.__&&o.__(e,t),a=(i="function"==typeof n)?null:n&&n.__k||t.__k,s=[],l=[],B(t,e=(!i&&n||t).__k=E(w,null,[e]),a||m,m,t.namespaceURI,!i&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!i&&n?n:a?a.__e:t.firstChild,i,l),U(s,e,l)}function V(e,t){$(e,t,V)}function Z(e,t,n){var o,i,a,s,l=b({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==a?o=t[a]:"ref"==a?i=t[a]:l[a]=void 0===t[a]&&void 0!==s?s[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),D(e.type,l,o||e.key,i||e.ref,null)}function q(e,t){var n={__c:t="__cC"+h++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=new Set,(r={})[t]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.forEach((function(e){e.__e=!0,I(e)}))},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=_.slice,o={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},i=0,a=function(e){return null!=e&&null==e.constructor},S.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=b({},this.state),"function"==typeof e&&(e=e(b({},n),this.props)),e&&b(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),I(this))},S.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),I(this))},S.prototype.render=w,s=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},k.__r=0,d=/(PointerCapture)$|Capture$/i,f=0,p=N(!1),g=N(!0),h=0},30396:function(e,t,n){"use strict";n.d(t,{I4:function(){return w},Me:function(){return I},Qb:function(){return O},Ye:function(){return T},_Y:function(){return y},aP:function(){return D},bt:function(){return C},cO:function(){return A},d4:function(){return b},eJ:function(){return v},qp:function(){return S},sO:function(){return E}});var r,o,i,a,s=n(6400),l=0,u=[],c=s.options,d=c.__b,f=c.__r,p=c.diffed,g=c.__c,h=c.unmount,m=c.__;function _(e,t){c.__h&&c.__h(o,e,l||t),l=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function v(e){return l=1,y(L,e)}function y(e,t,n){var i=_(r++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):L(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=o,!o.u)){var a=function(e,t,n){if(!i.__c.__H)return!0;var r=i.__c.__H.__.filter((function(e){return!!e.__c}));if(r.every((function(e){return!e.__N})))return!s||s.call(this,e,t,n);var o=i.__c.props!==e;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),s&&s.call(this,e,t,n)||o};o.u=!0;var s=o.shouldComponentUpdate,l=o.componentWillUpdate;o.componentWillUpdate=function(e,t,n){if(this.__e){var r=s;s=void 0,a(e,t,n),s=r}l&&l.call(this,e,t,n)},o.shouldComponentUpdate=a}return i.__N||i.__}function b(e,t){var n=_(r++,3);!c.__s&&F(n.__H,t)&&(n.__=e,n.i=t,o.__H.__h.push(n))}function C(e,t){var n=_(r++,4);!c.__s&&F(n.__H,t)&&(n.__=e,n.i=t,o.__h.push(n))}function E(e){return l=5,T((function(){return{current:e}}),[])}function D(e,t,n){l=6,C((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function T(e,t){var n=_(r++,7);return F(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function w(e,t){return l=8,T((function(){return e}),t)}function S(e){var t=o.context[e.__c],n=_(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(o)),t.props.value):e.__}function O(e,t){c.useDebugValue&&c.useDebugValue(t?t(e):e)}function A(e){var t=_(r++,10),n=v();return t.__=e,o.componentDidCatch||(o.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]}function I(){var e=_(r++,11);if(!e.__){for(var t=o.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function k(){for(var e;e=u.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(P),e.__H.__h.forEach(R),e.__H.__h=[]}catch(t){e.__H.__h=[],c.__e(t,e.__v)}}c.__b=function(e){o=null,d&&d(e)},c.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),m&&m(e,t)},c.__r=function(e){f&&f(e),r=0;var t=(o=e.__c).__H;t&&(i===o?(t.__h=[],o.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(P),t.__h.forEach(R),t.__h=[],r=0)),i=o},c.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==u.push(t)&&a===c.requestAnimationFrame||((a=c.requestAnimationFrame)||x)(k)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),i=o=null},c.__c=function(e,t){t.some((function(e){try{e.__h.forEach(P),e.__h=e.__h.filter((function(e){return!e.__||R(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],c.__e(n,e.__v)}})),g&&g(e,t)},c.unmount=function(e){h&&h(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{P(e)}catch(e){t=e}})),n.__H=void 0,t&&c.__e(t,n.__v))};var M="function"==typeof requestAnimationFrame;function x(e){var t,n=function(){clearTimeout(r),M&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);M&&(t=requestAnimationFrame(n))}function P(e){var t=o,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),o=t}function R(e){var t=o;e.__c=e.__(),o=t}function F(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function L(e,t){return"function"==typeof t?t(e):t}},16584:function(e,t,n){"use strict";n.d(t,{BX:function(){return i},HY:function(){return r.Fragment},tZ:function(){return i}});var r=n(6400);var o=0;Array.isArray;function i(e,t,n,i,a,s){t||(t={});var l,u,c=t;if("ref"in c)for(u in c={},t)"ref"==u?l=t[u]:c[u]=t[u];var d={type:e,props:c,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--o,__i:-1,__u:0,__source:a,__self:s};if("function"==typeof e&&(l=e.defaultProps))for(u in l)void 0===c[u]&&(c[u]=l[u]);return r.options.vnode&&r.options.vnode(d),d}},92703:function(e,t,n){"use strict";var r=n(50414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},55760:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,o=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),l=new t(512),u=new t(512);function c(e){return s.get(e)||s.set(e,d(e).map((function(e){return e.replace(a,"$2")})))}function d(e){return e.match(n)||[""]}function f(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function p(e){return!f(e)&&(function(e){return e.match(o)&&!e.match(r)}(e)||function(e){return i.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:c,setter:function(e){var t=c(e);return l.get(e)||l.set(e,(function(e,n){for(var r=0,o=t.length,i=e;r<o-1;){var a=t[r];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;i=i[t[r++]]}i[t[r]]=n}))},getter:function(e,t){var n=c(e);return u.get(e)||u.set(e,(function(e){for(var r=0,o=n.length;r<o;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(f(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,o,i,a,s=e.length;for(o=0;o<s;o++)(r=e[o])&&(p(r)&&(r='"'+r+'"'),i=!(a=f(r))&&/^\d+$/.test(r),t.call(n,r,a,i,o,e))}(Array.isArray(e)?e:d(e),t,n)}}},28843:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.9044 15.2138C18.5013 14.8056 17.9637 14.5896 17.3773 14.5896C16.7787 14.5896 16.1923 14.8176 15.7526 15.2498C15.3372 15.646 15.0196 16.1381 14.8363 16.6784C14.1155 16.6063 11.7567 15.1092 10.3029 13.6446C8.89803 12.2161 7.40653 9.84261 7.32102 9.11033C7.88298 8.95427 8.39607 8.65415 8.81143 8.258C9.25122 7.83784 9.50777 7.29764 9.5322 6.70941C9.55663 6.12119 9.34895 5.56898 8.94581 5.16082L7.3821 3.57622C7.01561 3.20408 6.52695 3 5.98942 3C5.43968 3 4.91437 3.21608 4.51123 3.60023L4.2669 3.84032C3.93705 4.14043 3.68051 4.50057 3.50948 4.89672C3.48504 4.95675 2.80092 6.45732 3.05747 7.58575C3.10633 7.75381 4.47667 12.0854 8.23834 15.6494C12 19.2133 16.0824 20.8679 16.2656 20.928C16.4611 20.976 16.681 21 16.9131 21C17.9027 21 18.9533 20.5798 18.9899 20.5678C19.4053 20.3998 19.7718 20.1597 20.1016 19.8596L20.346 19.6195C21.1645 18.8392 21.2255 17.5667 20.4681 16.7984L18.9044 15.2138Z" fill="_COLOR1_"/>\n</svg>\n'},2482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M16.5 8v9.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V7a2.5 2.5 0 0 1 5 0v8.5c0 .55-.45 1-1 1s-1-.45-1-1V8H10v7.5a2.5 2.5 0 0 0 5 0V7c0-2.21-1.79-4-4-4S7 4.79 7 7v10.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V8h-1.5z"/>\n</svg>\n'},92809:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M.941 0h15v15h-15z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M3.497 9.624c.36.002.694-.14.954-.401.266-.266.425-.627.428-1.014.009-.36-.069-.72-.227-1.04.352-.288 2.063-.67 3.357-.665 1.258.01 2.972.401 3.335.688-.18.319-.274.68-.283 1.04-.009.381.117.735.367 1.007.25.271.588.424.948.426l1.396.01c.328.002.635-.124.874-.363.244-.243.381-.572.39-.922l.001-.215a1.932 1.932 0 0 0-.132-.804c-.016-.038-.378-1.007-.993-1.394-.096-.053-2.626-1.367-5.876-1.279-3.25.088-5.796 1.165-5.904 1.22a1.718 1.718 0 0 0-.319.255c-.439.439-.719 1.091-.73 1.113-.11.259-.165.528-.178.808l-.002.214c-.017.71.52 1.301 1.197 1.306l1.397.01z"/></g></svg>'},87409:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z"/><path fill="#18C139" fill-rule="nonzero" d="M12.603 10.143a1.408 1.408 0 0 0-1.018-.417c-.4 0-.79.152-1.083.44a2.377 2.377 0 0 0-.611.953c-.48-.048-2.053-1.046-3.022-2.023-.937-.952-1.931-2.534-1.988-3.022.374-.104.716-.305.993-.569.293-.28.465-.64.48-1.032a1.372 1.372 0 0 0-.39-1.032L4.92 2.384A1.285 1.285 0 0 0 3.993 2c-.367 0-.717.144-.986.4l-.162.16c-.22.2-.391.44-.505.704-.017.04-.473 1.04-.302 1.793.033.112.946 3 3.454 5.376 2.508 2.376 5.23 3.479 5.352 3.519.13.032.277.048.431.048.66 0 1.36-.28 1.385-.288.277-.112.521-.272.741-.472l.163-.16c.546-.52.586-1.369.081-1.881l-1.042-1.056z"/></g></svg>'},85972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd" transform="translate(3 4)">\n    <circle cx="8.5" cy="8.5" r="9.3" stroke="_COLOR1_" stroke-width="1.6"/>\n    <circle cx="5.375" cy="6.375" r="1.375" fill="_COLOR1_"/>\n    <circle cx="11.875" cy="6.375" r="1.375" fill="_COLOR1_" transform="matrix(-1 0 0 1 23.75 0)"/>\n    <path stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.6" d="M4.25 10.5S4.5 13 8.5 13s4.25-2.5 4.25-2.5"/>\n  </g>\n</svg>'},28336:function(e,t,n){"use strict";n.r(t),t.default='<svg width="25" height="20" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg"><path fill=\'_COLOR1_\' d="M22.5 5l-10 6.25L2.5 5V2.5l10 6.25 10-6.25V5zm0-5h-20A2.49 2.49 0 0 0 0 2.5v15A2.5 2.5 0 0 0 2.5 20h20a2.5 2.5 0 0 0 2.5-2.5v-15A2.5 2.5 0 0 0 22.5 0z"/></svg>\n'},21525:function(e,t,n){"use strict";n.r(t),t.default='<svg width="84" height="65" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity=".6" d="M41.9983 64.5c-.9715 0-1.8662-.2429-2.6843-.7286-.7925-.4857-1.4316-1.1376-1.9173-1.9556-.4602-.7925-.6902-1.6745-.6902-2.6459 0-.997.23-1.8918.6902-2.6843.4857-.7925 1.1248-1.4316 1.9173-1.9173.8181-.4857 1.7128-.7286 2.6843-.7286.9714 0 1.8534.2429 2.6459.7286.818.4857 1.4571 1.1248 1.9173 1.9173.4857.7925.7285 1.6873.7285 2.6843 0 .9714-.2428 1.8534-.7285 2.6459-.4602.818-1.0993 1.4699-1.9173 1.9556-.7925.4857-1.6745.7286-2.6459.7286Zm.0383-16.7573c-.8692 0-1.5722-.2557-2.109-.767-.5369-.5368-.8181-1.2654-.8437-2.1857-.0255-2.7098-.0511-5.4452-.0767-8.2061-.0255-2.761-.0511-5.5091-.0766-8.2445-.0256-2.7353-.0512-5.4707-.0767-8.2061 0-2.7609-.0128-5.5091-.0384-8.2444-.0256-2.73541-.0511-5.47079-.0767-8.20616 0-.94587.3196-1.7128.9587-2.30077C40.3366.793988 41.1035.5 41.9983.5c.8691 0 1.6361.293988 2.3007.88197.6647.58797.997 1.3549.997 2.30077-.0255 2.73537-.0511 5.47075-.0767 8.20616-.0255 2.7353-.0511 5.4835-.0766 8.2444 0 2.7354-.0128 5.4708-.0384 8.2061-.0256 2.7354-.0511 5.4835-.0767 8.2445 0 2.7609-.0128 5.4963-.0383 8.2061 0 .9203-.2812 1.6489-.8437 2.1857-.5368.5113-1.2398.767-2.109.767ZM33.447 5.40833l.1534 10.73697c-4.8828.7925-9.4843 2.3391-13.8047 4.6399-4.2947 2.3008-8.1805 5.3046-11.65724 9.0114-.33233.3323-.72858.5113-1.18874.5368-.43459 0-.81805-.1661-1.15039-.4985L.891007 24.8883c-.281207-.3324-.434592-.6775-.460156-1.0354 0-.3835.127821-.7286.383463-1.0353C3.16622 19.9032 6.0422 17.2573 9.44223 14.8799c3.40007-2.3775 7.13237-4.3715 11.19717-5.98206 4.0902-1.63611 8.3595-2.79928 12.8076-3.48951Zm17.0641 0c4.4993.66467 8.7813 1.81506 12.8461 3.45117 4.0647 1.6361 7.7843 3.6557 11.1587 6.0587 3.4001 2.3775 6.3016 5.0106 8.7046 7.8994.2557.3067.3707.6518.3452 1.0353 0 .3579-.1534.703-.4602 1.0354l-4.9083 4.8699c-.3324.3324-.7158.5113-1.1504.5369-.409 0-.7797-.1662-1.1121-.4985-3.5278-3.6813-7.4519-6.6723-11.7723-8.9731-4.2948-2.3263-8.8835-3.8857-13.7663-4.6782l.115-10.73697Zm-.1533 21.47397c3.8601.7925 7.388 2.1474 10.5835 4.0647 3.1956 1.8917 5.8031 4.0647 7.8227 6.5188.2812.3324.409.6775.3834 1.0354-.0255.3579-.1917.6774-.4985.9587l-5.4835 5.4451c-.3579.3324-.7413.5113-1.1504.5369-.409 0-.7797-.179-1.112-.5369-1.3805-1.4571-2.9782-2.7737-4.7933-3.9496-1.7895-1.2016-3.7196-2.1602-5.7903-2.876l.0384-11.1971Zm-16.6807 0 .0767 11.1587c-2.0451.7158-3.9625 1.6617-5.7519 2.8377-1.7895 1.1504-3.3617 2.4669-4.7166 3.9496-.3579.3835-.7542.6008-1.1888.6519-.4346.0256-.8436-.1534-1.2271-.5368l-5.4835-5.4835c-.3323-.3068-.5113-.6264-.5368-.9587 0-.3579.1278-.703.3834-1.0354 2.0963-2.5052 4.7294-4.691 7.8994-6.5572 3.1955-1.8662 6.7106-3.2083 10.5452-4.0263Z" fill="url(#a)"/><defs><linearGradient id="a" x1="42" y1=".5" x2="42" y2="64.5" gradientUnits="userSpaceOnUse"><stop stop-color="#8796A5"/><stop offset="1" stop-color="#C6C6C6"/></linearGradient></defs></svg>'},38353:function(e,t,n){"use strict";n.r(t),t.default='<svg width="30" height="31" viewBox="0 0 30 31" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M2.967 22.226l-.025.008s7.698 13.9 26.975 5.546c0 0-1.495-1.752-4.384-3.52a14.067 14.067 0 0 0 2.588-14.047c-2.655-7.297-10.7-11.07-17.964-8.425C2.89 4.433-.847 12.492 1.81 19.79c.313.863.703 1.677 1.157 2.436z" fill-rule="evenodd"/></svg>\n'},22764:function(e,t,n){"use strict";n.r(t),t.default='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: sketchtool 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>ABB53DC4-C95A-47C0-BDA2-177372AC59FA</title>\n    <desc>Created with sketchtool.</desc>\n    <defs></defs>\n    <g id="3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="ios-Full" transform="translate(-64.000000, -499.000000)" fill="#0076FF">\n            <g id="popup" transform="translate(0.000000, 190.000000)">\n                <path d="M65.0702042,309.547272 C63.6395848,310.838212 63.3600869,312.442576 66.0124393,316.105342 C68.6644642,319.767967 72.3286805,322.837952 74.9458442,324.128565 C77.5634291,325.418898 78.6800637,324.72144 79.4127573,323.709857 C80.1457784,322.697899 80.1457784,321.895624 79.0291437,321.058674 C77.9121815,320.22121 76.3420236,318.616705 74.9110766,319.802641 C73.4804572,320.988905 72.5381753,319.73334 72.1194665,319.279396 C71.8161507,318.951279 69.6064185,316.733031 69.1531761,316.279648 C68.6992786,315.825984 68.3153375,314.710145 69.1180342,313.837773 C69.9210116,312.965822 68.8470059,311.39805 68.5596934,311.04752 C68.2457086,310.663579 66.9719412,307.831492 65.0702042,309.547272" id="Page-1"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},34948:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path fill="_COLOR1_" d="M.813.006l9.18 9.18-.806.807L.007.813z"/><path fill="_COLOR1_" d="M9.994.813l-9.18 9.18-.808-.806 9.18-9.18z"/></svg>\n'},12298:function(e,t,n){"use strict";n.r(t),t.default='<svg width="10" height="35" viewBox="0 0 9 35" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M1.31 34.966H.975c-.295 0-.53-.09-.71-.27C.09 34.516 0 34.3 0 34.05v-2.33c0-.25.097-.465.288-.645.193-.18.42-.27.687-.27H1.3c1.776 0 3.223-1.37 3.238-3.06v-8.94H.975c-.236 0-.458-.09-.665-.27-.206-.18-.31-.395-.31-.645v-2.33c0-.223.104-.43.31-.625.207-.194.43-.292.665-.292h7.019c.266 0 .494.09.687.27.192.182.29.396.29.646V27.77c0 .032-.008.058-.01.09-.08 3.937-3.477 7.098-7.65 7.104zM.318 0C-.25 11.117 8.62 12.702 8.62 12.702 8.17.522.318 0 .318 0z"/></svg>\n'},54446:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path fill="_COLOR1_" fill-rule="evenodd" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z"/>\n        <path fill="_COLOR2_" fill-rule="evenodd" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z"/>\n    </g>\n</svg>\n'},30349:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18">\n    <path fill="_COLOR1_" d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd"/>\n    <path fill="_COLOR2_" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill-rule="evenodd"/>\n</svg>'},43832:function(e,t){"use strict";t.Z='<svg width="12" height="9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.25 6.433 1.818 4.001l-.829.822L4.25 8.084l7-7-.822-.822L4.25 6.433Z" fill="_COLOR1_"/></svg>'},80441:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n    <g fill="none" fill-rule="evenodd" transform="translate(2 2)">\n        <circle cx="12" cy="12" r="12" fill="#FFF" opacity="1"/>\n        <circle cx="12" cy="12" r="12.75" stroke="#222D38" stroke-width="1.5" opacity="1"/>\n        <g fill="#222D38" opacity="1" transform="translate(6 6)">\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="rotate(45 6.24 6.01)"/>\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="scale(-1 1) rotate(45 0 -9.058)"/>\n        </g>\n    </g>\n</svg>\n'},66574:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="24"><defs/><g fill="none" fill-rule="evenodd"><path d="M0 0h12v24H0z"/><circle cx="6" cy="5" r="2" fill="_COLOR1_"/><circle cx="6" cy="12" r="2" fill="_COLOR1_"/><circle cx="6" cy="19" r="2" fill="_COLOR1_"/></g></svg>'},88921:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="_COLOR1_" fill-rule="evenodd" transform="translate(7 7)">\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="rotate(45 5.81 5.595)"/>\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="scale(-1 1) rotate(45 0 -8.433)"/>\n  </g>\n</svg>'},31617:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="34"><path fill="_COLOR1_" d="M81.9 6.6h3.2v.8h-3.2zM9.2 20.2c.6.1 1.3.1 2 .1 3.9 0 7.3-1.2 9.4-3.6 1.6-1.7 2.4-4.1 2.4-7 0-2.9-1-5.3-2.7-6.9C18.4 1 15.5 0 11.6 0 8.4 0 5.9.3 4 .6v16.2H0v3.3h4V25H.1v3.3H4v5.4h4v-5.4h6.6V25H8v-4.8h1.2zM8 16.5V3.7c.7-.2 2-.3 3.7-.3 4.4 0 7.3 2.1 7.3 6.5 0 4.5-2.9 7-7.7 7-1.4 0-2.5-.1-3.3-.4z"/></svg>'},28122:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},36972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g fill="none" fill-rule="evenodd" transform="rotate(-90 12 12)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.5" mask="url(#b)"><path d="M13.343 16.814l-4.657-4.657L13.343 7.5"/></g></g></svg>'},39581:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 3v12.5a3.5 3.5 0 1 1-2-3.16V6.47L9 8.6v8.9a3.5 3.5 0 1 1-2-3.16V6l14-3z"/></g></svg>'},54304:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g></svg>\n'},28149:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M13 9V3.5L18.5 9H13zM6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6z"/></g></svg>'},28372:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10c5.523 0 10-4.477 10-10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>'},69357:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 18V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"/></g></svg>'},43055:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></g></svg>'},54983:function(e,t,n){"use strict";n.r(t),t.default='<svg width="33" height="42" viewBox="0 0 33 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.14273 26.7757C8.82522 26.7757 9.37848 27.3289 9.37848 28.0114C9.37848 31.8539 12.5045 34.98 16.347 34.98C20.1896 34.98 23.3156 31.8539 23.3156 28.0114C23.3156 27.3289 23.8689 26.7757 24.5514 26.7757C25.2338 26.7757 25.7871 27.3289 25.7871 28.0114C25.7871 33.2167 21.5524 37.4515 16.347 37.4515C11.1419 37.4515 6.90697 33.2167 6.90697 28.0114C6.90697 27.3289 7.46032 26.7757 8.14273 26.7757Z" fill="#445669"/>\n<path d="M16.3472 16.5601C18.8966 16.5601 20.9707 18.6342 20.9707 21.1836V28.3054C20.9707 30.8549 18.8966 32.929 16.3472 32.929C13.7978 32.929 11.7237 30.8549 11.7237 28.3054V21.1836C11.7237 18.6342 13.7978 16.5601 16.3472 16.5601ZM14.1952 28.3054C14.1952 29.4921 15.1606 30.4575 16.3472 30.4575C17.5337 30.4575 18.4992 29.492 18.4992 28.3054V21.1836C18.4992 19.997 17.5337 19.0316 16.3472 19.0316C15.1606 19.0316 14.1952 19.997 14.1952 21.1836V28.3054Z" fill="#445669"/>\n<path d="M16.3468 34.9799C17.0293 34.9799 17.5825 35.5332 17.5825 36.2157V40.0394C17.5825 40.7218 17.0293 41.2751 16.3468 41.2751C15.6643 41.2751 15.111 40.7218 15.111 40.0394V36.2157C15.111 35.5333 15.6643 34.9799 16.3468 34.9799Z" fill="#445669"/>\n<path d="M8.44618 14.7048C10.5565 12.5943 13.3624 11.4321 16.3471 11.4321C19.3317 11.4321 22.1376 12.5943 24.2479 14.7048C24.7305 15.1873 24.7305 15.9699 24.2479 16.4524C23.7654 16.9349 22.9828 16.9349 22.5004 16.4524C20.8568 14.8088 18.6714 13.9036 16.3471 13.9036C14.0227 13.9036 11.8374 14.8088 10.1938 16.4524C9.95256 16.6937 9.63631 16.8143 9.31997 16.8143C9.00372 16.8143 8.68754 16.6936 8.4461 16.4524C7.96362 15.9698 7.96362 15.1873 8.44618 14.7048Z" fill="#445669"/>\n<path d="M4.28306 10.5426C10.9346 3.89089 21.7579 3.89089 28.4096 10.5426C28.8921 11.0251 28.8921 11.8076 28.4096 12.2901C27.927 12.7727 27.1445 12.7726 26.662 12.2901C20.9738 6.60215 11.7188 6.60215 6.03064 12.2901C5.78944 12.5315 5.47319 12.6521 5.15685 12.6521C4.84052 12.6521 4.52434 12.5314 4.28306 12.2901C3.8005 11.8076 3.8005 11.0252 4.28306 10.5426Z" fill="#445669"/>\n<path d="M0.361938 6.62111C4.63165 2.35139 10.3084 0 16.3467 0C22.3849 0 28.0617 2.35139 32.3314 6.62103C32.814 7.10359 32.814 7.88604 32.3314 8.36861C31.8489 8.85117 31.0663 8.85117 30.5839 8.36861C22.7335 0.518277 9.95993 0.518277 2.10952 8.36861C1.86832 8.60997 1.55206 8.73057 1.23573 8.73057C0.919476 8.73057 0.603302 8.60997 0.361938 8.36869C-0.120625 7.88612 -0.120625 7.10375 0.361938 6.62111Z" fill="#445669"/>\n</svg>\n'},23791:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DD2E44" d="M11.626 7.488c-.112.112-.197.247-.268.395l-.008-.008L.134 33.141l.011.011c-.208.403.14 1.223.853 1.937.713.713 1.533 1.061 1.936.853l.01.01L28.21 24.735l-.008-.009c.147-.07.282-.155.395-.269 1.562-1.562-.971-6.627-5.656-11.313-4.687-4.686-9.752-7.218-11.315-5.656z"/><path fill="#EA596E" d="M13 12L.416 32.506l-.282.635.011.011c-.208.403.14 1.223.853 1.937.232.232.473.408.709.557L17 17l-4-5z"/><path fill="#A0041E" d="M23.012 13.066c4.67 4.672 7.263 9.652 5.789 11.124-1.473 1.474-6.453-1.118-11.126-5.788-4.671-4.672-7.263-9.654-5.79-11.127 1.474-1.473 6.454 1.119 11.127 5.791z"/><path fill="#AA8DD8" d="M18.59 13.609c-.199.161-.459.245-.734.215-.868-.094-1.598-.396-2.109-.873-.541-.505-.808-1.183-.735-1.862.128-1.192 1.324-2.286 3.363-2.066.793.085 1.147-.17 1.159-.292.014-.121-.277-.446-1.07-.532-.868-.094-1.598-.396-2.11-.873-.541-.505-.809-1.183-.735-1.862.13-1.192 1.325-2.286 3.362-2.065.578.062.883-.057 1.012-.134.103-.063.144-.123.148-.158.012-.121-.275-.446-1.07-.532-.549-.06-.947-.552-.886-1.102.059-.549.55-.946 1.101-.886 2.037.219 2.973 1.542 2.844 2.735-.13 1.194-1.325 2.286-3.364 2.067-.578-.063-.88.057-1.01.134-.103.062-.145.123-.149.157-.013.122.276.446 1.071.532 2.037.22 2.973 1.542 2.844 2.735-.129 1.192-1.324 2.286-3.362 2.065-.578-.062-.882.058-1.012.134-.104.064-.144.124-.148.158-.013.121.276.446 1.07.532.548.06.947.553.886 1.102-.028.274-.167.511-.366.671z"/><path fill="#77B255" d="M30.661 22.857c1.973-.557 3.334.323 3.658 1.478.324 1.154-.378 2.615-2.35 3.17-.77.216-1.001.584-.97.701.034.118.425.312 1.193.095 1.972-.555 3.333.325 3.657 1.479.326 1.155-.378 2.614-2.351 3.17-.769.216-1.001.585-.967.702.033.117.423.311 1.192.095.53-.149 1.084.16 1.233.691.148.532-.161 1.084-.693 1.234-1.971.555-3.333-.323-3.659-1.479-.324-1.154.379-2.613 2.353-3.169.77-.217 1.001-.584.967-.702-.032-.117-.422-.312-1.19-.096-1.974.556-3.334-.322-3.659-1.479-.325-1.154.378-2.613 2.351-3.17.768-.215.999-.585.967-.701-.034-.118-.423-.312-1.192-.096-.532.15-1.083-.16-1.233-.691-.149-.53.161-1.082.693-1.232z"/><path fill="#AA8DD8" d="M23.001 20.16c-.294 0-.584-.129-.782-.375-.345-.432-.274-1.061.156-1.406.218-.175 5.418-4.259 12.767-3.208.547.078.927.584.849 1.131-.078.546-.58.93-1.132.848-6.493-.922-11.187 2.754-11.233 2.791-.186.148-.406.219-.625.219z"/><path fill="#77B255" d="M5.754 16c-.095 0-.192-.014-.288-.042-.529-.159-.829-.716-.67-1.245 1.133-3.773 2.16-9.794.898-11.364-.141-.178-.354-.353-.842-.316-.938.072-.849 2.051-.848 2.071.042.551-.372 1.031-.922 1.072-.559.034-1.031-.372-1.072-.923-.103-1.379.326-4.035 2.692-4.214 1.056-.08 1.933.287 2.552 1.057 2.371 2.951-.036 11.506-.542 13.192-.13.433-.528.712-.958.712z"/><circle fill="#5C913B" cx="25.5" cy="9.5" r="1.5"/><circle fill="#9266CC" cx="2" cy="18" r="2"/><circle fill="#5C913B" cx="32.5" cy="19.5" r="1.5"/><circle fill="#5C913B" cx="23.5" cy="31.5" r="1.5"/><circle fill="#FFCC4D" cx="28" cy="4" r="2"/><circle fill="#FFCC4D" cx="32.5" cy="8.5" r="1.5"/><circle fill="#FFCC4D" cx="29.5" cy="12.5" r="1.5"/><circle fill="#FFCC4D" cx="7.5" cy="23.5" r="1.5"/></svg>'},56482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 17.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885C8.195 34.219 7.633 36 11.238 36h18.044c1.838 0 3.333-1.496 3.333-3.334 0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336.757-.611 1.251-1.535 1.251-2.581z"/><path fill="#EE9547" d="M23.02 21.249h8.604c1.17 0 2.268-.626 2.866-1.633.246-.415.109-.952-.307-1.199-.415-.247-.952-.108-1.199.307-.283.479-.806.775-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H28.7c.483 0 .875-.392.875-.875s-.392-.875-.875-.875h-5.888c-1.838 0-3.333 1.495-3.333 3.333 0 1.025.475 1.932 1.205 2.544-.615.605-.998 1.445-.998 2.373 0 1.028.478 1.938 1.212 2.549-.611.604-.99 1.441-.99 2.367 0 1.12.559 2.108 1.409 2.713-.524.589-.852 1.356-.852 2.204 0 1.838 1.495 3.333 3.333 3.333h5.484c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.416-.245-.953-.11-1.199.305-.285.479-.808.776-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506c1.17 0 2.27-.626 2.867-1.633.247-.416.11-.953-.305-1.199-.419-.251-.954-.11-1.199.305-.289.487-.799.777-1.363.777h-7.063c-.873 0-1.583-.711-1.583-1.584s.71-1.583 1.583-1.583h8.091c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.417-.246-.953-.11-1.199.305-.289.486-.799.776-1.363.776H23.02c-.873 0-1.583-.71-1.583-1.583s.709-1.584 1.583-1.584z"/></svg>'},63365:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 18.084c0 .503-.12.975-.321 1.404-1.341 4.326-7.619 4.01-16.549 4.221-1.493.035-.639 1.798-.115 5.668.341 2.517-1.282 6.382-4.01 6.382-4.498 0-.171-3.548-4.148-12.322-2.125-4.688-6.875-2.062-6.875-6.771V5.948c0-1.833.18-3.595 2.758-3.885C8.195 1.781 7.633 0 11.238 0h18.044c1.838 0 3.333 1.496 3.333 3.334 0 .762-.267 1.456-.698 2.018 1.02.571 1.72 1.649 1.72 2.899 0 .76-.266 1.454-.696 2.015 1.023.57 1.725 1.649 1.725 2.901 0 .909-.368 1.733-.961 2.336.757.611 1.251 1.535 1.251 2.581z"/><path fill="#EE9547" d="M23.02 14.751h8.604c1.17 0 2.268.626 2.866 1.633.246.415.109.952-.307 1.199-.415.247-.952.108-1.199-.307-.283-.479-.806-.775-1.361-.775h-8.81c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583H28.7c.483 0 .875.392.875.875s-.392.875-.875.875h-5.888c-1.838 0-3.333-1.495-3.333-3.333 0-1.025.475-1.932 1.205-2.544-.615-.605-.998-1.445-.998-2.373 0-1.028.478-1.938 1.212-2.549-.611-.604-.99-1.441-.99-2.367 0-1.12.559-2.108 1.409-2.713-.524-.589-.852-1.356-.852-2.204 0-1.838 1.495-3.333 3.333-3.333h5.484c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.416.245-.953.11-1.199-.305-.285-.479-.808-.776-1.363-.776h-5.484c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583h6.506c1.17 0 2.27.626 2.867 1.633.247.416.11.953-.305 1.199-.419.251-.954.11-1.199-.305-.289-.487-.799-.777-1.363-.777h-7.063c-.873 0-1.583.711-1.583 1.584s.71 1.583 1.583 1.583h8.091c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.417.246-.953.11-1.199-.305-.289-.486-.799-.776-1.363-.776H23.02c-.873 0-1.583.71-1.583 1.583s.709 1.584 1.583 1.584z"/></svg>'},14534:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16 18c-.419 0-.809-.265-.949-.684C14.848 16.717 14.034 15 13 15c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.741-.632-1.265C9.177 16.307 10.356 13 13 13s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051zm10 0c-.419 0-.809-.265-.948-.684C24.849 16.717 24.033 15 23 15c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.741-.632-1.265C19.177 16.307 20.355 13 23 13s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-8 4c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-1.344 6.75-9 6.75S9 23 9 23z"/><path fill="#664500" d="M18 27.594c-3.596 0-6.272-.372-7.937-.745l-.825-1.871c.823.312 3.889.897 8.763.897 4.954 0 8.037-.616 8.864-.938l-.701 1.842c-1.634.38-4.419.815-8.164.815z"/></svg>'},22426:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="12.5" rx="2.5" ry="5.5"/><ellipse fill="#664500" cx="24.5" cy="12.5" rx="2.5" ry="5.5"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/></svg>'},78393:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/><path fill="#664500" d="M6.001 20c-.304 0-.604-.138-.801-.4-.332-.441-.242-1.068.2-1.399.143-.107 2.951-2.183 6.856-2.933C9.781 14.027 7.034 14 6.999 14c-.552-.002-.999-.45-.998-1.002 0-.551.447-.998.999-.998.221 0 5.452.038 8.707 3.293.286.286.372.716.217 1.09-.155.374-.52.617-.924.617-4.613 0-8.363 2.772-8.4 2.8-.18.135-.391.2-.599.2zm23.998-.001c-.208 0-.418-.064-.598-.198C29.363 19.772 25.59 17 21 17c-.404 0-.77-.243-.924-.617-.155-.374-.069-.804.217-1.09C23.549 12.038 28.779 12 29 12c.552 0 .998.447.999.998.001.552-.446 1-.997 1.002-.036 0-2.783.027-5.258 1.268 3.905.75 6.713 2.825 6.855 2.933.441.331.531.956.201 1.398-.196.261-.496.4-.801.4z"/></svg>'},69861:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M27.335 22.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 23.472 11.788 28.5 18 28.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zM26 19c-.419 0-.809-.265-.948-.684C24.849 17.717 24.033 16 23 16c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.74-.632-1.265C19.177 17.307 20.355 14 23 14s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-10 0c-.419 0-.809-.265-.949-.684C14.848 17.717 14.034 16 13 16c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.74-.632-1.265C9.177 17.307 10.355 14 13 14s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051z"/><path fill="#FFAC33" d="M33.175 8.316s-9.042.161-15.175.161c-3.905 0-15.206-.118-15.206-.118l-.521.876c3.043 1.856 9.064 2.917 15.727 2.917 6.596 0 12.576-1.04 15.652-2.86l.078-.047s-.374-.664-.555-.929z"/><path fill="#5DADEC" d="M23.777.345c-1.212-.094-2.473-.159-3.773-.19C19.343.139 18.676.129 18 .129c-.672 0-1.336.01-1.993.025-1.302.031-2.564.096-3.777.19C5.34.88.169 2.451.169 5.287c0 3.588 8.264 5.771 17.831 5.771s17.831-2.183 17.831-5.771c0-2.835-5.168-4.405-12.054-4.942zM18 7.383c-6.861 0-12.91-.833-12.91-2.736 0-.536.494-1.023 1.339-1.449 1.153-.581 2.978-1.044 5.189-1.349 1.911-.262 4.098-.41 6.382-.41 2.291 0 4.485.148 6.4.413 2.242.31 4.086.783 5.232 1.377.807.418 1.278.894 1.278 1.418 0 1.903-6.049 2.736-12.91 2.736z"/><path fill="#3B94D9" d="M24.4 1.853c2.242.31 4.086.783 5.232 1.377l.062.017c-2.285-1.674-4.57-2.56-5.917-2.902-1.212-.094-2.473-.159-3.773-.19l.018.007L24.4 1.853zM6.429 3.199c1.153-.581 2.978-1.044 5.189-1.349L15.984.162l.023-.008c-1.302.031-2.564.096-3.777.19-1.347.342-3.633 1.227-5.919 2.902l.118-.047z"/><path fill="#FFCC4D" d="M28.472 3.375c-.66-.443-1.346-.91-2.001-1.26C23.947.765 21.063 0 18 0c-2.929 0-5.695.7-8.14 1.941-1.089.553-1.881.999-2.17 1.434h20.782z"/></svg>'},12239:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#AA8DD8" cx="18" cy="18" r="18"/><path fill="#AA8DD8" d="M10 4C7.42 4 4.369 1.534 3.414.586 2.843.014 1.981-.157 1.235.153.487.462 0 1.191 0 2c0 3.459 1.672 10 8 10 .757 0 1.45-.428 1.789-1.106l2-4c.31-.62.277-1.356-.088-1.946C11.337 4.359 10.693 4 10 4zM34.766.153c-.75-.311-1.607-.139-2.18.434C31.7 1.472 28.589 4 26 4c-.693 0-1.337.359-1.701.949-.364.589-.397 1.326-.088 1.946l2 4C26.55 11.572 27.242 12 28 12c6.328 0 8-6.541 8-10 0-.809-.487-1.538-1.234-1.847z"/><path fill="#553986" d="M27.335 25.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 26.472 11.788 31.5 18 31.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zm-11.628-7.336C12.452 15.038 7.221 15 7 15c-.552 0-.999.447-.999.998-.001.552.446 1.001.998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 15c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.001.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},79378:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 12.458c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4 3.262-4.35 7.616-4.4 7.8-4.4.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.156.002-3.569.086-6.205 3.6-.195.262-.496.4-.8.4zm23.002 2.125c-.305 0-.604-.138-.801-.4-2.592-3.457-6.961-2.627-7.004-2.62-.547.108-1.068-.243-1.177-.784-.108-.542.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.137-.389.201-.598.201zm-5.747 8.994c-.188-.11-.432-.087-.597.06-.01.008-1.013.863-4.657.863-3.641 0-4.646-.854-4.646-.854-.159-.16-.404-.19-.6-.082-.195.111-.293.339-.238.557.01.044 1.144 4.379 5.484 4.379s5.474-4.335 5.485-4.379c.053-.213-.044-.431-.231-.544z"/></svg>'},74373:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M6.999 17c-.15 0-.303-.034-.446-.105-.494-.247-.694-.848-.447-1.342C6.158 15.448 7.424 13 11 13c3.577 0 4.842 2.449 4.894 2.553.247.494.046 1.095-.447 1.342-.491.247-1.085.049-1.336-.436C14.067 16.378 13.28 15 11 15c-2.317 0-3.099 1.433-3.106 1.447-.175.351-.528.553-.895.553zM29 17c.15 0 .303-.034.446-.105.494-.247.694-.848.447-1.342-.052-.105-1.318-2.553-4.894-2.553-3.577 0-4.842 2.449-4.894 2.553-.247.494-.046 1.095.447 1.342.491.247 1.085.049 1.336-.436.044-.081.831-1.459 3.111-1.459 2.317 0 3.099 1.433 3.106 1.447.175.351.528.553.895.553zm.503 6.52c.323-.749.461-1.257.466-1.277.134-.534-.19-1.075-.725-1.21-.536-.136-1.077.188-1.215.723C27.955 22.051 26.081 29 18 29s-9.955-6.949-10.03-7.245c-.138-.534-.679-.858-1.215-.723-.534.135-.858.676-.725 1.21C6.052 22.33 8.331 31 18 31c1.65 0 3.07-.266 4.315-.685 4.33-1.458 6.374-4.91 7.188-6.795z"/><path fill="#E75B70" d="M32.407 26.681l-2.956-3.051s-.68-.438-1.273.568c-.78 1.322-2.075 2.935-3.934 4.171-.781.519-2.139 1.189-2.697 1.318-.735.169-.388.964-.388.964.585-.127 1.051-.301 1.051-.301l.296.296 2.726 2.726c1.728 1.728 5 2 7 0s1.904-4.962.175-6.691z"/><path fill="#DE3146" d="M29.915 31.074c.213-.213.213-.558 0-.771l-3.629-3.629-.796.748 3.653 3.653c.213.212.559.212.772-.001z"/></svg>'},5541:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#292F33" d="M1.24 11.018c.24.239 1.438.957 1.677 1.675.24.717.72 4.784 2.158 5.981 1.483 1.232 7.077.774 8.148.24 2.397-1.195 2.691-4.531 3.115-6.221.239-.957 1.677-.957 1.677-.957s1.438 0 1.678.956c.424 1.691.72 5.027 3.115 6.221 1.072.535 6.666.994 8.151-.238 1.436-1.197 1.915-5.264 2.155-5.982.238-.717 1.438-1.435 1.677-1.674.241-.239.241-1.196 0-1.436-.479-.478-6.134-.904-12.223-.239-1.215.133-1.677.478-4.554.478-2.875 0-3.339-.346-4.553-.478-6.085-.666-11.741-.24-12.221.238-.239.239-.239 1.197 0 1.436z"/><path fill="#664500" d="M27.335 23.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 24.472 11.788 29.5 18 29.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628z"/></svg>'},87966:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M25 26H11c-.552 0-1-.447-1-1s.448-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"/></svg>'},69860:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M12 28c2-5 13-5 13-3 0 1-8-1-13 3z"/></svg>'},92380:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><ellipse fill="#664500" cx="11.5" cy="15.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm23.002 3c-.305 0-.604-.138-.801-.4-2.592-3.456-6.961-2.628-7.004-2.62-.547.11-1.068-.244-1.177-.784-.108-.541.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.136-.389.201-.598.201zm-8.922 13.042c1.335-.412 2.629-1.156 2.629-2.5 0-2.619-4.912-2.968-5.472-2.999-.274-.026-.509.193-.527.468-.017.274.19.511.464.53.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.014.001-.024.009-.037.011-.052.006-.101.018-.146.04l-.019.011c-.047.026-.088.057-.125.098-.014.015-.024.031-.036.048-.023.032-.044.063-.059.102-.012.029-.018.061-.024.092-.004.023-.016.044-.018.067 0 .011.004.021.004.031s-.005.021-.004.031c.001.024.013.045.018.068.006.031.011.061.023.09.013.03.031.057.049.084.017.024.032.05.052.071.023.023.05.041.078.061.024.017.046.034.074.047.032.015.066.021.101.027.024.006.044.018.069.02.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.274.02-.481.257-.464.53.017.265.237.469.499.469l.028-.001c.56-.031 5.472-.38 5.472-2.999 0-1.345-1.294-2.089-2.629-2.501z"/><path fill="#FFAC33" d="M34.202 25.803c-.236-.79-.779-1.486-1.578-1.875-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.11-4.087 1.406-.105.215-.18.437-.23.659-.775 2.556.64 6.341 2.192 7.948 1.23.13 2.953-.198 4.513-.873 1.5-1.46 2.733-3.183 3.653-5.088z"/><path fill="#DD2E44" d="M35.654 27.222c.739-1.516.11-3.347-1.405-4.086-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.109-4.087 1.406-.105.215-.18.437-.23.659-.774 2.556.64 6.341 2.192 7.948 2.223.234 6.077-.979 7.615-3.161.145-.179.273-.374.378-.589z"/></svg>'},94475:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#66471B" d="M15.457 15.815c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.144.591.177.143.427.147.61.014.013-.009 1.262-.902 3.703-.902 2.426 0 3.674.881 3.702.901.088.066.193.099.298.099.11 0 .221-.037.311-.109.179-.142.238-.386.146-.594z"/><path fill="#F5F8FA" d="M31 13.5c0 3.59-2.91 6.5-6.5 6.5S18 17.09 18 13.5 20.91 7 24.5 7 31 9.91 31 13.5z"/><circle fill="#292F33" cx="24.5" cy="13.5" r="2.5"/><path fill="#66471B" d="M7 21.262c0 3.964 4.596 9 11 9s11-5 11-9c0 0-10.333 2.756-22 0z"/><path fill="#E8596E" d="M18.545 23.604l-1.091-.005c-3.216-.074-5.454-.596-5.454-.596v6.961c0 3 2 6 6 6s6-3 6-6v-6.92c-1.922.394-3.787.542-5.455.56z"/><path fill="#DD2F45" d="M18 31.843c.301 0 .545-.244.545-.545v-7.694l-1.091-.005v7.699c.001.301.245.545.546.545z"/></svg>'},70881:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M23.485 28.879C23.474 28.835 22.34 24.5 18 24.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.008 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.09.219.137.344.137.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zM11.226 15.512c-.317 0-.636.039-.947.116-2.87.707-3.513 4.121-3.539 4.267-.04.223.076.443.281.54.067.031.14.047.211.047.145 0 .287-.063.385-.18.01-.012 1.01-1.178 3.379-1.761.714-.176 1.412-.265 2.073-.265 1.104 0 1.732.253 1.735.254.067.028.131.04.207.04.272.012.509-.221.509-.5 0-.165-.08-.311-.203-.402-.367-.435-1.953-2.156-4.091-2.156zm13.548 0c.317 0 .636.039.947.116 2.87.707 3.513 4.121 3.539 4.267.04.223-.076.443-.281.54-.067.031-.14.047-.211.047-.145 0-.287-.063-.385-.18-.01-.012-1.01-1.178-3.379-1.761-.714-.176-1.412-.265-2.073-.265-1.104 0-1.731.253-1.735.254-.067.028-.131.04-.206.04-.272.012-.509-.221-.509-.5 0-.165.08-.311.203-.402.366-.435 1.952-2.156 4.09-2.156z"/></svg>'},44544:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DA2F47" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#292F33" d="M25.485 29.879C25.44 29.7 24.317 25.5 18 25.5c-6.318 0-7.44 4.2-7.485 4.379-.055.217.043.442.237.554.195.109.439.079.6-.077.019-.019 1.954-1.856 6.648-1.856s6.63 1.837 6.648 1.855c.096.095.224.145.352.145.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zm-9.778-12.586C12.452 14.038 7.221 14 7 14c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 14c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},67567:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M23.485 27.879C23.474 27.835 22.34 23.5 18 23.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.007 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.091.219.137.344.137.084 0 .169-.021.246-.064.196-.111.294-.339.239-.557z"/><path fill="#5DADEC" d="M10 30c0 2.762-2.238 5-5 5s-5-2.238-5-5 4-10 5-10 5 7.238 5 10z"/><path fill="#664500" d="M30 13c-5.554 0-7.802-4.367-7.895-4.553-.247-.494-.047-1.095.447-1.342.492-.247 1.092-.048 1.34.443C23.967 7.694 25.713 11 30 11c.553 0 1 .448 1 1 0 .553-.447 1-1 1zM6 13c-.552 0-1-.448-1-1s.448-1 1-1c5.083 0 5.996-3.12 6.033-3.253.145-.528.69-.848 1.219-.709.53.139.851.673.718 1.205C13.921 8.437 12.704 13 6 13z"/></svg>'},57737:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16.664 10.543c-.207-.09-.451-.03-.592.148-.009.012-.979 1.202-3.335 1.844-.775.212-1.531.319-2.245.319-.992 0-1.559-.212-1.562-.213-.21-.085-.453-.014-.587.169-.135.184-.128.435.016.612.071.087 1.78 2.147 4.125 2.147.351 0 .702-.047 1.043-.14 2.854-.778 3.41-4.208 3.432-4.354.034-.223-.087-.441-.295-.532zm10.975 2.155c-.138-.181-.38-.245-.59-.159-.006.003-.633.256-1.737.256-.661 0-1.358-.089-2.073-.265-2.369-.583-3.369-1.749-3.377-1.758-.146-.176-.388-.233-.596-.137-.207.095-.323.318-.283.542.026.145.668 3.56 3.539 4.267.311.077.629.116.946.116 2.396 0 4.099-2.16 4.17-2.252.138-.181.137-.43.001-.61zM9.998 10c-.448 0-.855-.303-.969-.757-.133-.535.191-1.077.724-1.212.036-.009 3.593-.961 5.352-4.478.247-.494.846-.695 1.342-.447.494.247.694.848.447 1.342-2.181 4.361-6.471 5.477-6.652 5.523-.081.02-.163.029-.244.029zM26 10c-.08 0-.161-.01-.242-.03-.182-.045-4.472-1.162-6.652-5.523-.247-.494-.047-1.095.447-1.342.493-.247 1.094-.047 1.342.447 1.758 3.517 5.315 4.469 5.352 4.478.533.137.857.681.722 1.215-.116.453-.522.755-.969.755zm-8 18.965c-3.623 0-6.027.422-9 1-.679.131-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.321 2.132-2 2-2.973-.578-5.377-1-9-1z"/><path fill="#FFF" d="M10 25s3-1 8-1 8 1 8 1-2-4-8-4-8 4-8 4z"/></svg>'},45152:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><ellipse fill="#664500" cx="18" cy="25" rx="4" ry="5"/><ellipse fill="#664500" cx="12" cy="13.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24" cy="13.5" rx="2.5" ry="3.5"/></svg>'},22783:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#C1CDD5" d="M36 19.854C33.518 9.923 25.006 1.909 16.031 6.832c0 0-4.522-1.496-5.174-1.948-.635-.44-1.635-.904-.912.436.423.782.875 1.672 2.403 3.317C8 12.958 9.279 18.262 7.743 21.75c-1.304 2.962-2.577 4.733-1.31 6.976 1.317 2.33 4.729 3.462 7.018 1.06 1.244-1.307.471-1.937 3.132-4.202 2.723-.543 4.394-1.791 4.394-4.375 0 0 .795-.382 1.826 6.009.456 2.818-.157 5.632-.039 8.783H36V19.854z"/><path fill="#60379A" d="M31.906 6.062c.531 1.312.848 3.71.595 5.318-.15-3.923-3.188-6.581-4.376-7.193-2.202-1.137-4.372-.979-6.799-.772.111.168.403.814.32 1.547-.479-.875-1.604-1.42-2.333-1.271-1.36.277-2.561.677-3.475 1.156-.504.102-1.249.413-2.372 1.101-1.911 1.171-4.175 4.338-6.737 3.511 1.042 2.5 3.631 1.845 3.631 1.845 1.207-1.95 4.067-3.779 6.168-4.452 7.619-1.745 12.614 3.439 15.431 9.398.768 1.625 2.611 7.132 4.041 10.292V10.956c-.749-1.038-1.281-3.018-4.094-4.894z"/><path fill="#C1CDD5" d="M13.789 3.662c.573.788 3.236.794 4.596 3.82 1.359 3.026-1.943 2.63-3.14 1.23-1.334-1.561-1.931-2.863-2.165-3.992-.124-.596-.451-2.649.709-1.058z"/><path fill="#758795" d="M14.209 4.962c.956.573 2.164 1.515 2.517 2.596.351 1.081-.707.891-1.349-.042-.641-.934-.94-1.975-1.285-2.263-.346-.289.117-.291.117-.291z"/><circle fill="#292F33" cx="15.255" cy="14.565" r=".946"/><path fill="#53626C" d="M8.63 26.877c.119.658-.181 1.263-.67 1.351-.49.089-.984-.372-1.104-1.03-.119-.659.182-1.265.671-1.354.49-.088.984.373 1.103 1.033z"/><path fill="#EE7C0E" d="M13.844 8.124l.003-.002-.005-.007-.016-.014c-.008-.007-.011-.019-.019-.025-.009-.007-.021-.011-.031-.018C12.621 7.078.933-.495.219.219-.51.948 10.443 9.742 11.149 10.28l.011.006.541.439c.008.007.01.018.018.024.013.01.028.015.042.024l.047.038-.009-.016c.565.361 1.427.114 1.979-.592.559-.715.577-1.625.066-2.079z"/><path fill="#C43512" d="M4.677 2.25l.009-.025c-.301-.174-.594-.341-.878-.5-.016.038-.022.069-.041.11-.112.243-.256.484-.429.716-.166.224-.349.424-.541.595-.02.018-.036.026-.056.043.238.22.489.446.745.676.234-.21.456-.449.654-.717.214-.287.395-.589.537-.898zm2.275 2.945c.306-.41.521-.822.66-1.212-.292-.181-.584-.36-.876-.538-.076.298-.247.699-.586 1.152-.31.417-.613.681-.864.845.259.223.52.445.779.665.314-.244.619-.552.887-.912zM9.87 7.32c.365-.49.609-.983.734-1.437l-.906-.586c-.023.296-.172.81-.631 1.425-.412.554-.821.847-1.1.978l.814.671c.381-.256.761-.611 1.089-1.051z"/></svg>'},29865:function(e,t,n){"use strict";e.exports=n(1091)},59885:function(e){const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=e=>e.match(t)||[],r=e=>e[0].toUpperCase()+e.slice(1),o=(e,t)=>n(e).join(t).toLowerCase(),i=e=>n(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");e.exports={words:n,upperFirst:r,camelCase:i,pascalCase:e=>r(i(e)),snakeCase:e=>o(e,"_"),kebabCase:e=>o(e,"-"),sentenceCase:e=>r(o(e," ")),titleCase:e=>n(e).map(r).join(" ")}},94633:function(e){function t(e,t){var n=e.length,r=new Array(n),o={},i=n,a=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var o=e[n];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)o[i]||l(e[i],i,new Set);return r;function l(e,t,i){if(i.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!o[t]){o[t]=!0;var c=a.get(e)||new Set;if(t=(c=Array.from(c)).length){i.add(e);do{var d=c[--t];l(d,s.get(d),i)}while(t);i.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var o=e[n];t.add(o[0]),t.add(o[1])}return Array.from(t)}(e),e)},e.exports.array=t},6693:function(e,t,n){"use strict";n.r(t),n.d(t,{ACCEPT:function(){return o},CONTENT_TYPE:function(){return i},METHODS:function(){return r},Timeouts:function(){return a}});const r={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",HEAD:"HEAD"},o="application/json, text/plain, */*",i={X_WWW_FORM:"application/x-www-form-urlencoded",APP_JSON:"application/json"},a={MESSAGE_SEND_ERROR_TIMEOUT:6e3,BOT_TYPING:1e4,AGENT_TYPING:3e3}},37810:function(e,t,n){"use strict";n.r(t),n.d(t,{CampaignPopupContainer:function(){return M}});var r=n(16584),o=n(98661),i=n(83549),a=n(138),s=n(74379),l=n(75998),u=n(2903),c=n(73422),d=n(92246),f=n(31011),p=n(24111),g=n(65138),h=n(79105),m=n(42601),_=n(97979),v=n(45948),y=n(68403),b=n(97490),C=n(26932),E=n(63666),D=n(65648);const T=(e,{stringFormat:t}={stringFormat:!1})=>{4===e.length&&(e=`${e[0]}${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`);const n={r:0,g:0,b:0},r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r&&(n.r=parseInt(r[1],16),n.g=parseInt(r[2],16),n.b=parseInt(r[3],16)),t?`rgb(${n.r}, ${n.g}, ${n.b})`:n},w={white:{button:"",buttonText:"",background:"#ffffff",text:"#1B1F23",inputText:"#1B1F23",inputBg:"#ffffff",inputBorder:"#C6CBD1",inputPlaceholder:"#959DA5",eulaText:"#959da5",link:"#367fee",pollCellText:"#ffffff",pollCellTextHover:"#ffffff",pollCellBg:"#1B1F23",closeButton:"#6A737D",closeButtonBg:"#00000033",backgroundImg:"",backgroundImgAlpha:"0"},dark:{button:"",buttonText:"",background:"#24292E",text:"#ffffff",inputText:"#ffffff",inputBg:"#ffffff1a",inputBorder:"#D1D5DA",inputPlaceholder:"#D1D5DA",eulaText:"#ffffff",link:"#ffffff",pollCellText:"#1B1F23",pollCellTextHover:"#ffffff",pollCellBg:"#ffffff",closeButton:"#ffffff",closeButtonBg:"#ffffff33",backgroundImg:"",backgroundImgAlpha:"0"},black:{button:"",buttonText:"",background:"#000000",text:"#ffffff",inputText:"#ffffff",inputBg:"#ffffff1a",inputBorder:"#D1D5DA",inputPlaceholder:"#D1D5DA",eulaText:"#ffffff",link:"#ffffff",pollCellText:"#1B1F23",pollCellTextHover:"#ffffff",pollCellBg:"#ffffff",closeButton:"#ffffff",closeButtonBg:"#ffffff33",backgroundImg:"",backgroundImgAlpha:"0"},colored:{button:"",buttonText:"",background:"",text:"#ffffff",inputText:"#ffffff",inputBg:"#ffffff1a",inputBorder:"#D1D5DA",inputPlaceholder:"#D1D5DA",eulaText:"#ffffff",link:"#ffffff",pollCellText:"#ffffff",pollCellTextHover:"#ffffff",pollCellBg:"#1B1F2380",closeButton:"#ffffff",closeButtonBg:"#00000033",backgroundImg:"",backgroundImgAlpha:"0"}},S=(e,{backgroundImgSrc:t,backgroundOpacity:n,position:r})=>{const{type:o,color:i}=e,a=Boolean(i)&&"light"===(e=>("string"==typeof e&&(e=T(e)),(299*e.r+587*e.g+114*e.b)/1e3/255>.75?"light":"dark"))(i),s=Object.assign(Object.assign({},w[o]),{button:i,buttonText:a?"#1B1F23":"#ffffff",background:"colored"===o?i:w[o].background,backgroundImg:t?`url(${t})`:w[o].backgroundImg,backgroundImgAlpha:n?""+n/100:w[o].backgroundImgAlpha});return o&&i?["top_width","right_width"].includes(r)?Object.assign(Object.assign({},s),{closeButton:"#ffffff",closeButtonBg:"#00000033"}):s:w.white};var O=n(45926);const A=({type:e,screens:t,theme:n,desktopAnchor:i,mobileAnchor:a,renderItem:s})=>{const{document:l}=(0,O.getPageWindow)(),u=l.getElementById(i),c=l.getElementById(a),d=t.length,f=d/2,p=!(d>2);let g=0;return u||c?(0,r.tZ)(r.HY,{children:t.map(((t,i)=>{const a=i>=f,l={screenKey:`screen-${a?`mobile${g+1}`:i+1}`,type:a?"standard":e,theme:S(n,{backgroundImgSrc:null==t?void 0:t.background_img_src,backgroundOpacity:null==t?void 0:t.background_img_opacity,position:null==t?void 0:t.img_position}),screenSettings:t,isMobile:a,isFirstScreen:a?0===g:0===i,isLastScreen:Boolean(!p&&(a?i===d-1:i===f-1))};a&&g++;const h=a?c:u;return h?(0,o.createPortal)((0,r.tZ)(r.HY,{children:s(l)}),h):null}))}):null},I=({children:e,target:t,screensCount:n})=>{const i=(0,O.getPageWindow)().document.getElementById(t);return!i||n<=0?null:(0,o.createPortal)((0,r.tZ)(r.HY,{children:e}),i)},k=(0,o.lazy)((()=>n.e(594).then(n.bind(n,23226)))),M=()=>{(0,i.useErrorCatcher)(M.displayName);const e=(()=>{var e;const{app:t}=(0,p.useAppSelector)(m.selectZoom),{route:n}=(0,p.useAppSelector)(g.selectApp),r=(0,p.useAppSelector)(h.selectEula),i=(0,p.useAppSelector)(h.selectMailing),a=(0,p.useAppSelector)(h.selectBillRu),s=(0,p.useAppSelector)(_.selectClient),{target:l,previewTargetDesktop:u,previewTargetMobile:c,type:d,position:T,marking_ad_text:w,theme:O,blackout:A,screens:I,hide_logo:k,activeScreen:M,display:x,campaignId:P,clientAnswerId:R,onSubmitActionCallback:F,answerData:L,frequency:j,isMobileView:N,isGalleryView:B}=(0,p.useAppSelector)(h.selectCampaignPopupSettings),U=(0,E.y)(P),[W,H]=(0,o.useState)(!1),z=I[M],G=I.length-1,$=N||f.platform.isMobile,V=f.platform.isMobileOrTablet,Z=I.length>0&&0===M,q=I.length>1&&M===G,K=Boolean(v.isPopupConstructor),Y=Boolean(K&&(u||c)),J=!K&&Boolean(A),X=!(k||!(0,y.showAd)()),Q=n===b.Route.CALL_POPUP,ee=(0,D.bt)(T,$),te=(0,D.oL)(d,$),{position:ne}=(0,D.gk)(null==z?void 0:z.img_src,null==z?void 0:z.img_position,$),re=S(O,{backgroundImgSrc:null==z?void 0:z.background_img_src,backgroundOpacity:null==z?void 0:z.background_img_opacity,position:ne}),oe=a?"logo-jivosite":"logo-jivochat",ie=Boolean(r)&&!s.eulaAccepted,ae=Boolean(i);(0,o.useEffect)((()=>{K&&C.appDispatchers.setHiddenByRules(!0)}),[]);const[se,le]=(0,o.useState)({width:0,height:0});return{type:te,position:ee,theme:re,themeOptions:O,logoType:oe,markingAdText:w,screenSettings:z,screensCount:I.length,zoom:t,activeScreen:M,constructorOptions:{target:l,previewTargetDesktop:u,previewTargetMobile:c,themeOptions:O,screens:Y?I.concat(I):void 0},campaign:{title:null==U?void 0:U.title,campaignId:null==U?void 0:U.campaign_id,endTs:null==U?void 0:U.end_ts,tagId:null==U?void 0:U.tag_id,enableNotifications:null!==(e=null==U?void 0:U.enable_widget_notification)&&void 0!==e&&e,image:{width:se.width,height:se.height},clientAnswerId:R,answerData:L,frequency:j,onSubmitActionCallback:F,onImageLoaded:e=>{le({width:e.width,height:e.height})}},isMobile:$,isMobileOrTablet:V,isFirstScreen:Z,isLastScreen:q,isEULA:ie,isMailingEnabled:ae,isBlackout:J,isShowLogo:X,isDisplay:x,isConstructor:K,isPreview:Y,isCallbackPopup:Q,isGalleryView:B,isSending:W,setSending:H}})(),{isConstructor:t,isPreview:n,constructorOptions:T,type:w,campaign:O,activeScreen:x,screensCount:P,isFirstScreen:R,isLastScreen:F,isDisplay:L,isBlackout:j,isGalleryView:N}=e,[B,U]=(0,o.useState)(!1),W=(0,o.useCallback)((()=>{U(!0),!t&&j&&s.default.blockScroll()}),[t,j]),H=(0,o.useCallback)((e=>{U(!1);const n=setTimeout((()=>{l.campaignPopupDispatch.reset(),clearTimeout(n)}),250);t||(j&&s.default.unblockScroll(),O&&R&&a.default.trackPopupClosed(O.title),O.enableNotifications&&(0,c.isNumber)(null==e?void 0:e.poll_rate)&&(0,u.D)({campaign_id:O.campaignId,clientAnswer:e,image:O.image}))}),[O,t,R,j]),z=(0,o.useCallback)((e=>{if(t)return;const n=x+1;F?H():n!==P&&(l.campaignPopupDispatch.setActiveScreen(n),O.enableNotifications&&(0,c.isNumber)(null==e?void 0:e.poll_rate)&&(0,u.D)({campaign_id:O.campaignId,clientAnswer:e,image:O.image}))}),[t,O,x,F,P]);return(0,o.useEffect)((()=>{N&&(L?W():H())}),[N,L]),(0,r.tZ)(d.t.Provider,{value:e,children:t?n?(0,r.tZ)(A,{type:w,theme:T.themeOptions,screens:T.screens,desktopAnchor:T.previewTargetDesktop,mobileAnchor:T.previewTargetMobile,renderItem:e=>(0,r.tZ)(o.Suspense,{fallback:null,children:(0,r.tZ)(k,{isVisible:B,onMounted:W,onClose:H,onSetNextScreen:z,previewProps:e})})}):N?(0,r.tZ)(o.Suspense,{fallback:null,children:(0,r.tZ)(k,{isVisible:B,onMounted:W,onClose:H,onSetNextScreen:z})}):(0,r.tZ)(I,{target:T.target,screensCount:P,children:(0,r.tZ)(o.Suspense,{fallback:null,children:(0,r.tZ)(k,{isVisible:B,onMounted:W,onClose:H,onSetNextScreen:z})})}):L?(0,r.tZ)(o.Suspense,{fallback:null,children:(0,r.tZ)(k,{isVisible:B,onMounted:W,onClose:H,onSetNextScreen:z})}):null})};M.displayName="CampaignPopupContainer"},92246:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});const r={type:"standard",theme:void 0,themeOptions:void 0,zoom:0,activeScreen:0,position:"top_center",logoType:"",markingAdText:"",screenSettings:void 0,screensCount:0,constructorOptions:void 0,campaign:void 0,isMobile:!1,isMobileOrTablet:!1,isFirstScreen:!1,isLastScreen:!1,isEULA:!1,isBlackout:!1,isShowLogo:!1,isDisplay:!1,isConstructor:!1,isPreview:!1,isCallbackPopup:!1,isGalleryView:!1,isSending:!1,setSending:void 0},o=n(98661).default.createContext(r)},65648:function(e,t,n){"use strict";n.d(t,{bt:function(){return r},gk:function(){return i},oL:function(){return o}});const r=(e,t)=>t?"top_center":e,o=(e,t)=>t?"standard":e,i=(e,t,n)=>{const r=Boolean(e)&&["left_width","top_width","right_width"].includes(t);return r&&n?{position:"top_width",isWideImage:r}:{position:t,isWideImage:r}}},90883:function(e,t,n){"use strict";n.r(t),n.d(t,{LoaderWrap:function(){return b}});var r=n(16584),o=(n(98661),n(45007)),i=n(94184),a=n.n(i),s=n(97490),l=n(35233),u=n(18276),c=n(80797),d=n(31011),f=n(10838),p=n(47548),g="loadingWrap__OeLr5",h="__mobile__KBlet",m="header__NlKRF",_="headerText__Fgxr3",v="loadingBg__e0DfW",y="gradient__y5Meu";const b=({onCloseButtonClick:e,text:t})=>{const{isWidgetConstructor:n,isPreview:i}=(0,c.useWidgetConstructorContext)(),b=d.platform.isMobileOrChatpage,C=(0,o.v9)(l.selectRoute)!==s.Route.CHAT_MIN,E=a()({[g]:!0,[h]:b});return(0,r.BX)("jdiv",{className:E,children:[(0,r.BX)("jdiv",{className:m,children:[(i||!(n||b))&&(0,r.tZ)(p.default,{drag:!1,callEnabled:!1,inCall:!1,show:C,onClick:()=>{null==e||e()},ignoreDragHeight:!1}),b?null:(0,r.tZ)(f.Leaf,{orientation:"bottom",backgroundColor:"#eaeaea",online:!0}),(0,r.tZ)("jdiv",{className:_,children:(0,u.l10n)("cb_loading")})]}),(0,r.BX)("jdiv",{className:v,children:[t||null,(0,r.tZ)("jdiv",{className:y})]})]})}},96545:function(e,t,n){"use strict";n.r(t),n.d(t,{LocaleProvider:function(){return c}});var r=n(16584),o=n(98661),i=n(1451),a=n(45926);const s=(0,n(48373).be)(),l=({children:e,onLocaleImportError:t})=>((0,o.useEffect)((()=>{const e=(0,a.getPageWindow)(),n=e=>{const{locale:n}=e.detail;null==t||t(n)};return e.addEventListener("jvtolgeelocaleimporterror",n),()=>{e.removeEventListener("jvtolgeelocaleimporterror",n)}}),[]),(0,r.tZ)(i.qF,{tolgee:s,children:e}));var u=n(66434);const c=({children:e})=>(0,r.tZ)(l,{onLocaleImportError:e=>{(0,u.telemetry)("tolgee_locale_import_error",{param1:e})},children:e})},51730:function(e,t,n){"use strict";n.r(t),n.d(t,{OmniMenuContainer:function(){return p}});var r=n(16584),o=n(98661),i=n(83549),a=n(31011),s=n(90061),l=n(54415),u=n(88263),c=n(97490);const d=(0,s.createLogger)("OmniChannelMenu"),f=(0,o.lazy)((()=>n.e(428).then(n.bind(n,89038)).then((e=>({default:e.OmniMenu}))).catch((e=>(d.error("Failed to load OmniChannelMenu:",e),l.Monitoring.reportException(e),a.platform.isMobileOrTablet&&u.routerService.next(c.RouterEvent.ToChat),{default:()=>null}))))),p=({show:e,onCancelClick:t,onOverlayClick:n,onLoad:s})=>((0,i.useErrorCatcher)("OmniMenuContainer"),(0,r.tZ)(o.Suspense,{fallback:()=>{},children:(0,r.tZ)(f,{show:e,onCancelClick:()=>{a.platform.isChatPage?null==t||t():u.routerService.next(c.RouterEvent.CloseWindow)},onOverlayClick:n,onLoad:s})}))},1092:function(e,t,n){"use strict";n.d(t,{D8:function(){return _},Yc:function(){return g},_v:function(){return h},fP:function(){return f},p0:function(){return p},th:function(){return m}});var r=n(138),o=n(52274),i=n(99393),a=n(31011),s=n(54541),l=n(66434),u=n(45683);const c=280,d="0px 1px 17px 1px rgba(0, 0, 0, 0.1), 0px 0px 4px rgba(0, 0, 0, 0.16)",f=({orientation:e})=>({[i.e.LEFT]:{boxShadow:d,width:c,transformOrigin:"top right",transform:`rotate(90deg) translate(calc(100% + ${o.LABEL_HEIGHT+16}px), calc(280px - 100%))`},[i.e.RIGHT]:{boxShadow:d,width:c,transformOrigin:"top right",transform:"rotate(90deg) translate(-16px, calc(280px - 100%))"},[i.e.BOTTOM]:{boxShadow:d,width:c,transform:"translate(0, calc(-100% - 16px))"}}[e]),p={boxShadow:d,width:c},g={boxShadow:d,width:c,position:"absolute",right:16,transform:"translateY(16px)"},h=()=>a.platform.isTablet?"tablet":a.platform.isIos?"ios":a.platform.isMobile?"android":"desktop",m=e=>({show:(0,s.showAd)(),link:(0,u.getUTMLink)("mobile_menu"),icon:`logo-jivo${e?"site":"chat"}-white`}),_=e=>{r.default.trackSocial(e),(0,l.telemetry)(`label_buttons_${e}`)}},54162:function(e,t,n){"use strict";n.r(t),n.d(t,{RootSwitch:function(){return b}});var r=n(16584),o=n(98661),i=n(97615),a=n(45926),s=n(29854),l=n(24111);const u=e=>e.extensions.target,c=({children:e})=>{const t=(()=>{const e=(0,l.useAppSelector)(u);return{target:e,isWidgetTarget:Boolean(e),isWidgetExtensions:!0}})(),{target:n,isWidgetTarget:i}=t,{document:c}=(0,a.getPageWindow)(),d=i?c.getElementById(n):null,f=(0,r.tZ)(s.M.Provider,{value:t,children:e});return d?(0,o.createPortal)(f,d):f};var d=n(95429),f=n(56163),p=n(26932),g=n(79105);const h=({children:e})=>{const t=(()=>{const e=(0,l.useAppSelector)(g.selectCampaignWidgetMobileView),t=(0,l.useAppSelector)(g.selectCampaignWidgetPreview),n=(0,l.useAppSelector)(g.selectCampaignWidgetMessageFeed);return(0,o.useEffect)((()=>{p.appDispatchers.setHiddenByRules(!0),p.appDispatchers.setIsInputDisabled(!0)}),[]),{campaignWidgetMessageFeed:n,isPreview:t,isMobileView:e,isWidgetConstructor:!0}})(),{isMobileView:n,isPreview:i}=t;return(0,r.BX)(f.e.Provider,{value:t,children:[!i&&(0,r.tZ)("style",{children:"body > jdiv {display: none;} jdiv {--jv-background-globe: #ffffff; --jv-text-link: #367FEE; }"}),e,n&&(0,r.tZ)(d.MobileProactive,{})]})};var m=n(17739),_=n(46152),v=n(17097);const y=()=>{const e={target:(0,l.useAppSelector)(g.selectContactFormPreviewTarget),previewSettings:(0,l.useAppSelector)(g.selectContactFormPreviewSettings),isContactFormPreview:!0},{target:t}=e,{document:n}=(0,a.getPageWindow)(),i=t?n.getElementById(t):null;return i?(0,o.createPortal)((0,r.tZ)(v.h.Provider,{value:e,children:(0,r.tZ)(_.RootContainer,{children:(0,r.tZ)(m.t,{})})}),i):null},b=({children:e})=>{const t=i.EnvironmentManager.isExtensionsEnable(),n=i.EnvironmentManager.isWidgetConstructor();let o=e;return i.EnvironmentManager.isContactFormPreview()?(0,r.tZ)(y,{}):(n&&(o=(0,r.tZ)(h,{children:o})),t&&(o=(0,r.tZ)(c,{children:o})),(0,r.tZ)(r.HY,{children:o}))}},40792:function(e,t,n){"use strict";n.r(t),n.d(t,{SoundPlayer:function(){return c}});var r=n(16584),o=n(98661),i=n(97615),a=n(75686),s=n(45683),l="player__tLQbo";const u=({src:e})=>{const t=(0,o.useRef)(null);(0,o.useEffect)((()=>{a.default.set(`sound_${e}`.toUpperCase(),t.current)}),[e]);const n=(i.EnvironmentManager.isDevelopment()?"/public":"")+`/sounds/${e}.`,l=(0,s.getStaticURL)(n+"mp3"),u=(0,s.getStaticURL)(n+"ogg"),c=(0,s.getStaticURL)(n+"wav");return(0,r.BX)("audio",{preload:"auto",id:`jivo-sound-${e}`,ref:t,children:[(0,r.tZ)("source",{src:l,type:"audio/mpeg"}),(0,r.tZ)("source",{src:u,type:"audio/ogg; codecs=vorbis"}),(0,r.tZ)("source",{src:c,type:"audio/wav"})]})},c=({sounds:e})=>(0,r.tZ)("jdiv",{id:"jivo-player",className:l,children:e.map((e=>(0,r.tZ)(u,{src:e},e)))})},36874:function(e,t,n){"use strict";n.r(t),n.d(t,{colorsFromFigma:function(){return s},getTokenColor:function(){return l}});var r=n(75686),o=n(70859),i=JSON.parse('{"blue-80":"#0b82f7","blue-90":"#086bcd","red-80":"#ff3b30","red-90":"#e54c44","green-70":"#00d376","green-90":"#12a730","green-80":"#18c139","steel-80":"#445669","steel-90":"#303f4e","white-38":"rgba(255, 255, 255, 0.38)","white-74":"rgba(255, 255, 255, 0.84)","white-100":"#ffffff","greyscale-30":"#ededed","greyscale-20":"#f9fafc","grayscale-12":"rgba(0, 0, 0, 0.12)","grayscale-38":"rgba(0, 0, 0, 0.38)","grayscale-60":"rgba(0, 0, 0, 0.6)","grayscale-87":"rgba(0, 0, 0, 0.87)"}');const a=JSON.parse(JSON.stringify(i)),s=Object.keys(a).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.toUpperCase().replace("-","_")]:a[t]})),{}),l=e=>{const t=r.default.getComponent(o.Component.ROOT_COMPONENT);return t?getComputedStyle(t.base).getPropertyValue(e):""}},28723:function(e,t,n){"use strict";n.r(t),n.d(t,{HistoryStore:function(){return a}});var r=n(44733),o=n(56026),i=n(938);const a=new class{constructor(){this.LS=r.StorageProvider}push(e){let t=this.get()||[];e=this.format(e);this.getHistoryByUrl(t,e.url).length?t=this.updateHistoryByUrl(t,e.url):(10===t.length&&(t=this.deleteOldestEntry(t)),e.time=(new Date).getTime(),t.push(e)),this.LS.set("history",t)}get(){return this.LS.get("history")||[]}destroy(){this.LS.remove("history")}format(e){return e.url=this.subStr((new o.default).decode(e.url),255),e.title=this.subStr(e.title,150),e}subStr(e,t){return e.length>t?e.substring(0,t)+"...":e}getHistoryByUrl(e,t){return e.filter((e=>e.url===t))}updateHistoryByUrl(e,t){for(let n=0;n<e.length;n++)e[n].url===t&&(e[n].time=(new Date).getTime());return e}deleteOldestEntry(e){const t=this.sortByTime(e);return t.shift(),t}sortByTime(e){return(0,i.sortBy)(e,"time")}}},24578:function(e,t,n){"use strict";n.r(t),n.d(t,{needSyncRoute:function(){return h},reloadTransitionStore:function(){return g},syncRouter:function(){return m}});var r=n(97490),o=n(44145),i=n(68403),a=n(21476),s=n(79868),l=n(90061),u=n(8717),c=n(50402),d=n(26932),f=n(31011);const p=(0,l.createLogger)("syncRouter"),g=()=>{const e=(0,o.getApp)().route;let t=(0,u.isContainerRoute)(e)?c.ScriptName.OPEN_WIDGET:c.ScriptName.CLOSE_WIDGET;e===r.Route.CALL_POPUP&&(t=c.ScriptName.CLOSE_WIDGET),(0,u.isMinRoute)(e)&&(t=c.ScriptName.MIN_WIDGET);const{currentScript:n}=(0,o.getTransition)();t==c.ScriptName.OPEN_WIDGET&&n==c.ScriptName.MAXIMIZE_WIDGET||d.transitionDispatchers.initTransitionStore({currentScript:t})},h=()=>{if(f.platform.isMobileOrTablet)return;const e=(0,o.getApp)(),t=(0,o.getClient)(),n=a.Router.getPrevEvent(),l=e.route===r.Route.INTRODUCE;if((!t.isIntroduced||!l)&&(e.isOnline||!l)&&(!(0,i.isChatContactForm)()||!l))if(e.route!==r.Route.CHAT_SOCIAL||n&&s.default.getPopupMode())if(e.route!==r.Route.CHAT_MIN||e.chatAccepted){if(e.chatOpenByClient||e.chatStarted||(0,o.getProactive)().text||e.route===r.Route.HIDDEN)return!0}else a.Router.setNext(r.RouterEvent.CloseWindow);else p.warn("prevent to show Social without user click.")},m=()=>{const e=(0,o.getApp)();e.route!==a.Router.getCurrentRoute()&&h()&&(p.warn("syncRouter",e.route,a.Router.getCurrentRoute()),a.Router.setNext(e.route),g())}},4510:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a},initialState:function(){return i}});var r=n(2036),o=n(91133);const i={assignedAgentId:null,avatarUrl:null,captchaToken:null,clientId:null,customData:null,departmentId:null,description:null,displayName:null,email:null,evaluate:null,eulaAccepted:null,mailing:{email:null,phone:null},hasIntegration:null,inputText:"",isBlacklisted:null,isIntroduced:null,lastMessage:"",name:null,phone:null,priorityAgentId:null,sessionId:null,userToken:null,utm:{campaign:null,content:null,keyword:null,term:null,medium:null,source:null},visitorId:null,tags:null,attributes:null,externalData:null};function a(e=i,t){const{type:n,payload:a}=t;switch(n){case r.ActionType.UPDATE_CLIENT_STORE:return(0,o.e)(e,a);case r.ActionType.UPDATE_CLIENT_STORE_MANUALLY:return Object.assign(Object.assign({},e),a);case r.ActionType.RESET_CLIENT_STORE:return i;default:return e}}},11517:function(e,t,n){"use strict";n.r(t),n.d(t,{migrations:function(){return o}});var r=n(73422);const o={attributes:e=>(0,r.isArray)(e)?e.reduce(((e,{name:t,value:n})=>(e[t]=n,e)),{}):e}},42413:function(e,t,n){"use strict";n.r(t),n.d(t,{Badge:function(){return u}});var r=n(16584),o=(n(98661),n(94184)),i=n.n(o),a=n(53400),s=n(73422),l={badge:"badge__QOw9e",text:"text__JTUBq",__show:"__show__T_0_4",__small:"__small__cTahW",__large:"__large__Lb8AS"};const u=({show:e,text:t,size:n="small",top:o,right:u})=>{const c=Object.assign(Object.assign({},(0,s.isNumber)(o)&&{top:o+"px"}),(0,s.isNumber)(u)&&{right:u+"px"});return(0,r.tZ)("jdiv",Object.assign({className:i()(l.badge,l[`__${n}`],{[l.__show]:e}),style:c},(0,a.locator)("BADGE"),{children:(0,r.tZ)("jdiv",Object.assign({className:l.text},(0,a.locator)("BADGE_TEXT"),{children:t}))}))}},21579:function(e,t,n){"use strict";n.r(t),n.d(t,{CallbackLazy:function(){return j}});var r=n(16584),o=n(98661),i=n(91763),a=n(94184),s=n.n(a),l=n(97490),u=n(24111),c=n(65138),d=n(18276),f="chat__mcl6w",p="__show__ugsuL",g="call__ojkdM",h="overlay__WUsRS",m="popup__r9x1c",_="content__whvs1",v="text__eScZS";const y=(0,o.memo)((({type:e})=>{const t=(0,u.useAppSelector)(c.selectRoute),n="call"===e,o="chat"===e,i="popup"===e,a=(0,r.tZ)("jdiv",{className:s()({[f]:o,[g]:n,[m]:i,[p]:o&&t===l.Route.CHAT_CALL}),children:(0,r.tZ)("jdiv",{className:_,children:(0,r.tZ)("jdiv",{className:v,children:(0,d.l10n)("cb_loading")})})});return"popup"===e?(0,r.tZ)("jdiv",{className:s()(h,{[p]:i&&t===l.Route.CALL_POPUP}),children:a}):a}));var b=n(21525),C=n(49798),E=n(96603),D=n(31076),T=n(66434),w=n(88263),S="chat__aQWMr",O="__show__VSBuN",A="close__fmSnW",I="call__I1Xdq",k="overlay__HCgMK",M="popup__rjfN9",x="content__jyCv5",P="icon__FmEQt",R="text__om5l7";const F=(0,o.memo)((({type:e,onRetry:t})=>{const n=(0,u.useAppSelector)(c.selectRoute),o="chat"===e,i="popup"===e,a=(0,r.BX)("jdiv",{className:s()({[S]:o,[I]:"call"===e,[M]:i,[O]:o&&n===l.Route.CHAT_CALL}),children:[(0,r.tZ)("jdiv",{className:A,onClick:()=>{"chat"===e?w.routerService.next(l.RouterEvent.ToChat):w.routerService.next(l.RouterEvent.CloseWindow)},children:(0,r.tZ)(E.CloseIcon,{})}),(0,r.BX)("jdiv",{className:x,children:[!o&&(0,r.tZ)(D.SvgIcon,{icon:b.default,className:P}),(0,r.tZ)("jdiv",{className:R,children:(0,d.l10n)("maintenanceSystemText")}),(0,r.tZ)(C.Button,{onClick:()=>{null==t||t(),(0,T.telemetry)("callback_retry_click")},children:(0,d.l10n)("tryAgain")})]})]});return"popup"===e?(0,r.tZ)("jdiv",{className:s()(k,{[O]:i&&n===l.Route.CALL_POPUP}),children:a}):a})),L=(0,i.lazyLoaderFactory)((()=>n.e(414).then(n.bind(n,90728))),y,F),j=e=>(0,r.tZ)(L,Object.assign({},e,{lazyLoaderProps:{type:e.type},lazyErrorProps:{type:e.type}}))},702:function(e,t,n){"use strict";n.r(t),n.d(t,{CallbackButton:function(){return C}});var r=n(16584),o=n(98661),i=n(94184),a=n.n(i),s=n(43055),l=n(28122),u=n(57930),c=n(18276),d=n(53400),f=n(31076),p={wrap:"wrap__R6kGo",popup:"popup__SF7ic",__show:"__show__kxQ3x",__powerBtn:"__powerBtn__XEUFl",__desktopOffsetBottom:"__desktopOffsetBottom__zFamI",__powerBtnPositionLeft:"__powerBtnPositionLeft__bwgLB",__left50:"__left50__g7HbV",__left100:"__left100__tTN8L",__right50:"__right50__eq8DN",__bottom50:"__bottom50__UiYh6",__right100:"__right100__I_ErH",__bottom0:"__bottom0__E7EqZ",__bottom100:"__bottom100__qfkse",button:"button__f2YiO",iconWrap:"iconWrap__nTIJc",animationBtn:"animationBtn__NZyRJ",logoCallback:"logoCallback__PDpgh"},g=n(80598),h=n(24111),m=n(87692),_=n(95232),v=n(88996),y=n(79105);var b=n(36874);const C=({videoButton:e,onClick:t})=>{const{desktopOffsetBottom:n,labelBubble:i,callbackPosition:C,buttonPosition:E,callbackButtonColor:D}=(()=>{const e=(0,h.useAppSelector)(y.selectDesktopOffsetBottom),t=(0,h.useAppSelector)(m.selectLabelBubble),n=(0,h.useAppSelector)(m.selectWidgetOrientation),r=(0,h.useAppSelector)(m.selectWidgetPadding),i=(0,h.useAppSelector)(v.rN),[a,s]=(0,o.useState)(t?(0,g.getPowerButtonDesktopPosition)(n,r):"right"),[l,u]=(0,o.useState)(t?null:`${n}${r}`),{powerButtonColorComputed:c,iconColor:d}=(0,_.useBubbleColors)();return(0,o.useEffect)((()=>{const e=(0,g.getPowerButtonDesktopPosition)(n,r);s(e),t||u(`${n}${r}`)}),[n,r,t]),{desktopOffsetBottom:e,labelBubble:t,callbackPosition:a,buttonPosition:l,powerButtonColorComputed:c,callbackButtonColor:i,iconColor:d}})(),T=i&&Boolean(n);return(0,r.BX)("jdiv",{className:a()({[p.wrap]:!0,[p.__show]:!0,[p.__powerBtn]:i,[p.__desktopOffsetBottom]:T,[p.__powerBtnPositionLeft]:"left"===C,[p[`__${E}`]]:!i&&E,__jivoCallbackBtn:!0,__jivoVideoBtn:e}),style:{background:D||b.colorsFromFigma.GREEN_80,"--jivoDesktopOffsetBottom":T?`${n}px`:null},onClick:t,children:[(0,r.tZ)("jdiv",Object.assign({className:p.button},(0,d.locator)(e?u.Locator.CALLBACK_VIDEO_BUTTON:u.Locator.CALLBACK_BUTTON))),(0,r.BX)("jdiv",{className:p.iconWrap,children:[(0,r.tZ)(f.SvgIcon,{icon:e?s.default:l.default,color:"#fff",className:p.logoCallback}),e?(0,r.tZ)("jdiv",{className:p.popup,children:(0,c.l10n)("webrtc_video_text_popup")}):null]})]})}},46152:function(e,t,n){"use strict";n.r(t),n.d(t,{RootContainer:function(){return p}});var r=n(16584),o=(n(98661),n(94184)),i=n.n(o),a=n(96394),s=n(33302),l=n(54541),u={global:"global___nUfP",__dark:"__dark__mmWng",__light:"__light__WaMmn",__green:"__green__c0Nzs",__blue:"__blue__LeBL5",__grey:"__grey__V7p67"},c=n(93765),d=n(31011);var f="globalClass__QDY7u";const p=({children:e})=>(0,r.tZ)("jdiv",{className:i()(f,u.global,u.__light,{[u[`__${null===a.default||void 0===a.default?void 0:a.default.bubble_color}`]]:Boolean(null===a.default||void 0===a.default?void 0:a.default.bubble_color),"jv-chat-page-yclients":s.locationParams.chatPageYClients,"jv-ad":(0,l.showAd)()},Object.keys(d.platform).reduce(((e,t)=>!d.platform[t]||["os","supports","device","isNotSearchSpider"].includes(t)?e:`${e} ${(0,c.kebabCase)(t).replace("is-","jv-")}`),"").trim()),children:e})},81351:function(e,t,n){"use strict";n.r(t),n.d(t,{DisconnectAlert:function(){return I}});var r=n(16584),o=n(98661),i=n(94184),a=n.n(i),s=n(43832),l=n(18276),u=n(31076),c=n(36874),d=n(45007),f=n(49862),p=n(35233),g=n(65138),h=n(95421),m=n(66434);const _="online",v="offline",y="reconnect",b={stage:_,reconnects:0,disconnectTime:null,reconnectTime:null};function C(e,t){switch(t.type){case _:return Object.assign(Object.assign({},e),{stage:_});case v:return Object.assign(Object.assign({},e),{stage:v,disconnectTime:Date.now()});case y:return Object.assign(Object.assign({},e),{stage:y,reconnects:e.reconnects+1,reconnectTime:Date.now()});default:return e}}var E="container__NxDkW",D="wrapper__rfm7G",T="__show__uoJVz",w="main__pCIWe",S="offline__XKAjq",O="reconnect__ZlIZL",A="icon__teUpf";const I=({children:e,className:t,onReconnect:n})=>{const{isOnline:i,isOffline:I,isReconnect:k,onTransition:M}=(e=>{const[t,n]=(0,o.useReducer)(C,b),{route:r}=(0,d.v9)(g.selectApp),i=(0,h.c)(),a=(0,d.v9)(p.selectChatStarted),s=t.stage===_,l=t.stage===v,u=t.stage===y;return(0,o.useEffect)((function(){return i||u?i&&l?n({type:y}):void 0:n({type:v})}),[l,i,u]),(0,f.useDidUpdate)((function(){a&&(0,m.telemetry)("reconnection",{param1:r,param2:String(t.reconnects),param3:t.reconnectTime&&t.disconnectTime?String(Math.floor(t.reconnectTime-t.disconnectTime)/1e3):""})}),[t.reconnectTime]),{isOnline:s,isOffline:l,isReconnect:u,onTransition:t=>{t.stopPropagation(),u&&(null==e||e(),n({type:_}))}}})(n);return(0,r.BX)(r.HY,{children:[(0,r.tZ)("jdiv",{className:a()(E,t),children:(0,r.tZ)("jdiv",{className:a()(D,{[T]:I||k}),children:(0,r.BX)("jdiv",{className:a()(w,{[S]:I,[O]:k}),onTransitionEnd:M,children:[I&&(0,l.l10n)("disconnect_msg"),k&&(0,r.BX)(r.HY,{children:[(0,l.l10n)("reconnect_msg"),(0,r.tZ)(u.SvgIcon,{icon:s.Z,color:c.colorsFromFigma.GREEN_80,className:A})]})]})})}),i&&e?e:null]})}},75141:function(e,t,n){"use strict";n.r(t),n.d(t,{detectType:function(){return r}});const r=e=>!e.includes("image")||e.includes("photoshop")||e.includes("svg")?e.includes("video")?"video":e.includes("audio")?"audio":"document":"photo"},19934:function(e,t,n){"use strict";n.r(t),n.d(t,{useGetHeaderColors:function(){return l}});var r=n(45007),o=n(80598),i=n(87692),a=n(45683),s=n(31011);const l=()=>{const e=(0,r.v9)(i.selectWidgetColor),t=(0,r.v9)(i.selectWidgetColor2),n=(0,r.v9)(i.selectPowerButtonColor),l=(0,r.v9)(i.selectPowerGradient),u=(0,r.v9)(i.selectPattern),c=u?(0,a.getPatternURL)(u):null;return{background:(0,o.getBackground)(e,t,l,n,s.platform.isMobileOrChatpage),leafBackground:t||e,isDarkText:"dark"===(0,r.v9)(i.selectWidgetFontColor),patternUrl:c}}},41967:function(e,t,n){"use strict";n.r(t),n.d(t,{Label:function(){return de}});var r=n(16584),o=n(98661),i=n(97490),a=n(70859),s=n(91920),l=n(85074),u=n(75686),c=n(3579),d=n(10838),f=n(66434),p=n(24111),g=n(79105),h=n(65138),m=n(54541),_=n(13551),v=n(97615),y=n(27104);const b=()=>{const e=(0,p.useAppSelector)(h.selectApp),t=(0,p.useAppSelector)(g.selectUserSettings),n=(0,p.useAppSelector)(g.selectFeaturesSettings),r=(0,p.useAppSelector)(g.selectBillRu),o=(0,p.useAppSelector)(g.selectDesignerMobileView),a=(0,p.useAppSelector)(h.selectHiddenByRules),{isWidgetTarget:l}=(0,_.useWidgetExtensionsContext)(),u=(0,s.hasCustomLabel)(),c=v.EnvironmentManager.isDesignerEditor(),d=(0,m.showAd)(),f=[i.Route.HIDDEN,i.Route.CHAT_MIN].includes(e.route)||t.labelBubble||o||a,b=e.route===i.Route.LABEL_INVITATION;return{app:e,userSettings:t,features:n,text:e.isOnline?t.onlineWidgetLabel:t.offlineWidgetLabel,styles:(({fontFamily:e,fontSize:t,fontType:n,widgetFontColor:r,bgColor:o,bgColorSecondary:i})=>{const[a,s]=n.split(" "),l="dark"===r?"#000":"#fff",u=`${t}px`,c=`${e}, Arial`,d="bold"===a?"bold":"",f="bold"!==a?a:s||"",p=y.default.getGradientBg(o,i),g=i||o;return{vars:{"--jv-label-font-size":u,"--jv-label-font-family":c,"--jv-label-font-weight":d||null,"--jv-label-font-style":f||null,"--jv-label-color":l,"--jv-label-background":p,"--jv-label-background-corner":g},props:{fontSize:u,fontFamily:c,fontWeight:d,fontStyle:f,color:l,background:p,backgroundCorner:g}}})({fontFamily:t.fontFamily,fontSize:t.fontSize,fontType:t.fontType,widgetFontColor:t.widgetFontColor,bgColor:t.widgetColor,bgColorSecondary:t.widgetColor2}),hasCopyright:d,isBillRu:r,isHiddenByRules:a,isCustomLabel:u,isWidgetTarget:l,isDesignerEditor:c,isNotRender:f,isInvitation:b}};var C=n(78692),E=n(94184),D=n.n(E),T=n(88921),w=n(56443),S=n(31076),O="container__z5RXe",A="__isShow__SE7dv",I="close__lyuAL",k="icon__FT5oC",M="invitation__CaRVb",x="header__XTAWL",P="avatar__euBiq",R="text__bmblQ",F="content__Tv3OG",L="link__gQKGS";const j=({isShow:e,agentName:t,agentAvatarURL:n,text:o,onInvitationClick:i,onCloseClick:a,onMarkdownLinkClick:s})=>(0,r.BX)("jdiv",{className:D()(O,{[A]:e}),children:[(0,r.BX)("jdiv",{className:M,onClick:i,children:[(0,r.BX)("jdiv",{className:x,children:[(0,r.tZ)("jdiv",{className:P,style:{backgroundImage:`url(${n})`}}),(0,r.tZ)("jdiv",{className:R,children:t})]}),(0,r.tZ)("jdiv",{className:F,children:(0,r.tZ)(w.Markdown,{theme:{link:L,text:R},onLinkClick:s,children:o})})]}),(0,r.tZ)("jdiv",{className:I,onClick:a,children:(0,r.tZ)(S.SvgIcon,{icon:T.default,className:k,color:"#959BA0"})})]});var N=n(14264),B=n(45683);const U=({isShow:e,isOnline:t})=>{const{agentAvatarURL:n,agentName:o,text:a}=(()=>{const e=N.default.getLastUnreadApiInvitation();if(!e)return{agentAvatarURL:"",agentName:"",text:""};const{text:t,body:{avatar_url:n,display_name:r}}=e.toJSON();return{agentAvatarURL:(0,B.getAvatarApiURL)(n),agentName:null!=r?r:"",text:null!=t?t:""}})();return(0,r.tZ)(j,{agentName:o,agentAvatarURL:n,text:a,isShow:e,onInvitationClick:()=>{(0,l.showChat)(t,i.RouterEvent.Navigate),C.ApiInvitationsManager.markInvitationsRead()},onCloseClick:()=>{(0,l.closeWindow)(),(0,f.telemetry)("invite_close")},onMarkdownLinkClick:()=>{C.ApiInvitationsManager.sendUrlClickTelemetry()}})};var W=n(2982),H=n(53400);const z=(e,t)=>{const n={maxWidth:"calc(100vw - 80px)",bottom:0},r={maxWidth:"calc(100vh - 40px)",left:40,transformOrigin:"bottom left"},o={maxWidth:"calc(100vh - 40px)",right:0,transformOrigin:"bottom right"};return{bottom:{0:Object.assign(Object.assign({},n),{left:40}),50:Object.assign(Object.assign({},n),{right:"50%",transform:"translateX(50%)"}),100:Object.assign(Object.assign({},n),{right:40})},left:{0:Object.assign({},r),50:Object.assign(Object.assign({},r),{top:"50%",transform:"rotate(-90deg) translateX(calc(-50% + 40px))"}),100:Object.assign(Object.assign({},r),{bottom:20,transform:"rotate(-90deg)"})},right:{0:Object.assign({},o),50:Object.assign(Object.assign({},o),{top:"50%",transform:"rotate(-90deg) translateX(calc(50% + 40px))"}),100:Object.assign(Object.assign({},o),{bottom:20,transform:"rotate(-90deg) translateX(100%)"})}}[e][t]};var G={container:"container__nWr22",__isShow:"__isShow__yr262",__bottom:"__bottom__uMcNg",__isDesignerEditor:"__isDesignerEditor__I0LPl",__right:"__right__JGLvS",__left:"__left__R561J",__isWidgetTarget:"__isWidgetTarget___e7Ar",leafCont:"leafCont__LoGgS",copyContainer:"copyContainer__s5RpW",text:"text__P0SGC",_noAd:"_noAd__ZwSpr"};const $=(0,o.forwardRef)((({children:e,widgetOrientation:t,widgetPadding:n,style:i,isShow:a,isDesignerEditor:s,isWidgetTarget:l},u)=>{const c=(0,o.useRef)(null),d=(0,o.useRef)(z(t,n)),[f,p]=(0,o.useState)((0,W.getSavedLabelPosition)());return(0,o.useLayoutEffect)((()=>{const e=c.current;if(!e)return;const r=z(t,n),o=Object.assign(Object.assign({},r),{offsetWidth:e.offsetWidth});d.current=o,(0,W.saveLabelPosition)(o),p(o)}),[t,n,a]),(0,o.useImperativeHandle)(u,(()=>c.current),[]),a?(0,r.tZ)("jdiv",Object.assign({ref:c,id:"jvLabelWrap",className:D()(G.container,[G[`__${t}`],{[G.__isShow]:a,[G.__isDesignerEditor]:s,[G.__isWidgetTarget]:l},"notranslate"]),translate:!1,style:Object.assign(Object.assign({},f),i)},(0,H.locator)("LABEL"),{children:e})):null}));$.displayName="LabelContainer";var V=n(14045),Z={text:"text__RuvtS",__bottom:"__bottom__Enm7x",__right:"__right___1jSb",__left:"__left__nNl8I",__noCopyright:"__noCopyright__Lz9WR",__isOffline:"__isOffline__pnpq7",contentTransitionWrap:"contentTransitionWrap__Z1H5y",fadeIn:"fadeIn__mpRei"};const q=({children:e,widgetOrientation:t,isOnline:n,hasCopyright:o})=>(0,r.tZ)("jdiv",Object.assign({className:D()(Z.text,Z.contentTransitionWrap,Z[`__${t}`],{[Z.__isOffline]:!n,[Z.__noCopyright]:!o})},(0,H.locator)("LABEL_TEXT_"+(n?"ONLINE":"OFFLINE")),{children:(0,r.tZ)(V.Text,{children:e})}));var K={leaf:"leaf__r44nf",__right:"__right__kZSgl",__left:"__left__YWv75"};const Y=({children:e,widgetOrientation:t})=>(0,r.tZ)("jdiv",{className:D()(K.leaf,[K[`__${t}`]]),children:e});var J=n(45926),X=n(18276),Q=n(30349),ee=n(54446);const te=({href:e,text:t,className:n,linkClassName:o,textColor:i,isOnline:a,isBillRu:s,qaId:l})=>{const u=(0,r.tZ)(S.SvgIcon,{icon:s?Q.default:ee.default,className:n,color:i,color2:a?"#18c139":"#62666c"});return e?(0,r.BX)("a",Object.assign({className:o,href:e,rel:"nofollow noopener noreferrer",target:"_blank"},(0,H.locator)(`${l}_LINK`),{children:[null==t?void 0:t.start,u,null==t?void 0:t.end]})):u};var ne={container:"container__AMAoj",tooltipWrapper:"tooltipWrapper__pLiMU",__left:"__left__edkbM",tooltip:"tooltip___HqsO",__right:"__right__MhgYT",logo:"logo__EjYL6",icon:"icon__z_e8_",link:"link__gukZt",__isBillRu:"__isBillRu__iKP2x"};const re=({widgetOrientation:e,textColor:t,isOnline:n,isBillRu:i,onClick:a})=>{const s=(0,B.getUTMLink)("label_tooltip"),l=(0,o.useMemo)((()=>{const{document:e}=(0,J.getPageWindow)(),t=e.getElementById("jivo_copyright");return Boolean(null==t?void 0:t.childNodes.length)}),[]),[u,c]=l?(()=>{const{document:e}=(0,J.getPageWindow)(),t=e.getElementById("jivo_copyright");let n="",r="",o=!1;return t.childNodes.forEach((e=>{"#text"===e.nodeName&&(o?r+=e.textContent:n+=e.textContent),"A"===e.nodeName&&(o=!0)})),[n,r]})():(0,X.l10n)("businessCopyright",{0:"!x!"}).split("!x!");return(0,r.BX)("jdiv",{className:D()(ne.container,ne[`__${e}`]),children:[(0,r.tZ)("jdiv",Object.assign({className:ne.logo,onClick:a},(0,H.locator)("LABEL_COPYRIGHT_LOGO"),{children:(0,r.tZ)(te,{textColor:t,className:D()(ne.icon,{[ne.__isBillRu]:i}),isBillRu:i,isOnline:n})})),(0,r.tZ)("jdiv",{className:ne.tooltipWrapper,children:(0,r.tZ)("jdiv",Object.assign({className:ne.tooltip},(0,H.locator)("LABEL_COPYRIGHT_TOOLTIP"),{onClick:()=>{(0,f.telemetry)("logo_click",{param1:"label"})},children:(0,r.tZ)(te,{href:s,text:{start:u,end:c},textColor:t,className:D()(ne.icon,{[ne.__isBillRu]:i}),linkClassName:ne.link,isBillRu:i,isOnline:n,qaId:"LABEL_COPYRIGHT"})}))})]})};var oe="icon__PvVSM";const ie=({textColor:e})=>(0,r.tZ)(S.SvgIcon,{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h20v20H0z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M3 3h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M16.074 7.064l-6.01 4.01-6.01-4.01"/>\n    </g>\n</svg>\n',className:oe,color:e});var ae=n(51730),se=n(59699),le={hoverArea:"hoverArea__l3M81",menu:"menu__jWlsr",__left:"__left__u5Yzj",__right:"__right__ut6R4",__bottom:"__bottom__k324G"};const ue=({widgetOrientation:e,onClick:t})=>{const[n,i]=(0,o.useState)(!1);return(0,r.tZ)("jdiv",{className:le.hoverArea,onClick:t,onMouseOver:()=>{i(!0),(0,f.telemetry)("label_buttons_show",void 0,{once:!0})},onMouseLeave:()=>{i(!1)},children:(0,r.tZ)("jdiv",{className:D()(le.menu,[le[`__${e}`]]),children:n?(0,r.tZ)(se.R,{children:(0,r.tZ)(ae.OmniMenuContainer,{show:n})}):null})})};var ce=n(50402);const de=()=>{const{app:e,features:t,userSettings:n,text:p,styles:g,hasCopyright:h,isBillRu:m,isHiddenByRules:_,isCustomLabel:v,isWidgetTarget:y,isDesignerEditor:C,isNotRender:E,isInvitation:D}=b(),[T,w]=(0,o.useState)(!0),S=(0,o.useRef)(null),O=D?!D:T;return(0,o.useEffect)((()=>{S.current&&u.default.set(a.Component.LABEL,S.current),v&&t.enableSpaNavigate&&(0,s.showCustomLabel)(!_)}),[]),E?null:(0,r.BX)(r.HY,{children:[t.apiInvitation&&(0,r.tZ)(U,{isShow:D,isOnline:e.isOnline}),!v&&(0,r.tZ)(c.default,Object.assign({name:a.Component.LABEL},(A=w,{startCallbacks:{[ce.ScriptName.CLOSE_WIDGET]:()=>{A(!0)},[ce.ScriptName.OPEN_WIDGET]:()=>{A(!0)},[ce.ScriptName.MIN_WIDGET]:()=>{A(!1)}},endCallbacks:{[ce.ScriptName.OPEN_WIDGET]:()=>{A(!1)}}}),{style:{display:"block",zIndex:2147483646,position:y?"static":"fixed"},duration:"left"===n.widgetOrientation?"600ms":"300ms",animationPostfix:n.widgetOrientation,children:(0,r.BX)($,{ref:S,widgetOrientation:n.widgetOrientation,widgetPadding:n.widgetPadding,isShow:O,isDesignerEditor:C,isWidgetTarget:y,style:g.vars,children:[!e.isOnline&&(0,r.tZ)(ie,{textColor:g.props.color}),(0,r.tZ)(ue,{widgetOrientation:n.widgetOrientation,onClick:()=>{(0,l.showChat)(e.isOnline,i.RouterEvent.Navigate)}}),(0,r.tZ)(q,{widgetOrientation:n.widgetOrientation,isOnline:e.isOnline,hasCopyright:h,children:p}),h&&(0,r.tZ)(re,{widgetOrientation:n.widgetOrientation,textColor:g.props.color,isOnline:e.isOnline,isBillRu:m,onClick:()=>{(0,l.showChat)(e.isOnline,i.RouterEvent.Navigate),(0,f.telemetry)("logo_click",{param1:i.Route.LABEL})}}),(0,r.tZ)(Y,{widgetOrientation:n.widgetOrientation,children:(0,r.tZ)(d.Leaf,{online:e.isOnline,backgroundColor:n.widgetColor2||n.widgetColor,orientation:n.widgetOrientation})})]})}))]});var A}},72665:function(e,t,n){"use strict";n.r(t),n.d(t,{LandscapeOverlay:function(){return y}});var r=n(16584),o=(n(98661),n(94184)),i=n.n(o),a=n(24111),s=n(42601),l=n(43417),u=n(65138),c=n(74379),d=n(21476),f=n(97490),p=n(31011);const g=(e,t)=>{const n=[f.Route.LABEL,f.Route.HIDDEN].includes(e);return!(p.platform.isTablet||!t||n)};var h="container__dLz5i",m="__visible__PJZoy",_="__zoomPadding__z55sp",v="image__ZYPQm";const y=()=>{const{user:e}=(0,a.useAppSelector)(s.selectZoom),t=(0,a.useAppSelector)(u.selectRoute),n="landscape"===c.default.getOrientation();return(0,r.tZ)("jdiv",Object.assign({className:i()(h,{[m]:g(t,n),[_]:e&&e>1})},(0,l.onClickHandler)((()=>d.Router.next(f.RouterEvent.CloseWindow)),!0,!0),{children:(0,r.tZ)("jdiv",{className:v})}))}},10838:function(e,t,n){"use strict";n.r(t),n.d(t,{Leaf:function(){return d}});var r=n(16584),o=(n(98661),n(94184)),i=n.n(o),a=n(31011),s=n(53400),l=n(36874),u=n(31076),c={leaf:"leaf__AmBKi",_bottom:"_bottom__ZuFTK",_right:"_right__lmX9C",_left:"_left__wLwTu",cssLeaf:"cssLeaf__DTPFW",_offline:"_offline__IxVzx"};const d=({backgroundColor:e,onClick:t,online:n,orientation:o,qaId:d})=>a.platform.isMobileOrTablet?null:(0,r.tZ)("jdiv",Object.assign({className:i()({[c.leaf]:!0,[c["_"+o]]:!0}),onClick:t||void 0},(0,s.locator)(d),{children:(0,r.tZ)(u.SvgIcon,{color:e,color2:n?l.colorsFromFigma.GREEN_80:"#5e5f61",icon:n?'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR2_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z"/>\n    </g>\n</svg>\n':'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR1_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="1"/>\n        <path fill="#5e5f61" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="0.7"/>\n    </g>\n</svg>\n',className:c.cssLeaf})}))},56443:function(e,t,n){"use strict";n.r(t),n.d(t,{Markdown:function(){return fe}});var r=n(16584),o=n(98661),i=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},a=(e,t,n)=>(((e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)})(e,t,"access private method"),n);function s(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var l={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};function u(e){l=e}var c=/[&<>"']/,d=new RegExp(c.source,"g"),f=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,p=new RegExp(f.source,"g"),g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=e=>g[e];function m(e,t){if(t){if(c.test(e))return e.replace(d,h)}else if(f.test(e))return e.replace(p,h);return e}var _=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function v(e){return e.replace(_,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var y=/(^|[^\[])\^/g;function b(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=(r="object"==typeof r&&"source"in r?r.source:r).replace(y,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}var C=/[^\w:]/g,E=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function D(e,t,n){if(e){let e;try{e=decodeURIComponent(v(n)).replace(C,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!E.test(n)&&(n=function(e,t){T[" "+e]||(w.test(e)?T[" "+e]=e+"/":T[" "+e]=k(e,"/",!0));const n=-1===(e=T[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(S,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(O,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var T={},w=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,O=/^([^:]+:\/*[^/]*)[\s\S]*$/;var A={exec:()=>null};function I(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function k(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function M(e,t,n,r){const o=t.href,i=t.title?m(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:o,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:i,text:m(a)}}var x=class{constructor(e){this.options=e||l}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:k(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=k(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,o,i,a,s,l,u,c,d,f,p,g=t[1].trim();const h=g.length>1,m={type:"list",raw:"",ordered:h,start:h?+g.slice(0,-1):"",loose:!1,items:[]};g=h?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=h?g:"[*+-]");const _=new RegExp(`^( {0,3}${g})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=_.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),u=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],this.options.pedantic?(i=2,f=u.trimLeft()):(i=t[2].search(/[^ ]/),i=i>4?1:i,f=u.slice(i),i+=t[1].length),s=!1,!u&&/^ *$/.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),r=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),a=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;e&&(d=e.split("\n",1)[0],c=d,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!o.test(c))&&!a.test(c)&&!t.test(c)&&!r.test(e);){if(c.search(/[^ ]/)>=i||!c.trim())f+="\n"+c.slice(i);else{if(s)break;if(u.search(/[^ ]/)>=4)break;if(o.test(u))break;if(a.test(u))break;if(r.test(u))break;f+="\n"+c}s||c.trim()||(s=!0),n+=d+"\n",e=e.substring(d.length+1),u=c.slice(i)}}m.loose||(l?m.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(f),r&&(o="[ ] "!==r[0],f=f.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!r,checked:o,loose:!1,text:f}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=f.trimRight(),m.raw=m.raw.trimRight();const v=m.items.length;for(a=0;a<v;a++)if(this.lexer.state.top=!1,m.items[a].tokens=this.lexer.blockTokens(m.items[a].text,[]),!m.loose){const e=m.items[a].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));m.loose=t}if(m.loose)for(a=0;a<v;a++)m.items[a].loose=!0;return m}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):m(t[0]),r=e;r.type="paragraph",r.text=n,r.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:I(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,o,i,a=e.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(a=e.rows.length,n=0;n<a;n++)e.rows[n]=I(e.rows[n],e.header.length).map((e=>({text:e})));for(a=e.header.length,r=0;r<a;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(a=e.rows.length,r=0;r<a;r++)for(i=e.rows[r],o=0;o<i.length;o++)i[o].tokens=this.lexer.inline(i[o].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:m(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):m(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=k(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,o=0;for(;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),M(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return M(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=r[0].length-1;let o,i,a=n,s=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=o.length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const t=e.slice(0,n+r.index+i+1);if(Math.min(n,i)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=m(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=m(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=m(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=m(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=m(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):m(n[0]):n[0]:m(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}},P={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:A,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};P.def=b(P.def).replace("label",P._label).replace("title",P._title).getRegex(),P.bullet=/(?:[*+-]|\d{1,9}[.)])/,P.listItemStart=b(/^( *)(bull) */).replace("bull",P.bullet).getRegex(),P.list=b(P.list).replace(/bull/g,P.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+P.def.source+")").getRegex(),P._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,P.html=b(P.html,"i").replace("comment",P._comment).replace("tag",P._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P.lheading=b(P.lheading).replace(/bull/g,P.bullet).getRegex(),P.paragraph=b(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.blockquote=b(P.blockquote).replace("paragraph",P.paragraph).getRegex(),P.normal={...P},P.gfm={...P.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},P.gfm.table=b(P.gfm.table).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.gfm.paragraph=b(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",P.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P._tag).getRegex(),P.pedantic={...P.normal,html:b("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",P._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:A,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:b(P.normal._paragraph).replace("hr",P.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",P.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};var R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:A,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:A,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};function F(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function L(e){let t,n,r="";const o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}R._punctuation="\\p{P}$+<=>`^|~",R.punctuation=b(R.punctuation,"u").replace(/punctuation/g,R._punctuation).getRegex(),R.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,R.anyPunctuation=/\\[punct]/g,R._escapes=/\\([punct])/g,R._comment=b(P._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),R.emStrong.lDelim=b(R.emStrong.lDelim,"u").replace(/punct/g,R._punctuation).getRegex(),R.emStrong.rDelimAst=b(R.emStrong.rDelimAst,"gu").replace(/punct/g,R._punctuation).getRegex(),R.emStrong.rDelimUnd=b(R.emStrong.rDelimUnd,"gu").replace(/punct/g,R._punctuation).getRegex(),R.anyPunctuation=b(R.anyPunctuation,"gu").replace(/punct/g,R._punctuation).getRegex(),R._escapes=b(R._escapes,"gu").replace(/punct/g,R._punctuation).getRegex(),R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=b(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=b(R.tag).replace("comment",R._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=b(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=b(R.reflink).replace("label",R._label).replace("ref",P._label).getRegex(),R.nolink=b(R.nolink).replace("ref",P._label).getRegex(),R.reflinkSearch=b(R.reflinkSearch,"g").replace("reflink",R.reflink).replace("nolink",R.nolink).getRegex(),R.normal={...R},R.pedantic={...R.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:b(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:b(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()},R.gfm={...R.normal,escape:b(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},R.gfm.url=b(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks={...R.gfm,br:b(R.br).replace("{2,}","*").getRegex(),text:b(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};var j,N,B,U,W=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||l,this.options.tokenizer=this.options.tokenizer||new x,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:P.normal,inline:R.normal};this.options.pedantic?(t.block=P.pedantic,t.inline=R.pedantic):this.options.gfm&&(t.block=P.gfm,this.options.breaks?t.inline=R.breaks:t.inline=R.gfm),this.tokenizer.rules=t}static get rules(){return{block:P,inline:R}}static lex(e,t){return new W(t).lex(e)}static lexInline(e,t){return new W(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,o,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))r=t[t.length-1],i&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),i=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,o,i,a,s,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,L))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,L))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o,F))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}},H=class{constructor(e){this.options=e||l}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+m(r)+'">'+(n?e:m(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:m(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n,r){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+r.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=D(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=D(this.options.sanitize,this.options.baseUrl,e)))return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}},z=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},G=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},$=class{constructor(e){this.options=e||l,this.options.renderer=this.options.renderer||new H,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new z,this.slugger=new G}static parse(e,t){return new $(t).parse(e)}static parseInline(e,t){return new $(t).parseInline(e)}parse(e,t=!0){let n,r,o,i,a,s,l,u,c,d,f,p,g,h,m,_,y,b,C,E="";const D=e.length;for(n=0;n<D;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(C=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==C||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))E+=C||"";else switch(d.type){case"space":continue;case"hr":E+=this.renderer.hr();continue;case"heading":E+=this.renderer.heading(this.parseInline(d.tokens),d.depth,v(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":E+=this.renderer.code(d.text,d.lang,!!d.escaped);continue;case"table":for(u="",l="",i=d.header.length,r=0;r<i;r++)l+=this.renderer.tablecell(this.parseInline(d.header[r].tokens),{header:!0,align:d.align[r]});for(u+=this.renderer.tablerow(l),c="",i=d.rows.length,r=0;r<i;r++){for(s=d.rows[r],l="",a=s.length,o=0;o<a;o++)l+=this.renderer.tablecell(this.parseInline(s[o].tokens),{header:!1,align:d.align[o]});c+=this.renderer.tablerow(l)}E+=this.renderer.table(u,c);continue;case"blockquote":c=this.parse(d.tokens),E+=this.renderer.blockquote(c);continue;case"list":for(f=d.ordered,p=d.start,g=d.loose,i=d.items.length,c="",r=0;r<i;r++)m=d.items[r],_=m.checked,y=m.task,h="",m.task&&(b=this.renderer.checkbox(!!_),g?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:b}):h+=b),h+=this.parse(m.tokens,g),c+=this.renderer.listitem(h,y,!!_);E+=this.renderer.list(c,f,p);continue;case"html":E+=this.renderer.html(d.text,d.block);continue;case"paragraph":E+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(c=d.tokens?this.parseInline(d.tokens):d.text;n+1<D&&"text"===e[n+1].type;)d=e[++n],c+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);E+=t?this.renderer.paragraph(c):c;continue;default:{const e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}return E}parseInline(e,t){t=t||this.renderer;let n,r,o,i="";const a=e.length;for(n=0;n<a;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(o=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==o||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))i+=o||"";else switch(r.type){case"escape":case"text":i+=t.text(r.text);break;case"html":i+=t.html(r.text);break;case"link":i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":i+=t.image(r.href,r.title,r.text);break;case"strong":i+=t.strong(this.parseInline(r.tokens,t));break;case"em":i+=t.em(this.parseInline(r.tokens,t));break;case"codespan":i+=t.codespan(r.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}return i}},V=class{constructor(e){this.options=e||l}preprocess(e){return e}postprocess(e){return e}};V.passThroughHooks=new Set(["preprocess","postprocess"]);j=new WeakSet,N=function(e,t){return(n,r,o)=>{"function"==typeof r&&(o=r,r=null);const i={...r},s={...this.defaults,...i},l=a(this,B,U).call(this,!!s.silent,!!s.async,o);if(null==n)return l(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e,t){e&&!e.silent&&(t&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(e.sanitize||e.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(e.highlight||"language-"!==e.langPrefix)&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),e.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),e.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),e.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),e.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(e.headerIds||e.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}(s,o),s.hooks&&(s.hooks.options=s),o){const r=s.highlight;let i;try{s.hooks&&(n=s.hooks.preprocess(n)),i=e(n,s)}catch(e){return l(e)}const a=e=>{let n;if(!e)try{s.walkTokens&&this.walkTokens(i,s.walkTokens),n=t(i,s),s.hooks&&(n=s.hooks.postprocess(n))}catch(t){e=t}return s.highlight=r,e?l(e):o(null,n)};if(!r||r.length<3)return a();if(delete s.highlight,!i.length)return a();let u=0;return this.walkTokens(i,(e=>{"code"===e.type&&(u++,setTimeout((()=>{r(e.text,e.lang,((t,n)=>{if(t)return a(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),u--,0===u&&a()}))}),0))})),void(0===u&&a())}if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then((t=>e(t,s))).then((e=>s.walkTokens?Promise.all(this.walkTokens(e,s.walkTokens)).then((()=>e)):e)).then((e=>t(e,s))).then((e=>s.hooks?s.hooks.postprocess(e):e)).catch(l);try{s.hooks&&(n=s.hooks.preprocess(n));const r=e(n,s);s.walkTokens&&this.walkTokens(r,s.walkTokens);let o=t(r,s);return s.hooks&&(o=s.hooks.postprocess(o)),o}catch(e){return l(e)}}},B=new WeakSet,U=function(e,t,n){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+m(r.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(r);if(!n)throw r;n(r)}};var Z=new class{constructor(...e){i(this,j),i(this,B),this.defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},this.options=this.setOptions,this.parse=a(this,j,N).call(this,W.lex,$.parse),this.parseInline=a(this,j,N).call(this,W.lexInline,$.parseInline),this.Parser=$,this.parser=$.parse,this.Renderer=H,this.TextRenderer=z,this.Lexer=W,this.lexer=W.lex,this.Tokenizer=x,this.Slugger=G,this.Hooks=V,this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":for(const e of r.header)n=n.concat(this.walkTokens(e.tokens,t));for(const e of r.rows)for(const r of e)n=n.concat(this.walkTokens(r.tokens,t));break;case"list":n=n.concat(this.walkTokens(r.items,t));break;default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[r.type]?this.defaults.extensions.childTokens[r.type].forEach((e=>{n=n.concat(this.walkTokens(r[e],t))})):r.tokens&&(n=n.concat(this.walkTokens(r.tokens,t)))}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new H(this.defaults);for(const n in e.renderer){const r=t[n];t[n]=(...o)=>{let i=e.renderer[n].apply(t,o);return!1===i&&(i=r.apply(t,o)),i}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new x(this.defaults);for(const n in e.tokenizer){const r=t[n];t[n]=(...o)=>{let i=e.tokenizer[n].apply(t,o);return!1===i&&(i=r.apply(t,o)),i}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new V;for(const n in e.hooks){const r=t[n];V.passThroughHooks.has(n)?t[n]=o=>{if(this.defaults.async)return Promise.resolve(e.hooks[n].call(t,o)).then((e=>r.call(t,e)));const i=e.hooks[n].call(t,o);return r.call(t,i)}:t[n]=(...o)=>{let i=e.hooks[n].apply(t,o);return!1===i&&(i=r.apply(t,o)),i}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}};function q(e,t,n){return Z.parse(e,t,n)}q.options=q.setOptions=function(e){return Z.setOptions(e),q.defaults=Z.defaults,u(q.defaults),q},q.getDefaults=s,q.defaults=l,q.use=function(...e){return Z.use(...e),q.defaults=Z.defaults,u(q.defaults),q},q.walkTokens=function(e,t){return Z.walkTokens(e,t)},q.parseInline=Z.parseInline,q.Parser=$,q.parser=$.parse,q.Renderer=H,q.TextRenderer=z,q.Lexer=W,q.lexer=W.lex,q.Tokenizer=x,q.Slugger=G,q.Hooks=V,q.parse=q;q.options,q.setOptions,q.use,q.walkTokens,q.parseInline,$.parse;var K=W.lex,Y=n(30633),J=n(93765),X=n(94184),Q=n.n(X);const ee=/&(?:amp|lt|gt|quot|#(0+)?39);/g,te=RegExp(ee.source),ne={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var re=n(53400),oe=n(14045),ie=n(66434),ae={wrapper:"wrapper___fNCK","heading-1":"heading-1__X7sKS",text:"text__UIpvP",imageContainer:"imageContainer__aGlBM",imageLink:"imageLink__q7wmI",image:"image__C4E67",mediaType:"mediaType__MjNcE",blockquote:"blockquote__tL2fx",paragraph:"paragraph__vaX2v",list:"list__RwzL2",listItem:"listItem__Jw8qe",marker:"marker__rr2BL",unordered:"unordered__mEMGP",content:"content__vfunh",strong:"strong__DDZPP",italic:"italic__cUFuX",strikethrough:"strikethrough__ydsmY",link:"link__Pi8Vi",emoji:"emoji__ihHxl"};const se=({containerClassName:e,className:t,href:n,title:o,qaId:i})=>{const a=Boolean(n&&(n.includes("youtube")||n.includes("youtu.be"))),s=Boolean(n&&!a&&n.includes(".gif")),l=(0,r.BX)(r.HY,{children:[(0,r.tZ)("img",Object.assign({src:n,title:o,className:Q()(ae.image,t)},(0,re.locator)(`${i}_IMAGE`))),a||s?(0,r.tZ)("jdiv",Object.assign({className:ae.mediaType},(0,re.locator)(`${i}_MEDIA_${a?"YOUTUBE":"GIF"}`),{children:a?"YouTube":"GIF"})):null]});return(0,r.tZ)("jdiv",Object.assign({className:Q()(ae.imageContainer,e)},(0,re.locator)(`${i}_IMAGE_CONTAINER`),{children:a?(0,r.tZ)("a",Object.assign({href:n,title:o,target:"_blank",rel:"nofollow noopener noreferrer",className:ae.imageLink},(0,re.locator)(`${i}_IMAGE_LINK`),{children:l})):l}))},le=({className:e,listItemClassName:t,markerClassName:n,contentClassName:o,items:i,ordered:a,startNumber:s,qaId:l,parseToken:u})=>(0,r.tZ)("jdiv",Object.assign({className:Q()(ae.list,e)},(0,re.locator)(`${l}_LIST`),{children:i.map(((e,i)=>{var c;return(0,r.BX)("jdiv",Object.assign({className:Q()(ae.listItem,t)},(0,re.locator)(`${l}_LIST_ITEM_${i+1}`),{children:[(0,r.tZ)("jdiv",{className:Q()(ae.marker,n,{[ae.unordered]:!a}),children:a?`${s+i}.`:(0,r.tZ)(r.HY,{children:"•"})}),(0,r.tZ)("jdiv",Object.assign({className:Q()(ae.content,o)},(0,re.locator)(`${l}_LIST_ITEM_${i+1}_CONTENT`),{children:null===(c=e.tokens)||void 0===c?void 0:c.map(u)}))]}),e.raw)}))})),ue=(0,o.forwardRef)((({tokens:e,emojiQueue:t,theme:n,nativeEmoji:o,qaId:i,onLinkClick:a},s)=>{const l=(()=>{let e=0;return(t,n)=>{if(!n||!n.length||!t.includes(":emoji:"))return t;let r=t;for(;r.includes(":emoji:");)r=r.replace(":emoji:",n[e]),e+=1;return r}})(),u=e=>{var s,c,d,f,p,g,h,m,_,v,y,b,C,E,D,T;switch(e.type){case"image":return(0,r.tZ)(se,{href:e.href,title:e.title,containerClassName:null===(s=null==n?void 0:n.image)||void 0===s?void 0:s.container,className:null===(c=null==n?void 0:n.image)||void 0===c?void 0:c.base,qaId:i});case"link":return(0,r.tZ)("a",Object.assign({href:e.href,title:e.text,target:"_blank",rel:"nofollow noopener noreferrer",className:Q()(ae.link,null==n?void 0:n.link),onClick:()=>{null==a||a(),(0,ie.telemetry)("markdown_link_click",{param1:e.href})}},(0,re.locator)(`${i}_LINK`),{children:null===(d=e.tokens)||void 0===d?void 0:d.map(u)}));case"heading":return(0,r.tZ)("jdiv",Object.assign({className:Q()(ae[`heading-${e.depth}`],{[String(null===(f=null==n?void 0:n.heading)||void 0===f?void 0:f.h1)]:(null===(p=null==n?void 0:n.heading)||void 0===p?void 0:p.h1)&&1===e.depth})},(0,re.locator)(`${i}_HEADING_${e.depth}`),{children:null===(g=e.tokens)||void 0===g?void 0:g.map(u)}));case"paragraph":return(0,r.tZ)("jdiv",Object.assign({className:Q()(ae.paragraph,null==n?void 0:n.paragraph)},(0,re.locator)(`${i}_PARAGRAPH`),{children:null===(h=e.tokens)||void 0===h?void 0:h.map(u)}));case"blockquote":return(0,r.tZ)("jdiv",Object.assign({className:Q()(ae.blockquote,null==n?void 0:n.blockquote)},(0,re.locator)(`${i}_BLOCKQUOTE`),{children:null===(m=e.tokens)||void 0===m?void 0:m.map(u)}));case"list":return(0,r.tZ)(le,{className:null===(_=null==n?void 0:n.list)||void 0===_?void 0:_.base,listItemClassName:null===(v=null==n?void 0:n.list)||void 0===v?void 0:v.li,markerClassName:null===(y=null==n?void 0:n.list)||void 0===y?void 0:y.marker,contentClassName:null===(b=null==n?void 0:n.list)||void 0===b?void 0:b.content,items:e.items,ordered:e.ordered,startNumber:e.start,qaId:i,parseToken:u});case"text":case"singlequote":case"code":case"codespan":case"html":return(0,r.tZ)(oe.Text,{className:Q()(ae.text,null==n?void 0:n.text),nativeEmoji:o,includeWrapper:!0,disableLinkify:!0,disableAloneEmoji:!0,qaId:i,children:e.tokens?e.tokens.map(u):l((T=e.text,T&&te.test(T)?T.replace(ee,(e=>ne[e]||"'")):T),t)});case"strong":return(0,r.tZ)("jdiv",Object.assign({className:Q()(ae.strong,null==n?void 0:n.strong)},(0,re.locator)(`${i}_STRONG`),{children:null===(C=e.tokens)||void 0===C?void 0:C.map(u)}));case"em":return(0,r.tZ)("jdiv",Object.assign({className:Q()(ae.italic,null==n?void 0:n.italic)},(0,re.locator)(`${i}_ITALIC`),{children:null===(E=e.tokens)||void 0===E?void 0:E.map(u)}));case"del":return(0,r.tZ)("jdiv",Object.assign({className:Q()(ae.strikethrough,null==n?void 0:n.strikethrough)},(0,re.locator)(`${i}_STRIKETHROUGH`),{children:null===(D=e.tokens)||void 0===D?void 0:D.map(u)}));default:return null}};return(0,r.tZ)("jdiv",Object.assign({ref:s,className:Q()(ae.wrapper,null==n?void 0:n.wrapper)},(0,re.locator)(`${i}_WRAPPER`),{children:e.map(u)}))}));ue.displayName="Tokenizer";const ce={name:"singlequote",level:"inline",start(e){return e.indexOf("'")},tokenizer(e){const t=/^'/.exec(e);if(t)return{type:"singlequote",raw:t[0],text:t[0]}},renderer(e){return e.text}};q.use({mangle:!1,extensions:[ce]});const de=(0,o.forwardRef)((({children:e,theme:t,nativeEmoji:n,qaId:i,onLinkClick:a},s)=>{if(e&&"string"!=typeof e)throw new TypeError("Markdown: Expected children to be of type string but got "+typeof e);const{tokens:l,emojiQueue:u}=(0,o.useMemo)((()=>{const t=e,n=t.match(Y.EMOJI_REGEX);return{tokens:K((0,J.replaceAll)(t,Y.EMOJI_REGEX,":emoji:")),emojiQueue:n}}),[e]);return(0,r.tZ)(ue,{ref:s,tokens:l,emojiQueue:u,theme:t,nativeEmoji:n,qaId:i,onLinkClick:a})}));de.displayName="Markdown";const fe=(0,o.memo)(de)},17739:function(e,t,n){"use strict";n.d(t,{t:function(){return Ee}});var r=n(16584),o=n(98661),i=n(87536),a=n(18357),s=n(2305),l=n(96394),u=n(83549),c=n(75686),d=n(70859),f=n(90061),p=n(97490),g=n(68403),h=n(88263),m=n(45926),_=n(43417),v=n(45691),y=n(93907),b=n(73422),C=n(53130),E=n(18166),D=n(20827),T=n(87826),w=n(25886),S=n(79868),O=n(66434),A=n(47367),I=n(24111),k=n(65138),M=n(97979),x=n(79105),P=n(99915),R=n(31011),F=n(17097);const L=()=>{const e=(0,P.R)(),{isOnline:t,chatStarted:n}=(0,I.useAppSelector)(k.selectApp),r=(0,I.useAppSelector)(M.selectClient),i=(0,I.useAppSelector)(x.selectEula),a=(0,I.useAppSelector)(x.selectMailing),{isContactFormPreview:s,previewSettings:l}=(0,o.useContext)(F.h),u=!s&&Boolean(a),c=Boolean(r.isIntroduced),d=!s&&Boolean(i&&!r.eulaAccepted),f=R.platform.isMobileOrTablet,p=(0,o.useMemo)((()=>(0,y.dc)({client:s?void 0:r,settings:s?l:e,isEULA:d,isMailing:u})),[r,d,u,l,s]);return{client:r,hasEULA:d,isMailingEnabled:u,isIntroduced:c,isOnline:t,isMobile:f,isContactFormPreview:s,chatStarted:n,formShape:p}};var j=n(94184),N=n.n(j),B="container__L_H0t",U="__preview__wustb";const W=(0,o.forwardRef)((({children:e,isPreview:t},n)=>(0,r.tZ)("jdiv",{ref:n,className:N()(B,{[U]:t}),children:e})));W.displayName="ContactFormContainer";var H=n(53400),z="wrapper__wpRQY",G="focus__iFuYo",$="overlay__bT1MD";const V=({children:e,hasFocus:t,onOverlayClick:n,ref:o})=>(0,r.BX)("jdiv",Object.assign({className:N()(z,{[G]:t}),ref:o},(0,H.locator)("CONTACTS_FORM"),{children:[!t&&(0,r.tZ)("jdiv",Object.assign({className:$},n)),e]}));var Z=n(18276),q="socialText__oAA33",K="link__ilbs0";const Y=({isVkURL:e,isFbURL:t,onSocialClick:n})=>(0,r.BX)("jdiv",{className:q,children:[`${(0,Z.l10n)("introduce_social")} `,e&&(0,r.tZ)("jdiv",Object.assign({className:K},(0,_.onClickHandler)((()=>n("vk")),!1,!0),{children:(0,Z.l10n)("social_vk")})),e&&t&&` ${(0,Z.l10n)("introduce_or")} `,t&&(0,r.tZ)("jdiv",Object.assign({className:K},(0,_.onClickHandler)((()=>n("fb")),!1,!0),{children:"Facebook"}))]});var J=n(52274),X=n(49798),Q=n(60478),ee=n(14045);const te=(e,t)=>{const n=c.default.getComponent("ScrollContainer");if(!n||!t||!e)return;const r=new IntersectionObserver((e=>{e.forEach((e=>{if(!e.isIntersecting){const t=Math.floor(e.boundingClientRect.bottom),r=e.rootBounds?t-e.rootBounds.bottom+5:0;r>0&&n.scrollTop(n.getScrollTop()+r)}r.disconnect()}))}),{root:n.container,threshold:.5,rootMargin:"0px 0px -120px"});r.observe(t)};var ne="button__aetsO",re="input__rVWgJ",oe="checkbox__bTcMJ",ie="__hidden__PxSyn",ae="checkboxForm__yUDVS",se="checkboxTextWrapper__VC8ze",le="checkboxText__wuOK5";const ue=({control:e,fields:t,clientPhone:n,isEULA:o,isMailing:i,isSubmitted:a,onSubmit:s,onCountryChange:l})=>(0,r.BX)(r.HY,{children:[t.map((({name:t,required:o,title:i,show:a,attribute_type:s,settings:u})=>{if(!a||"country"===t||"message"===t)return null;const c=(0,y.Ql)(null!=s?s:t),d=i||(0,y.ph)(t),f=`CONTACTS_FORM_${t.toUpperCase()}${o?"_REQUIRED":""}`,p=(null==u?void 0:u.options)&&u.options.length>0?u.options.map((e=>({value:e,label:e}))):null;return"number"===c?(0,r.tZ)(Q.Y2,{control:e,name:t,containerClassName:re,label:d,required:o,maxLength:J.MAX_ATTRIBUTE_NUMBER_LENGTH,qaId:f},t):"list"===c&&p?(0,r.tZ)(Q.Ph,{control:e,name:t,options:p,containerClassName:re,label:d,required:o,showSearch:!0,showReset:!0,searchPlaceholder:(0,Z.l10n)("attribute_list_search_placeholder"),qaId:f,onValueClick:te},t):"checkbox"===c?(0,r.tZ)(Q.XZ,{control:e,name:t,labelClassName:ae,textClassName:se,label:(0,r.tZ)("jdiv",{className:le,children:d}),required:o,qaId:f},t):"date"===c?(0,r.tZ)(Q.Wr,{control:e,name:t,containerClassName:re,label:d,required:o,qaId:f},t):"phone"===t?(0,r.tZ)(Q.sb,{control:e,name:t,watchValue:n,containerClassName:re,label:d,required:o,onCountryChange:l,qaId:f},t):(0,r.tZ)(Q.II,{control:e,name:t,type:c,containerClassName:re,label:d,required:o,maxLength:s?J.MAX_ATTRIBUTE_STRING_LENGTH:void 0,qaId:f},t)})),o&&(0,r.tZ)(Q.wc,{control:e,name:"eula",labelClassName:oe,required:!0,qaId:"CONTACTS_FORM_EULA",telemetryLinkParams:{param1:"from_contact_form"}}),(0,r.tZ)(Q._M,{control:e,name:"mailing",labelClassName:N()(oe,{[ie]:!i}),qaId:"CONTACTS_FORM_MAILING",telemetryLinkParams:{param1:"from_contact_form"}}),(0,r.tZ)(X.Button,{size:"md",tabIndex:0,className:ne,fullWidth:!0,disabled:a,qaId:"CONTACTS_FORM_SUBMIT",onClick:s,onKeyDown:e=>{"Enter"===e.key&&(null==s||s())},children:(0,r.tZ)(ee.Text,{children:a?(0,Z.l10n)("lblThanks"):(0,Z.l10n)("lblSend")})})]});var ce=n(65465),de=n(54346),fe=n(44145),pe=n(24344),ge=n(26932),he=n(79523),me=n(49963),_e=n(23336),ve=n(5895);const ye=(0,f.createLogger)("ContactForm"),be=({isOnline:e,isIntroduced:t,values:n})=>{var r,o,i,a;if(!e){if(t||(ge.clientDispatchers.setClientEmail(null!==(r=n.email)&&void 0!==r?r:null),ge.clientDispatchers.setClientPhone(null!==(o=n.phone)&&void 0!==o?o:null),ge.clientDispatchers.setClientName(null!==(i=n.name)&&void 0!==i?i:null),ge.clientDispatchers.setClientDescription(null!==(a=n.description)&&void 0!==a?a:null),ge.clientDispatchers.setIsIntroduced(!0)),ge.appDispatchers.setChatStarted(!0),ge.appDispatchers.setIsInputDisabled(!1),he.introduceActions.setClientContactInfo(n,!1,!0),me.connectionAdapter.checkConnection(),!(0,de.isAssistantBot)()){const e=ce.messageActions.getOfflineSuccessText();e&&ce.messageActions.systemMessageOnce(e)}me.connectionAdapter.isConnected()&&(0,ve.sendOfflineTmpMessages)();const e=(0,fe.getLastClientMessage)();return ye.log("lastClientMessage",e),e&&ce.messageActions.checkMessageStatus(e.private_id),(0,pe.callUserFunction)("onOfflineFormSubmit"),void(0,O.telemetry)("offline_form_submit",{param1:"formSubmitSuccess",param2:(0,y.OQ)()},{once:!0})}t?(he.introduceActions.sendIntroduction(n),me.connectionAdapter.checkConnection()):((0,_e.reportCampaignContactsStat)(),he.introduceActions.setClientContactInfo(n,!1,!0),ge.clientDispatchers.setIsIntroduced(!0))},Ce=(0,f.createLogger)("ContactForm"),Ee=({messages:e=[]})=>{var t;(0,u.useErrorCatcher)("ContactForm");const n=e[0],{client:f,hasEULA:I,isMailingEnabled:k,formShape:M,isIntroduced:x,isMobile:P,isOnline:R,isContactFormPreview:F,chatStarted:j}=L(),N=(0,o.useRef)(null),B=(0,o.useRef)(!1),{ref:U}=(0,a.YD)({delay:100,trackVisibility:!0,onChange:(e,t)=>{c.default.set("ContactFormObserver",{entry:t,inView:e,focusFirstInput:ae})}});(0,o.useImperativeHandle)(U,(()=>N.current),[]);const H=F||Boolean(null===(t=n.get("body"))||void 0===t?void 0:t.inited),[z,G]=(0,o.useState)(x||H),[$,Z]=(0,o.useState)(!F&&(!I&&x)),[q,K]=(0,o.useState)(null),J=(0,o.useRef)(M.values),X=!F&&(j&&!P&&!(0,g.hasIntegration)(f.hasIntegration)&&((null==q?void 0:q.links.fbUrl)||(null==q?void 0:q.links.vkUrl))),{control:Q,watch:ee,getValues:te,setValue:ne,handleSubmit:re,formState:{errors:oe}}=(0,i.cI)({defaultValues:M.values,resolver:(0,s.X)(M.resolver),mode:"onChange"}),ie=(0,E.X)({values:ee(["email","phone"]),isMailingEnabled:k,mailing:f.mailing},J.current),ae=()=>{var e;G(!0),H||n.set("body",{inited:!0}),N.current&&(null===(e=N.current.querySelector("input"))||void 0===e||e.focus()),(0,O.telemetry)("chat_introduce",{param1:"formFocused"},{once:!0})},se=re((()=>{if($)return;const e=te();if(Ce.log("SUBMIT CONTACTS",e),J.current=e,I&&(0,T.D)(),k&&(e.mailing?(0,C.O)(e):(0,C.f)(e)),P){const{activeElement:e}=(0,m.getPageWindow)().document;null==e||e.blur()}if(Z(!0),be({isOnline:R,isIntroduced:x,values:e}),l.default.enable_client_attributes){const t=M.fields.filter((({attribute_type:e})=>e)).reduce(((t,n)=>{if(!e[n.name])return t;const r=e[n.name];return t[n.name]="date"===n.attribute_type?(0,A.Al)(r):r,t}),{});(0,D.isEmpty)(t)||(0,v.sendClientAttributes)(t,f.clientId)}}),(()=>{(0,y.ql)(R,oe)}));return(0,o.useEffect)((()=>{if(F)return;const e=te();["name","email","phone"].forEach((t=>{const n=f[t];t in e&&!(0,b.isNil)(n)&&n!==e[t]&&(("email"===t||"phone"===t)&&k&&f.mailing[t]&&(0,C.f)(e),ne(t,n,{shouldDirty:!0,shouldValidate:!0}))}))}),[f.name,f.email,f.phone,f.mailing,k]),(0,o.useEffect)((()=>{if(F||!f.attributes)return;const e=te();M.attributeKeys.forEach((t=>{var n;f.attributes&&t in e&&!(0,b.isNil)(f.attributes[t])&&e[t]!==f.attributes[t]&&ne(t,null!==(n=f.attributes[t])&&void 0!==n?n:"",{shouldDirty:!0,shouldValidate:!0})}))}),[f.attributes]),(0,o.useEffect)((()=>{const e=ee((()=>{B.current?$&&Z(!1):B.current=!0}));return()=>e.unsubscribe()}),[ee,$]),(0,o.useEffect)((()=>{N.current&&c.default.set(d.Component.CHAT_INTRODUCE,N.current),H||n.set("body",{inited:!0}),K((0,w.getJoints)())}),[]),(0,r.BX)(W,{ref:N,isPreview:F,children:[(0,r.tZ)(V,{hasFocus:z,onOverlayClick:(0,_.onClickHandler)(ae,!1,!0),ref:U,children:(0,r.tZ)(ue,{control:Q,fields:M.fields,clientPhone:f.phone,isSubmitted:$,isEULA:I,isMailing:ie,onSubmit:F?void 0:se,onCountryChange:e=>{ne("country",e)}})}),X&&(0,r.tZ)(Y,{isVkURL:Boolean(null==q?void 0:q.links.vkUrl),isFbURL:Boolean(null==q?void 0:q.links.fbUrl),onSocialClick:e=>{if(P&&(null==q?void 0:q.links)){const{fbUrl:t,vkUrl:n}=q.links;window.open("fb"===e?t:n)}else S.default.setPopupMode(e),h.routerService.next(p.RouterEvent.ToSocial),(0,O.telemetry)("chat_introduce_social",{param1:`click_${e}`})}})]})}},59699:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(16584),o=(n(98661),n(30396));const i=({children:e})=>{const[t]=(0,o.cO)();return t?(0,r.tZ)(r.HY,{}):e}},95429:function(e,t,n){"use strict";n.r(t),n.d(t,{MobileProactive:function(){return X}});var r=n(16584),o=n(98661),i=n(83549),a=n(22901),s=n(42634),l=n(66547),u=n(84998),c=n(66434),d=n(80797),f=n(63666),p=n(94767),g=n(25886),h=n(45683),m=n(24111),_=n(97296),v=n(79105),y=n(42601);var b=n(94184),C=n.n(b),E=n(96603),D=n(50339),T=n(53400),w="container__NJngo",S="__left__cucZU",O="__right__L7EPz",A="__hasImage__ZGHkb",I="__show__aN7dy",k="__isWidgetConstructor__A2hAu",M="close__KNexD",x="wrapper__w1CTz";const P=({show:e,children:t,orientation:n,design:o,appZoom:i,isWidgetConstructor:a,hasImage:s,onClick:l,onClose:u})=>{var c;return(0,r.BX)("jdiv",{className:C()(w,{[I]:e,[S]:!a&&"left"===n,[O]:a||"right"===n,[k]:a,[A]:s}),style:{zoom:i&&1!==i?.75:null,"--jv-mobile-proactive-color":null!==(c=null==o?void 0:o.textColor)&&void 0!==c?c:null,"--jv-mobile-proactive-background":(null==o?void 0:o.background)?(0,D.buildBackground)(null==o?void 0:o.background):null},children:[(0,r.tZ)("jdiv",Object.assign({className:M,onClick:u},(0,T.locator)("MOBILE_PROACTIVE_CLOSE"),{children:(0,r.tZ)(E.CloseIcon,{})})),(0,r.tZ)("jdiv",{className:x,onClick:a?void 0:l,children:t})]})};var R=n(31076),F="agent___RZ4f",L="avatar__kiGSO",j="name__aXMYr";const N=({name:e,avatarUrl:t,qaId:n})=>(0,r.BX)("jdiv",{className:F,children:[t?(0,r.tZ)("jdiv",Object.assign({className:L,style:{backgroundImage:`url(${t})`}},(0,T.locator)(`${n}_AGENT_AVATAR`))):(0,r.tZ)(R.SvgIcon,{icon:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36">\n  <defs>\n    <circle id="a" cx="18" cy="18" r="18"/>\n  </defs>\n  <g fill="none" fill-rule="evenodd">\n    <mask id="b" fill="#fff">\n      <use xlink:href="#a"/>\n    </mask>\n    <use fill="#191D2E" opacity=".1" xlink:href="#a"/>\n    <path fill="#BFC0C5" fill-rule="nonzero" d="M27.588 29.805h-1.891a3.783 3.783 0 0 1-3.783-3.783v-1.215c.837-.995 1.437-2.171 1.81-3.414.039-.21.24-.313.375-.457.724-.725.866-1.946.323-2.816-.074-.132-.207-.247-.2-.41 0-1.11.006-2.22-.001-3.329-.03-1.338-.412-2.73-1.35-3.72-.758-.801-1.798-1.278-2.87-1.482-1.357-.259-2.775-.246-4.118.096-1.163.294-2.257.975-2.933 1.986-.598.878-.86 1.945-.905 2.996-.017 1.128-.004 2.26-.007 3.39.025.227-.167.38-.253.568-.512.928-.287 2.192.535 2.867.209.144.248.407.324.633a9.148 9.148 0 0 0 1.704 3.051v1.256a3.783 3.783 0 0 1-3.782 3.783H8.674S5.246 30.751 3 35.479v1.892a1.89 1.89 0 0 0 1.891 1.89h26.48a1.89 1.89 0 0 0 1.891-1.89v-1.892c-2.246-4.728-5.674-5.674-5.674-5.674z" mask="url(#b)"/>\n  </g>\n</svg>',className:L,qaId:`${n}_AGENT_AVATAR_PLACEHOLDER`}),(0,r.tZ)("jdiv",Object.assign({className:j},(0,T.locator)(`${n}_AGENT_NAME`),{children:e}))]});var B="iMessageLink__amjex";const U=({href:e,onClick:t})=>(0,r.tZ)("a",{href:e,target:"_blank",rel:"nofollow noopener noreferrer",className:B,onClick:t});var W=n(56443),H=n(14045);var z="content__Gse1J",G="__large__CLIzN",$="mdWrapper__hx3t1",V="image__oD99x",Z="text__qdc5B",q="mdTitle__ew9kR",K="mdText__SOBtA",Y="mdLink__pyNI4";const J=({text:e,imgSrc:t,isMarkdown:n,qaId:i})=>{const a=(0,o.useRef)(null),s=(0,o.useMemo)((()=>!!a.current&&("--jv-mobile-proactive-md-max-height"in a.current.style||a.current.style.setProperty("--jv-mobile-proactive-md-max-height","150px"),a.current.clientHeight>=150)),[a.current]);return(0,r.BX)("jdiv",{className:C()(z,{[G]:s}),children:[t&&(0,r.tZ)("jdiv",Object.assign({className:V,style:{backgroundImage:`url(${t})`}},(0,T.locator)(`${i}_CONTENT_IMAGE`))),n?(0,r.tZ)(W.Markdown,{ref:a,theme:{wrapper:$,heading:{h1:q},link:Y,text:K},qaId:`${i}_CONTENT_MARKDOWN`,children:e}):(0,r.tZ)(H.Text,{className:Z,includeWrapper:!0,qaId:`${i}_CONTENT_TEXT`,children:e})]})},X=()=>{(0,i.useErrorCatcher)("MobileProactiveController");const{widgetMobileOrientation:e,proactiveContent:t,iMessageURL:n,agentAvatarURL:b,callHeaderText:C,appZoom:E,isWidgetConstructor:D}=(()=>{var e;const{isWidgetConstructor:t}=(0,d.useWidgetConstructorContext)(),n=(0,m.useAppSelector)(_.T),r=(0,m.useAppSelector)(v.selectCampaignWidgetMobileProactive),o=(0,f.y)(null==n?void 0:n.campaignId),i=(0,m.useAppSelector)(v.selectWidgetMobileOrientation),a=(0,m.useAppSelector)(v.selectCallHeaderText),{app:s}=(0,m.useAppSelector)(y.selectZoom),l=(0,p.getMobileProactiveContent)(n,r||(null==o?void 0:o.content.widget_settings),t);return{widgetMobileOrientation:i,proactiveContent:l,constructorProactive:r,iMessageURL:(0,g.getJoints)().links.imUrl||null,agentAvatarURL:(null===(e=null==l?void 0:l.agent)||void 0===e?void 0:e.avatarUrl)?(0,h.getAvatarApiURL)(l.agent.avatarUrl):"",callHeaderText:a,appZoom:s,isWidgetConstructor:t}})(),{text:T,agent:w,imgSrc:S,design:O,isMarkdown:A,isCampaign:I}=t,k=I?"MOBILE_PROACTIVE_CAMPAIGN":"MOBILE_PROACTIVE",[M,x]=(0,a.useToggle)(!1),R=()=>{x(),setTimeout((()=>{(0,s.rejectProactive)(),l.default.set("close_time",Date.now()),(0,c.telemetry)("invite_close")}),200)};return(0,o.useEffect)((()=>{setTimeout((()=>{x()}),200)}),[]),(0,r.BX)(P,{show:M,orientation:e,design:O,appZoom:E,isWidgetConstructor:D,hasImage:Boolean(S),onClick:()=>{(0,u.openMenuClick)(C,!0)},onClose:R,children:[n&&(0,r.tZ)(U,{href:n,onClick:()=>{(0,c.telemetry)("powerbtn_open_im"),R()}}),w&&w.name&&(0,r.tZ)(N,{name:w.name,avatarUrl:b,qaId:k}),(0,r.tZ)(J,{text:T,imgSrc:S,isMarkdown:A,qaId:k})]})}},84998:function(e,t,n){"use strict";n.r(t),n.d(t,{addHistory:function(){return v},getIconColor:function(){return C},getPowerButtonColor:function(){return b},getUnreadMessagesWithProactive:function(){return y},handleButtonClick:function(){return E},handleOpenMenuClick:function(){return D},handleUnreadClick:function(){return w},openMenuClick:function(){return S},reportOpenTelemetry:function(){return T}});var r=n(81152),o=n(44145),i=n(26932),a=n(31011),s=n(36148),l=n(92790),u=n(97490),c=n(25886),d=n(16217),f=n(88263),p=n(65465),g=n(42634),h=n(85074),m=n(66434),_=n(27104);const v=()=>{var e;!(0,o.getFeatures)().disableMobileBack&&a.platform.isMobileOrTablet&&window.history&&"function"==typeof window.history.pushState&&(null===(e=(0,l.historyManagerInstance)())||void 0===e||e.setHistoryState())},y=e=>{const t=(0,o.getProactive)(),n=(0,o.getMessages)();let i=!!t.text&&t.status!==s.MessageStatus.READ;return e&&!i&&(i=!0),e||!(e=>e.filter((e=>e.from===r.MessageInitiator.AGENT&&e.status!==s.MessageStatus.READ&&e.type==r.MessageType.FOR_TEST)).length)(n)||(0,o.getApp)().isOnline||(i=!0),(0,o.getUnreadMessages)().length+(i?1:0)},b=({isDesktop:e,powerButtonColor:t,powerGradient:n,color:r,color2:o})=>n||e?_.default.getGradientBg(r,o):t,C=({isDesktop:e,powerButtonColor:t,powerGradient:n,color:r,widgetFontColor:o})=>{const i="#3e414f",a="#fff";if("auto"!==o)return"light"===o?a:i;let s;return s=n||e?_.default.isLightColor(r):_.default.isLightColor(t),s?i:a},E=()=>{i.appDispatchers.setAppIsFocused(!0),p.messageActions.deleteUnansweredOfflineSystemInvite(),p.messageActions.offlineSystemInvite(),p.messageActions.addPrechatMessage(),(0,h.navigateToChat)(!0),(0,h.onOpenChat)(),T("from_pwr")},D=()=>{i.appDispatchers.setChatOpenByClient(!1),f.routerService.next(u.RouterEvent.ToMobileMenu),(0,m.telemetry)("powerbtn_open_menu",{param1:"menu",param2:String(a.platform.supports.pointer?1:0)})},T=e=>{const t={};e&&(t.param1=e,t.param2=String(a.platform.supports.pointer?1:0)),(0,o.getSystemSettings)().botmode&&(t.param4=1),(0,m.telemetry)("widget_click",t)},w=(e,t)=>{i.appDispatchers.setAppIsFocused(!0),e?f.routerService.next(u.RouterEvent.ToCall):(f.routerService.next(u.RouterEvent.ToChat),i.userDispatchers.setCallHeaderText(null)),(0,h.onOpenChat)(),(0,g.readProactive)(),T(t?"from_popup":null)},S=(e,t)=>{const{route:n}=(0,o.getApp)(),r=(0,c.getJoints)();n!==u.Route.MOBILE_MENU&&(i.appDispatchers.setChatOpenByClient(!0),y(Boolean(e))?w(e,t):r.count>0||(0,d.isVideoCallEnabled)()?D():E()),v()}},14045:function(e,t,n){"use strict";n.r(t),n.d(t,{Text:function(){return re}});var r=n(16584),o=n(98661),i=n(96394);const a=/\uFE0F/g,s=String.fromCharCode(8205),l=()=>Boolean(null===i.default||void 0===i.default?void 0:i.default.disable_emoji),u=e=>{let t="string"==typeof e?parseInt(e,16):e;return t<65536?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))};var c=n(94184),d=n.n(c),f=n(45926);const p={angel:"1f607",unicorn_face:"1f984",confused:"1f615",rage:"1f621",imp:"1f608",disappointed:"1f61e",kissing_heart:"1f618",yum:"1f60b",disappointed_relieved:"1f625",weary:"1f629",grin:"1f601",laughing:"1f606",wink:"1f609",sunglasses:"1f60e",neutral_face:"1f610",winking_eye:"1f61c",hushed:"1f62e",thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f603"};var g=n(45683),h=n(66434);const m=({children:e,className:t,source:n})=>(0,r.tZ)("jdiv",{className:t,draggable:!1,alt:e,style:{backgroundImage:`url(${n})`},children:e});var _=n(69861),v=n(22783),y=n(69860),b=n(44544),C=n(12239),E=n(70881),D=n(92380),T=n(74373),w=n(67567),S=n(57737),O=n(14534),A=n(78393),I=n(79378),k=n(5541),M=n(87966),x=n(94475),P=n(45152),R=n(63365),F=n(22426),L=n(56482),j=n(23791);const N={angel:_.default,unicorn_face:v.default,confused:y.default,rage:b.default,imp:C.default,disappointed:E.default,kissing_heart:D.default,yum:T.default,disappointed_relieved:w.default,weary:S.default,grin:O.default,laughing:A.default,wink:I.default,sunglasses:k.default,neutral_face:M.default,winking_eye:x.default,hushed:P.default,thumbsup:L.default,thumbsdown:R.default,smile:F.default,tada:j.default};var B={emojiIcon:"emojiIcon__JDuCC",emojiMessages:"emojiMessages__lBH9q",__isAlone:"__isAlone__WznIW",iconSuccess:"iconSuccess__jVa5m",icon:"icon__jD_18"};const U=(0,o.memo)((({icon:e,className:t,type:n="emojiMessages",isAlone:o=!1})=>{var i;const a=(0,f.hasExternalEmojiProcessor)(),s=d()(B.emojiIcon,{[B[n]]:n,[B.__isAlone]:o},t);if(!N[e]){const t=null!==(i=p[e])&&void 0!==i?i:e,n=u(t),o=(0,g.getEmojiURL)(t);return o.endsWith("/.svg")?((0,h.telemetry)("asset_error",{param1:"emoji",param2:e},{once:!0}),null):(0,r.tZ)(m,{source:o,className:s,children:a?null:n})}const l=u(e);return(0,r.tZ)("jdiv",{className:s,children:(0,r.tZ)("jdiv",{className:B.icon,style:{backgroundImage:`url("data:image/svg+xml,${encodeURIComponent(N[e])}")`},alt:l,children:a?null:l})})}));var W=n(53400),H=n(30633),z=n(68337),G=n.n(z),$=n(50754),V=n.n($),Z=n(52161);const q=G()().add("file:",null),K=/(http|https)?:\/\//,Y=/(http|https|ftp)?:\/\//,J=/mailto/,X=e=>{const t=e.replace(/https?:\/\//,""),n=t.split("/")[0],r=V().toUnicode(n),o=t.replace(n,r);let i=o;try{i=decodeURIComponent(o)}catch(e){}return(e=>e.length>80?`${e.slice(0,30)}...${e.slice(-30)}`:e)((0,Z.escape)(i))},Q=(e,t)=>K.test(t)||J.test(e)?e:`https://${t}`,ee=e=>Y.test(e)?e.replace(Y,""):e,te=(e,t,n="string")=>{let r=0;if("array"===n){const n=[];return t.forEach((({index:o,lastIndex:i,url:a,text:s},l)=>{const u=e.substring(r,o);r=i,n.push(u,{url:Q(a,s),title:ee(s),text:X(s)}),l===t.length-1&&n.push(e.substring(r,e.length))})),n}return t.reduce(((n,{index:o,lastIndex:i,url:a,text:s},l)=>{const u=e.substring(r,o);return r=i,n+=`${u}${((e,t,n)=>`<a href="${e}" target="_blank" rel="noopener" title="${t}">${n}</a>`)(Q(a,s),ee(s),X(s))}`,l===t.length-1&&(n+=e.substring(r,e.length)),n}),"")},ne=(e,t,n)=>{const{disableLinkify:r,nativeEmoji:o}=n,i=r?null:((e,t="string")=>{const n=q.test(e);return"array"===t?n?te(e,q.match(e),t):null:n?te(e,q.match(e)):e})(e,"array"),a=o?null:e.match(H.EMOJI_REGEX);let s=[e];if(i&&(s=i.map(((e,n)=>"string"!=typeof e?t.link(`link-${n}`,e):e))),a){const e=a.map(((e,n)=>t.emoji(`emoji-${n}`,e)));let n=0;s=s.flatMap((t=>"string"!=typeof t||-1===t.search(H.EMOJI_REGEX)?t:t.split(H.EMOJI_REGEX).reduce(((t,r,o,{length:i})=>(t.push(r),o!==i-1&&(t.push(e[n]),n++),t)),[])))}return s},re=(0,o.memo)((({children:e,className:t,nativeEmoji:n=l(),disableLinkify:o=!1,disableAloneEmoji:i=!1,includeWrapper:u=!1,qaId:c})=>{const d="string"==typeof e,f=!(!d||i)&&(e=>{let t=0;const n=e.replace(H.EMOJI_REGEX,(()=>(t++,""))).match(/\S/gu);return 1===t&&!n})(e),p=d?ne(e,{emoji:(e,t)=>{return(0,r.tZ)(U,{icon:(n=t,((e,t)=>{const n=[];let r=0,o=0,i=0;for(;i<e.length;)r=e.charCodeAt(i++),o?(n.push((65536+(o-55296<<10)+(r-56320)).toString(16)),o=0):55296<=r&&r<=56319?o=r:n.push(r.toString(16));return n.join(t||"-")})(n.indexOf(s)<0?n.replace(a,""):n,o)),isAlone:f},e);var n,o},link:(e,{url:t,title:n,text:o})=>(0,r.tZ)("a",Object.assign({href:t,target:"_blank",rel:"noopener noreferrer",title:n},(0,W.locator)(`${c}_TEXT_LINK`),{children:o}),e)},{nativeEmoji:n,disableLinkify:o}):e;return d&&u?(0,r.tZ)("jdiv",Object.assign({className:t},(0,W.locator)(`${c}_TEXT_CONTAINER`),{children:p})):(0,r.tZ)(r.HY,{children:p})}))},40388:function(e,t,n){"use strict";n.d(t,{XZ:function(){return w},mZ:function(){return Q},II:function(){return h},Ph:function(){return q}});var r=n(16584),o=n(98661),i=n(94184),a=n.n(i),s=n(31076),l=n(53400);var u={container:"container__qAcIq",input:"input__cSH9h",label:"label__EXUFM",__filled:"__filled__nZ5vc",__outlined:"__outlined__gtyNt",__hasLabel:"__hasLabel__L__7f",__hasValue:"__hasValue__QQ2Cn",__hasDisabled:"__hasDisabled__dwtyh",mask:"mask__DaLxK",__hasValid:"__hasValid__f90eT",__hasError:"__hasError__W0KyO",__hasValidation:"__hasValidation__vpI4y",validation:"validation__fVo7X",__hasLeftPlace:"__hasLeftPlace__L7dCc",__autoHeight:"__autoHeight__dwyQc",icon:"icon__nAMK9",__error:"__error__VPpce",__visible:"__visible__yr8v3",leftPlace:"leftPlace__Bx6SP",maxLength:"maxLength__Z5ZRt"};const c=(e,t)=>`${e}${t.slice(e.length)}`;var d="mask__S_kx9",f="__visible__e9SqO";const p=({className:e,formattedValue:t,matchedCountry:n})=>{const o=`+${null==n?void 0:n.phone_code} ${null==n?void 0:n.phone_format}`,i=Boolean(t)&&t.length<=`+${null==n?void 0:n.phone_code}`.length;return(0,r.tZ)("jdiv",{className:a()(d,{[f]:i},e),children:i?c(t,o):o})};var g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const h=(0,o.forwardRef)(((e,t)=>{const{computedLabel:n,computedPlaceholder:o,computedMaxLength:i,hasLabel:c,hasValue:d,hasDisabled:f,hasValid:h,hasError:m,hasValidation:_,hasLeftPlace:v}=(({label:e,value:t,placeholder:n,disabled:r,valid:o,error:i,required:a,leftPlace:s,maxLength:l})=>{const u=Boolean(e),c="string"==typeof t&&Boolean(t.trim()),d=Boolean(r),f=Boolean(o),p=Boolean(i),g=Boolean(o||i),h=Boolean(s);return{computedLabel:a?`${e}*`:e,computedPlaceholder:n&&a?`${n}*`:n,computedMaxLength:"string"==typeof t&&l?l-t.length:!c&&l?l:0,hasLabel:u,hasValue:c,hasDisabled:d,hasValid:f,hasError:p,hasValidation:g,hasLeftPlace:h}})(e),{containerRef:y,containerClassName:b,className:C,variant:E="filled",valid:D,leftPlace:T,maskProps:w,showMaxLengthCounter:S=!0,autoHeight:O=!1,qaId:A,onChange:I}=e,k=g(e,["containerRef","containerClassName","className","variant","valid","leftPlace","maskProps","showMaxLengthCounter","autoHeight","qaId","onChange"]),M=e=>{null==I||I(e.currentTarget.value,e),O&&(e.currentTarget.style.setProperty("--jv-input-auto-height","46px"),e.currentTarget.style.setProperty("--jv-input-auto-height",`${e.currentTarget.scrollHeight}px`))};return(0,r.BX)("jdiv",{ref:y,className:a()(u.container,u[`__${E}`],{[u.__hasLabel]:c,[u.__hasValue]:d,[u.__hasDisabled]:f,[u.__hasLeftPlace]:v,[u.__hasValidation]:_,[u.__hasValid]:h,[u.__hasError]:m},b),children:[T&&(0,r.tZ)("jdiv",{className:u.leftPlace,children:T}),"textarea"===e.type?(0,r.BX)(r.HY,{children:[(0,r.tZ)("textarea",Object.assign({},k,{ref:t,className:a()(u.input,{[u.__autoHeight]:O},C),placeholder:o,onChange:M,required:void 0},(0,l.locator)(A))),e.maxLength&&S&&(0,r.tZ)("jdiv",{className:u.maxLength,children:i})]}):(0,r.BX)(r.HY,{children:[(0,r.tZ)("input",Object.assign({},k,{ref:t,className:a()(u.input,C),placeholder:o,onChange:M,required:void 0},(0,l.locator)(A))),w&&(0,r.tZ)(p,Object.assign({},w,{className:u.mask}))]}),(0,r.BX)("jdiv",{className:u.validation,children:[(0,r.tZ)(s.SvgIcon,{icon:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">\n    <defs>\n        <path id="a" d="M0 0h24v24H0z"/>\n    </defs>\n    <g fill="none" fill-rule="evenodd" transform="rotate(-90 12 12)">\n        <mask id="b" fill="#fff">\n            <use xlink:href="#a"/>\n        </mask>\n        <g stroke="#18C139" stroke-linecap="round" stroke-width="1.5" mask="url(#b)">\n            <path d="M16.343 17.814l-7.657-5.657L12.343 8.5"/>\n        </g>\n    </g>\n</svg>\n',className:a()(u.icon,{[u.__visible]:D}),qaId:"INPUT_VALID_ICON"}),(0,r.tZ)(s.SvgIcon,{icon:'<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6c-3.312 0-6 2.688-6 6s2.688 6 6 6 6-2.688 6-6-2.688-6-6-6Zm.6 9h-1.2v-1.2h1.2V15Zm0-2.4h-1.2V9h1.2v3.6Z" fill="#e54c44"/></svg>',className:a()(u.icon,u.__error,{[u.__visible]:m}),qaId:"INPUT_INVALID_ICON"})]}),c&&(0,r.tZ)("jdiv",{className:u.label,children:n})]})}));h.displayName="Input";var m="label__eZ6FP",_="checkbox__Vt111",v="input__cW9ys",y="switch__JcNkh",b="__hasError__FgPRD",C="container__cYeOz",E="text__um5Iq",D="required__l_zY1",T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const w=(0,o.forwardRef)(((e,t)=>{const{variant:n="default",value:i,label:s,error:u,required:c,className:d,labelClassName:f,containerClassName:p,textClassName:g,qaId:h,onChange:w}=e,S=T(e,["variant","value","label","error","required","className","labelClassName","containerClassName","textClassName","qaId","onChange"]),O=(0,o.useRef)(null),A=Boolean(u);return(0,o.useImperativeHandle)(t,(()=>O.current),[]),(0,r.BX)("jdiv",{className:a()(m,{[b]:A},f),onClick:e=>{var t;"A"!==e.target.tagName&&(null==w||w(!(null===(t=O.current)||void 0===t?void 0:t.checked)))},children:[(0,r.BX)("jdiv",{className:a()(C,p),children:[(0,r.tZ)("input",Object.assign({},S,{ref:O,type:"checkbox",checked:i,className:a()(v,d)})),(0,r.tZ)("jdiv",Object.assign({className:a()({[_]:"default"===n,[y]:"switch"===n})},(0,l.locator)(h)))]}),s&&(0,r.BX)("jdiv",{className:a()(E,g),children:[s,c&&(0,r.tZ)("jdiv",{className:D,children:"*"})]})]})}));w.displayName="Checkbox";var S=n(22901),O=n(4231),A=n(96603);var I="list__qu6ll",k="__show__IgOLI",M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const x=(0,o.forwardRef)(((e,t)=>{var{children:n,listMaxHeight:o,isShow:i}=e,s=M(e,["children","listMaxHeight","isShow"]);return(0,r.tZ)("jdiv",Object.assign({},s,{ref:t,className:a()(I,{[k]:i}),style:{"--jv-select-list-max-height":`${o}px`},onWheel:e=>{e.stopPropagation()},children:n}))}));x.displayName="List";var P="container__xNiZ0",R="__bottom__nB9M7",F="pane__Costu",L="__top__HM0fW",j="__show__J3Eyq";const N=(0,o.forwardRef)((({children:e,isShow:t,isReverse:n=!1},o)=>(0,r.tZ)("jdiv",{ref:o,className:a()(P,{[j]:t,[R]:!n,[L]:n}),children:(0,r.tZ)("jdiv",{className:F,children:e})})));N.displayName="SelectListWrapper";var B="item__D2urE",U="__selected__vbjFH",W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const H=e=>{var{children:t,isSelected:n}=e,o=W(e,["children","isSelected"]);return(0,r.tZ)("jdiv",Object.assign({className:a()(B,{[U]:n})},o,{onTouchMove:e=>{e.stopPropagation()},children:t}))};var z=n(18357);const G=({children:e,isBigList:t,onChange:n})=>t?(0,r.tZ)(z.df,{as:"jdiv",onChange:n,children:e}):(0,r.tZ)(r.HY,{children:e});var $=n(73422);const V=(e,t,n)=>e?(e=>t=>{const{state:n,update:r,searchValue:o}=e;t&&(o.trim().length>0?r(10):r(n+10))})(n):t?(e=>t=>{const{state:n,update:r,searchValue:o}=e;t&&(o.trim().length>0?r(10):r(n-10))})(n):void 0;var Z={container:"container__MLJ0I",label:"label__WhOvZ",__filled:"__filled__nwp6E",__outlined:"__outlined__bdoKU",__inset:"__inset__vBOOx",selectedValue:"selectedValue__jC0iz",arrow:"arrow__vZRV6",__hasValue:"__hasValue__mFAlk",__hasFocus:"__hasFocus__cUzD3",__hasDisabled:"__hasDisabled__a9okp",__hasValid:"__hasValid__GtKB1",__hasError:"__hasError__GvbxV",__hasLooseList:"__hasLooseList__JpgM9",__hasReset:"__hasReset__cVIMn",__isSingle:"__isSingle__corSf",reset:"reset__IatRq"};const q=(0,o.forwardRef)(((e,t)=>{const{computedLabel:n,hasLabel:i,hasValid:s,hasError:u,hasOwnShow:c}=(({label:e,valid:t,error:n,ownShow:r,required:o})=>{const i="boolean"==typeof r,a=Boolean(e);return{hasOwnShow:i,computedLabel:o?`${e}*`:e,hasValid:Boolean(t),hasError:Boolean(n),hasLabel:a}})(e),{containerClassName:d,searchContainerClassName:f,variant:p="filled",disabled:g=!1,required:m,rawOutput:_=!1,showSearch:v=!1,showReset:y=!1,looseList:b=!1,showTop:C=!1,searchPlaceholder:E,listMaxHeight:D=130,defaultValue:T,ownValue:w,ownShow:I,options:k,qaId:M,filter:P,selectedValueRender:R,optionRender:F,onChange:L,onValueClick:j}=e,[B,U]=(0,o.useState)(""),W=(0,o.useMemo)((()=>{if(!v)return k;const e=P?P(k,B):((e,t)=>{const n=t.trim().toLowerCase();return n?e.filter((({value:e,label:t})=>{const r=t.toLowerCase().includes(n),o=!(0,$.isNil)(e)&&String(e).toLowerCase().includes(n);return r||o})):e})(k,B);return e.length>0?e:k}),[k,B,v,P]),z=1===k.length,q=k.length>=100,K=(0,o.useRef)(null),Y=(0,o.useRef)(null),J=(0,o.useRef)(null),[X,Q]=(0,S.useToggle)(!1),[ee,te]=(0,o.useState)((()=>((e,t)=>{const n=t.find((t=>t.value===String(e)));return null!=n?n:e?{value:e,label:e}:""})(T,W))),[ne,re]=(0,o.useState)(10),oe=null!=w?w:ee,ie=c?Boolean(I):X,ae=y&&!m&&Boolean(oe.value),se=e=>{const t=_?e:null==e?void 0:e.value;null==L||L(t)};return(0,o.useImperativeHandle)(t,(()=>K.current),[]),(0,O.useClickOutside)(K,(()=>{c||Q(!1)})),(0,r.BX)("jdiv",{ref:K,className:a()(Z.container,Z[`__${p}`],{[Z.__hasValue]:Boolean(oe.value),[Z.__hasFocus]:ie,[Z.__hasDisabled]:g,[Z.__hasValid]:s,[Z.__hasError]:u,[Z.__hasLooseList]:b,[Z.__hasReset]:ae},d),children:[(0,r.BX)("jdiv",Object.assign({className:a()(Z.selectedValue,{[Z.__isSingle]:z}),onClick:()=>{z||(null==j||j(!ie,J.current),c||Q(),ie||setTimeout((()=>{var e;null===(e=Y.current)||void 0===e||e.focus()}),150))}},(0,l.locator)(`${M}_SELECT_VALUE`),{children:[R?R(oe,z):oe.label,ae&&(0,r.tZ)("jdiv",{className:Z.reset,onClick:e=>{e.stopPropagation();const t={value:"",label:""};te(t),se(t)},children:(0,r.tZ)(A.CloseIcon,{})}),!z&&(0,r.tZ)("jdiv",{className:Z.arrow})]})),i&&(0,r.tZ)("jdiv",{className:Z.label,children:n}),(0,r.BX)(N,{ref:J,isShow:ie,isReverse:C,children:[v&&k.length>5&&(0,r.tZ)(h,{ref:Y,type:"text",containerClassName:f,value:B,placeholder:E,autoComplete:"search-off",onChange:U,qaId:`${M}_SELECT_SEARCH`}),(0,r.tZ)(x,Object.assign({listMaxHeight:D,isShow:ie},(0,l.locator)(`${M}_SELECT_LIST`),{children:W.map(((e,t)=>q&&t>ne?null:(0,r.tZ)(G,{isBigList:q,onChange:V(t===ne-2,ne>10&&t===ne-20,{state:ne,searchValue:B,update:re}),children:(0,r.tZ)(H,Object.assign({isSelected:e.value===oe.value,onClick:()=>(e=>{c||Q(!1),v&&U(""),void 0===w&&te(e),se(e)})(e)},(0,l.locator)(`${M}_SELECT_OPTION_${t+1}`),{children:F?F(e,t):e.label}))},e.value)))}))]})]})}));var K="container__VQUyc",Y="circle__nGH2u",J="progress__zI3qD",X="text__OUFqu";const Q=({className:e,size:t=100,progress:n,maxProgress:o=100,text:i,hideText:s=!1})=>{const{viewBox:l,circleRadius:u,circleX:c,circleY:d,circleWidth:f,circleCircumference:p,percentage:g,textFontSize:h,cssVars:m}=(({size:e,progress:t,maxProgress:n})=>{const r=e/2,o=r-10,i=r,a=r,s=Math.floor(r/6),l=Math.PI*o*2;return{viewBox:`0 0 ${e} ${e}`,circleRadius:o,circleX:i,circleY:a,circleWidth:s,circleCircumference:l,percentage:Math.round(l*((n-t)/n)),textFontSize:3*s,cssVars:{"--jv-circle-size":`${e}px`}}})({size:t,progress:n,maxProgress:o});return(0,r.tZ)("jdiv",{className:a()(K,e),style:m,children:(0,r.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:l,children:[(0,r.tZ)("circle",{r:u,cx:c,cy:d,className:Y,strokeWidth:f}),(0,r.tZ)("circle",{r:u,cx:c,cy:d,className:J,strokeWidth:f,strokeDasharray:p,strokeDashoffset:g}),!s&&(0,r.tZ)("text",{className:X,x:c,y:d,fontSize:h,dominantBaseline:"central",children:null!=i?i:n})]})})}},60478:function(e,t,n){"use strict";n.d(t,{XZ:function(){return J},Wr:function(){return Y},wc:function(){return X},II:function(){return Z},_M:function(){return Q},Y2:function(){return K},sb:function(){return q},Ph:function(){return ee}});var r=n(16584),o=n(98661),i=n(87536),a=n(40388),s=n(94184),l=n.n(s),u=n(18276),c=n(22901),d=n(4231),f=n(24111),p=n(79105);const g=[{code:"CA",name:"Canada",name_ru:"Канада",phone_code:"1",phone_format:"204-234-5678"},{code:"DO",name:"Dominican Republic",name_ru:"Доминиканская Республика",phone_code:"1",phone_format:"809-234-5678"},{code:"PR",name:"Puerto Rico",name_ru:"Пуэрто-Рико",phone_code:"1",phone_format:"787-234-5678"},{code:"US",name:"United States (USA)",name_ru:"Соединенные Штаты Америки (США)",phone_code:"1",phone_format:"201-555-0123"},{code:"KZ",name:"Kazakhstan",name_ru:"Казахстан",phone_code:"7",phone_format:"771 000 9998"},{code:"RU",name:"Russian Federation",name_ru:"Россия",phone_code:"7",phone_format:"912 345-67-89"},{code:"EG",name:"Egypt",name_ru:"Египет",phone_code:"20",phone_format:"100 123 4567"},{code:"ZA",name:"South Africa",name_ru:"ЮАР",phone_code:"27",phone_format:"71 123 4567"},{code:"GR",name:"Greece",name_ru:"Греция",phone_code:"30",phone_format:"691 234 5678"},{code:"NL",name:"Netherlands",name_ru:"Нидерланды",phone_code:"31",phone_format:"6 12345678"},{code:"BE",name:"Belgium",name_ru:"Бельгия",phone_code:"32",phone_format:"470 12 34 56"},{code:"FR",name:"France",name_ru:"Франция",phone_code:"33",phone_format:"6 12 34 56 78"},{code:"ES",name:"Spain",name_ru:"Испания",phone_code:"34",phone_format:"612 34 56 78"},{code:"HU",name:"Hungary",name_ru:"Венгрия",phone_code:"36",phone_format:"20 123 4567"},{code:"IT",name:"Italy",name_ru:"Италия",phone_code:"39",phone_format:"312 345 6789"},{code:"RO",name:"Romania",name_ru:"Румыния",phone_code:"40",phone_format:"712 345 678"},{code:"CH",name:"Switzerland",name_ru:"Швейцария",phone_code:"41",phone_format:"26 123 45 678"},{code:"AT",name:"Austria",name_ru:"Австрия",phone_code:"43",phone_format:"644 123456"},{code:"GB",name:"United Kingdom",name_ru:"Великобритания",phone_code:"44",phone_format:"7797 123456"},{code:"DK",name:"Denmark",name_ru:"Дания",phone_code:"45",phone_format:"20 12 34 56"},{code:"SE",name:"Sweden",name_ru:"Швеция",phone_code:"46",phone_format:"70 123 45 67"},{code:"NO",name:"Norway",name_ru:"Норвегия",phone_code:"47",phone_format:"412 34 567"},{code:"PL",name:"Poland",name_ru:"Польша",phone_code:"48",phone_format:"512 345 678"},{code:"DE",name:"Germany",name_ru:"Германия",phone_code:"49",phone_format:"151 23456789"},{code:"PE",name:"Peru",name_ru:"Перу",phone_code:"51",phone_format:"912 345 678"},{code:"MX",name:"Mexico",name_ru:"Мексика",phone_code:"52",phone_format:"1 222 123 4567"},{code:"CU",name:"Cuba",name_ru:"Куба",phone_code:"53",phone_format:"5 1234567"},{code:"AR",name:"Argentina",name_ru:"Аргентина",phone_code:"54",phone_format:"9 11 2345-6789"},{code:"BR",name:"Brazil",name_ru:"Бразилия",phone_code:"55",phone_format:"11 61234-5678"},{code:"CL",name:"Chile",name_ru:"Чили",phone_code:"56",phone_format:"9 6123 4567"},{code:"CO",name:"Colombia",name_ru:"Колумбия",phone_code:"57",phone_format:"321 1234567"},{code:"VE",name:"Venezuela",name_ru:"Венесуэла",phone_code:"58",phone_format:"412-1234567"},{code:"MY",name:"Malaysia",name_ru:"Малайзия",phone_code:"60",phone_format:"12-345 6789"},{code:"AU",name:"Australia",name_ru:"Австралия",phone_code:"61",phone_format:"412 345 678"},{code:"ID",name:"Indonesia",name_ru:"Индонезия",phone_code:"62",phone_format:"812-345-67890"},{code:"PH",name:"Philippines",name_ru:"Филиппины",phone_code:"63",phone_format:"905 123 4567"},{code:"NZ",name:"New Zealand",name_ru:"Новая Зеландия",phone_code:"64",phone_format:"21 123 45678"},{code:"SG",name:"Singapore",name_ru:"Сингапур",phone_code:"65",phone_format:"8123 4567"},{code:"TH",name:"Thailand",name_ru:"Таиланд",phone_code:"66",phone_format:"81 234 5678"},{code:"JP",name:"Japan",name_ru:"Япония",phone_code:"81",phone_format:"70-1234-5678"},{code:"KR",name:"South Korea",name_ru:"Южная Корея",phone_code:"82",phone_format:"10-2345-6789"},{code:"VN",name:"Vietnam",name_ru:"Вьетнам",phone_code:"84",phone_format:"91 234 56 78"},{code:"CN",name:"China",name_ru:"Китай",phone_code:"86",phone_format:"131 2345 6789"},{code:"TR",name:"Turkey",name_ru:"Турция",phone_code:"90",phone_format:"501 234 5678"},{code:"IN",name:"India",name_ru:"Индия",phone_code:"91",phone_format:"91 23 456789"},{code:"PK",name:"Pakistan",name_ru:"Пакистан",phone_code:"92",phone_format:"301 2345678"},{code:"AF",name:"Afghanistan",name_ru:"Афганистан",phone_code:"93",phone_format:"70 123 4567"},{code:"LK",name:"Sri Lanka",name_ru:"Шри-Ланка",phone_code:"94",phone_format:"71 234 5678"},{code:"MM",name:"Myanmar",name_ru:"Мьянма",phone_code:"95",phone_format:"9 212 3456"},{code:"IR",name:"Iran",name_ru:"Иран",phone_code:"98",phone_format:"912 345 6789"},{code:"SS",name:"South Sudan",name_ru:"Южный Судан",phone_code:"211",phone_format:"977 123 456"},{code:"MA",name:"Morocco",name_ru:"Марокко",phone_code:"212",phone_format:"650-123456"},{code:"DZ",name:"Algeria",name_ru:"Алжир",phone_code:"213",phone_format:"551 23 45 67"},{code:"TN",name:"Tunisia",name_ru:"Тунис",phone_code:"216",phone_format:"20 123 456"},{code:"LY",name:"Libya",name_ru:"Ливия",phone_code:"218",phone_format:"91-2345678"},{code:"GM",name:"Gambia",name_ru:"Гамбия",phone_code:"220",phone_format:"301 2345"},{code:"SN",name:"Senegal",name_ru:"Сенегал",phone_code:"221",phone_format:"70 101 23 45"},{code:"MR",name:"Mauritania",name_ru:"Мавритания",phone_code:"222",phone_format:"22 12 34 56"},{code:"ML",name:"Mali",name_ru:"Мали",phone_code:"223",phone_format:"65 01 23 45"},{code:"BF",name:"Burkina Faso",name_ru:"Буркина-Фасо",phone_code:"226",phone_format:"70 12 34 56"},{code:"NE",name:"Niger",name_ru:"Нигер",phone_code:"227",phone_format:"93 12 34 56"},{code:"TG",name:"Togo",name_ru:"Того",phone_code:"228",phone_format:"90 11 23 45"},{code:"BJ",name:"Benin",name_ru:"Бенин",phone_code:"229",phone_format:"90 01 12 34"},{code:"MU",name:"Mauritius",name_ru:"Маврикий",phone_code:"230",phone_format:"251 2345"},{code:"LR",name:"Liberia",name_ru:"Либерия",phone_code:"231",phone_format:"4 612 345"},{code:"SL",name:"Sierra Leone",name_ru:"Сьерра-Леоне",phone_code:"232",phone_format:"25 123456"},{code:"GH",name:"Ghana",name_ru:"Гана",phone_code:"233",phone_format:"23 123 4567"},{code:"NG",name:"Nigeria",name_ru:"Нигерия",phone_code:"234",phone_format:"802 123 4567"},{code:"TD",name:"Chad",name_ru:"Чад",phone_code:"235",phone_format:"63 01 23 45"},{code:"CF",name:"Central African Republic",name_ru:"ЦАР",phone_code:"236",phone_format:"70 01 23 45"},{code:"CM",name:"Cameroon",name_ru:"Камерун",phone_code:"237",phone_format:"71 23 45 67"},{code:"CV",name:"Cape Verde",name_ru:"Кабо-Верде",phone_code:"238",phone_format:"991 12 34"},{code:"ST",name:"Sao Tome and Principe",name_ru:"Сан-Томе и Принсипи",phone_code:"239",phone_format:"981 2345"},{code:"GQ",name:"Equatorial Guinea",name_ru:"Экваториальная Гвинея",phone_code:"240",phone_format:"222 123 456"},{code:"GA",name:"Gabon",name_ru:"Габон",phone_code:"241",phone_format:"06 03 12 34"},{code:"CG",name:"Republic of the Congo",name_ru:"Республика Конго",phone_code:"242",phone_format:"06 123 4567"},{code:"CD",name:"Democratic Republic of the Congo",name_ru:"Демократическая Республика Конго",phone_code:"243",phone_format:"991 234 567"},{code:"AO",name:"Angola",name_ru:"Ангола",phone_code:"244",phone_format:"923 123 456"},{code:"GN",name:"Guinea",name_ru:"Гвинея",phone_code:"245",phone_format:"501 2345"},{code:"SC",name:"Seychelles",name_ru:"Сейшельские острова",phone_code:"248",phone_format:"2 510 123"},{code:"SD",name:"Sudan",name_ru:"Судан",phone_code:"249",phone_format:"91 123 1234"},{code:"RW",name:"Rwanda",name_ru:"Руанда",phone_code:"250",phone_format:"720 123 456"},{code:"ET",name:"Ethiopia",name_ru:"Эфиопия",phone_code:"251",phone_format:"91 123 4567"},{code:"SO",name:"Somalia",name_ru:"Сомали",phone_code:"252",phone_format:"90 792024"},{code:"DJ",name:"Djibouti",name_ru:"Джибути",phone_code:"253",phone_format:"77 83 10 01"},{code:"KE",name:"Kenya",name_ru:"Кения",phone_code:"254",phone_format:"712 123456"},{code:"TZ",name:"Tanzania",name_ru:"Танзания",phone_code:"255",phone_format:"612 345 678"},{code:"UG",name:"Uganda",name_ru:"Уганда",phone_code:"256",phone_format:"712 345678"},{code:"BI",name:"Burundi",name_ru:"Бурунди",phone_code:"257",phone_format:"79 56 12 34"},{code:"MZ",name:"Mozambique",name_ru:"Мозамбик",phone_code:"258",phone_format:"82 123 4567"},{code:"ZM",name:"Zambia",name_ru:"Замбия",phone_code:"260",phone_format:"95 5123456"},{code:"MG",name:"Madagascar",name_ru:"Мадагаскар",phone_code:"261",phone_format:"30 12 345 67"},{code:"RE",name:"Reunion",name_ru:"Реюньон",phone_code:"262",phone_format:"692 12 34 56"},{code:"YT",name:"Mayotte",name_ru:"Майотта",phone_code:"262",phone_format:"692 12 34 56"},{code:"ZW",name:"Zimbabwe",name_ru:"Зимбабве",phone_code:"263",phone_format:"71 123 4567"},{code:"NA",name:"Namibia",name_ru:"Намибия",phone_code:"264",phone_format:"81 123 4567"},{code:"MW",name:"Malawi",name_ru:"Малави",phone_code:"265",phone_format:"991 23 45 67"},{code:"LS",name:"Lesotho",name_ru:"Лесото",phone_code:"266",phone_format:"5012 3456"},{code:"BW",name:"Botswana",name_ru:"Ботсвана",phone_code:"267",phone_format:"71 123 456"},{code:"SZ",name:"Swaziland",name_ru:"Свазиленд",phone_code:"268",phone_format:"7612 3456"},{code:"KM",name:"Comoros",name_ru:"Коморские острова",phone_code:"269",phone_format:"321 23 45"},{code:"ER",name:"Eritrea",name_ru:"Эритрея",phone_code:"291",phone_format:"7 123 456"},{code:"AW",name:"Aruba",name_ru:"Аруба",phone_code:"297",phone_format:"560 1234"},{code:"FO",name:"Faroe Islands",name_ru:"Фарерские Острова",phone_code:"298",phone_format:"211234"},{code:"GL",name:"Greenland",name_ru:"Гренландия",phone_code:"299",phone_format:"22 12 34"},{code:"GI",name:"Gibraltar",name_ru:"Гибралтар",phone_code:"350",phone_format:"57123456"},{code:"PT",name:"Portugal",name_ru:"Португалия",phone_code:"351",phone_format:"912 345 678"},{code:"LU",name:"Luxembourg",name_ru:"Люксембург",phone_code:"352",phone_format:"628 123 456"},{code:"IE",name:"Ireland",name_ru:"Ирландия",phone_code:"353",phone_format:"85 012 3456"},{code:"IS",name:"Iceland",name_ru:"Исландия",phone_code:"354",phone_format:"610 1234"},{code:"AL",name:"Albania",name_ru:"Албания",phone_code:"355",phone_format:"66 123 4567"},{code:"MT",name:"Malta",name_ru:"Мальта",phone_code:"356",phone_format:"9696 1234"},{code:"CY",name:"Cyprus",name_ru:"Кипр",phone_code:"357",phone_format:"96 123456"},{code:"FI",name:"Finland",name_ru:"Финляндия",phone_code:"358",phone_format:"41 2345678"},{code:"BG",name:"Bulgaria",name_ru:"Болгария",phone_code:"359",phone_format:"48 123 4567"},{code:"LT",name:"Lithuania",name_ru:"Литва",phone_code:"370",phone_format:"612 34567"},{code:"LV",name:"Latvia",name_ru:"Латвия",phone_code:"371",phone_format:"21 234 567"},{code:"EE",name:"Estonia",name_ru:"Эстония",phone_code:"372",phone_format:"5123 4567"},{code:"MD",name:"Moldova",name_ru:"Молдова",phone_code:"373",phone_format:"650 12 345"},{code:"AM",name:"Armenia",name_ru:"Армения",phone_code:"374",phone_format:"77 123456"},{code:"BY",name:"Belarus",name_ru:"Беларусь",phone_code:"375",phone_format:"29 491 1911"},{code:"AD",name:"Andorra",name_ru:"Андорра",phone_code:"376",phone_format:"312 345"},{code:"MC",name:"Monaco",name_ru:"Монако",phone_code:"377",phone_format:"6 12 34 56 78"},{code:"SM",name:"San Marino",name_ru:"Сан-Марино",phone_code:"378",phone_format:"66 66 12 12"},{code:"UA",name:"Ukraine",name_ru:"Украина",phone_code:"380",phone_format:"39 123 4567"},{code:"RS",name:"Serbia",name_ru:"Сербия",phone_code:"381",phone_format:"60 1234567"},{code:"ME",name:"Montenegro",name_ru:"Черногория",phone_code:"382",phone_format:"67 622 901"},{code:"HR",name:"Croatia",name_ru:"Хорватия",phone_code:"385",phone_format:"91 234 5678"},{code:"SI",name:"Slovenia",name_ru:"Словения",phone_code:"386",phone_format:"31 234 567"},{code:"BA",name:"Bosnia and Herzegovina",name_ru:"Босния и Герцеговина",phone_code:"387",phone_format:"61 123 456"},{code:"MK",name:"Macedonia",name_ru:"Македония",phone_code:"389",phone_format:"72 345 678"},{code:"CZ",name:"Czech Republic",name_ru:"Чехия",phone_code:"420",phone_format:"601 123 456"},{code:"SK",name:"Slovakia",name_ru:"Словакия",phone_code:"421",phone_format:"912 123 456"},{code:"LI",name:"Liechtenstein",name_ru:"Лихтенштейн",phone_code:"423",phone_format:"661 234 567"},{code:"FK",name:"Falkland Islands",name_ru:"Фолклендские острова",phone_code:"500",phone_format:"51234"},{code:"BZ",name:"Belize",name_ru:"Белиз",phone_code:"501",phone_format:"622-1234"},{code:"GT",name:"Guatemala",name_ru:"Гватемала",phone_code:"502",phone_format:"5123 4567"},{code:"SV",name:"El Salvador",name_ru:"Сальвадор",phone_code:"503",phone_format:"7012 3456"},{code:"HN",name:"Honduras",name_ru:"Гондурас",phone_code:"504",phone_format:"9123-4567"},{code:"NI",name:"Nicaragua",name_ru:"Никарагуа",phone_code:"505",phone_format:"8123 4567"},{code:"CR",name:"Costa Rica",name_ru:"Коста-Рика",phone_code:"506",phone_format:"8312 3456"},{code:"PA",name:"Panama",name_ru:"Панама",phone_code:"507",phone_format:"6001-2345"},{code:"HT",name:"Haiti",name_ru:"Гаити",phone_code:"509",phone_format:"34 10 1234"},{code:"BO",name:"Bolivia",name_ru:"Боливия",phone_code:"591",phone_format:"71234567"},{code:"GY",name:"Guyana",name_ru:"Гайана",phone_code:"592",phone_format:"609 1234"},{code:"EC",name:"Ecuador",name_ru:"Эквадор",phone_code:"593",phone_format:"99 123 4567"},{code:"PY",name:"Paraguay",name_ru:"Парагвай",phone_code:"595",phone_format:"961 456789"},{code:"MQ",name:"Martinique",name_ru:"Мартиника",phone_code:"596",phone_format:"696 20 12 34"},{code:"SR",name:"Suriname",name_ru:"Суринам",phone_code:"597",phone_format:"741-2345"},{code:"UY",name:"Uruguay",name_ru:"Уругвай",phone_code:"598",phone_format:"94 231 234"},{code:"BQ",name:"Bonaire, Sint Eustatius & Saba",name_ru:"Бонайре, Синт-Эстатиус и Саба",phone_code:"599",phone_format:"718 1234"},{code:"TL",name:"Timor-Leste",name_ru:"Тимор-Лешти",phone_code:"670",phone_format:"7721 2345"},{code:"BN",name:"Brunei",name_ru:"Бруней",phone_code:"673",phone_format:"712 3456"},{code:"NR",name:"Nauru",name_ru:"Науру",phone_code:"674",phone_format:"555 1234"},{code:"PG",name:"Papua New Guinea",name_ru:"Папуа-Новая Гвинея",phone_code:"675",phone_format:"681 2345"},{code:"TO",name:"Tonga",name_ru:"Тонга",phone_code:"676",phone_format:"771 5123"},{code:"SB",name:"Solomon Islands",name_ru:"Соломоновы Острова",phone_code:"677",phone_format:"742 1234"},{code:"VU",name:"Vanuatu",name_ru:"Вануату",phone_code:"678",phone_format:"591 2345"},{code:"FJ",name:"Fiji",name_ru:"Фиджи",phone_code:"679",phone_format:"701 2345"},{code:"PW",name:"Palau",name_ru:"Палау",phone_code:"680",phone_format:"620 1234"},{code:"WF",name:"Wallis and Futuna",name_ru:"Уоллис и Футуна",phone_code:"681",phone_format:"50 12 34"},{code:"CK",name:"Cook Islands",name_ru:"Острова Кука",phone_code:"682",phone_format:"71 234"},{code:"NU",name:"Niue",name_ru:"Ниуэ",phone_code:"683",phone_format:"1234"},{code:"KI",name:"Kiribati",name_ru:"Кирибати",phone_code:"686",phone_format:"61234"},{code:"NC",name:"New Caledonia",name_ru:"Новая Каледония",phone_code:"687",phone_format:"75.12.34"},{code:"TV",name:"Tuvalu",name_ru:"Тувалу",phone_code:"688",phone_format:"901234"},{code:"PF",name:"French Polynesia",name_ru:"Французская Полинезия",phone_code:"689",phone_format:"21 23 45"},{code:"TK",name:"Tokelau",name_ru:"Токелау",phone_code:"690",phone_format:"5190"},{code:"FM",name:"Micronesia",name_ru:"Микронезия",phone_code:"691",phone_format:"350 1234"},{code:"MH",name:"Marshall Islands",name_ru:"Маршалловы Острова",phone_code:"692",phone_format:"235-1234"},{code:"KP",name:"North Korea",name_ru:"Северная Корея",phone_code:"850",phone_format:"192 123 4567"},{code:"HK",name:"Hong Kong",name_ru:"Гонконг",phone_code:"852",phone_format:"5123 4567"},{code:"MO",name:"Macao",name_ru:"Макао",phone_code:"853",phone_format:"6612 3456"},{code:"KH",name:"Cambodia",name_ru:"Камбоджа",phone_code:"855",phone_format:"91 234 567"},{code:"LA",name:"Laos",name_ru:"Лаос",phone_code:"856",phone_format:"20 23 123 456"},{code:"BD",name:"Bangladesh",name_ru:"Бангладеш",phone_code:"880",phone_format:"1812 345678"},{code:"TW",name:"Taiwan",name_ru:"Тайвань",phone_code:"886",phone_format:"912 345 678"},{code:"MV",name:"Maldives",name_ru:"Мальдивы",phone_code:"960",phone_format:"771-2345"},{code:"LB",name:"Lebanon",name_ru:"Ливан",phone_code:"961",phone_format:"71 123 456"},{code:"JO",name:"Jordan",name_ru:"Иордания",phone_code:"962",phone_format:"7 9012 3456"},{code:"SY",name:"Syria",name_ru:"Сирия",phone_code:"963",phone_format:"944 567 890"},{code:"IQ",name:"Iraq",name_ru:"Ирак",phone_code:"964",phone_format:"791 234 5678"},{code:"KW",name:"Kuwait",name_ru:"Кувейт",phone_code:"965",phone_format:"500 12345"},{code:"SA",name:"Saudi Arabia",name_ru:"Саудовская Аравия",phone_code:"966",phone_format:"51 234 5678"},{code:"YE",name:"Yemen",name_ru:"Йемен",phone_code:"967",phone_format:"712 345 678"},{code:"OM",name:"Oman",name_ru:"Оман",phone_code:"968",phone_format:"9212 3456"},{code:"PS",name:"Palestine",name_ru:"Палестина",phone_code:"970",phone_format:"599 123 456"},{code:"AE",name:"UAE",name_ru:"ОАЭ",phone_code:"971",phone_format:"50 123 4567"},{code:"IL",name:"Israel",name_ru:"Израиль",phone_code:"972",phone_format:"050-123-4567"},{code:"BH",name:"Bahrain",name_ru:"Бахрейн",phone_code:"973",phone_format:"3600 1234"},{code:"QA",name:"Qatar",name_ru:"Катар",phone_code:"974",phone_format:"3312 3456"},{code:"BT",name:"Bhutan",name_ru:"Бутан",phone_code:"975",phone_format:"17 12 34 56"},{code:"MN",name:"Mongolia",name_ru:"Монголия",phone_code:"976",phone_format:"8812 3456"},{code:"NP",name:"Nepal",name_ru:"Непал",phone_code:"977",phone_format:"984-1234567"},{code:"TJ",name:"Tajikistan",name_ru:"Таджикистан",phone_code:"992",phone_format:"917 12 3456"},{code:"TM",name:"Turkmenistan",name_ru:"Туркменистан",phone_code:"993",phone_format:"66 123456"},{code:"AZ",name:"Azerbaijan",name_ru:"Азербайджан",phone_code:"994",phone_format:"40 123 45 67"},{code:"GE",name:"Georgia",name_ru:"Грузия",phone_code:"995",phone_format:"555 12 34 56"},{code:"KG",name:"Kyrgyzstan",name_ru:"Кыргызстан",phone_code:"996",phone_format:"700 123 456"},{code:"UZ",name:"Uzbekistan",name_ru:"Узбекистан",phone_code:"998",phone_format:"91 234 56 78"},{code:"BS",name:"Bahamas",name_ru:"Багамские острова",phone_code:"1242",phone_format:"359-1234"},{code:"BB",name:"Barbados",name_ru:"Барбадос",phone_code:"1246",phone_format:"250-1234"},{code:"AI",name:"Anguilla",name_ru:"Ангилья",phone_code:"1264",phone_format:"235-1234"},{code:"AG",name:"Antigua and Barbuda",name_ru:"Антигуа и Барбуда",phone_code:"1268",phone_format:"464-1234"},{code:"VG",name:"Virgin Islands, British",name_ru:"Британские Виргинские острова",phone_code:"1284",phone_format:"300-1234"},{code:"VI",name:"Virgin Islands (USA)",name_ru:"Виргинские Острова (США)",phone_code:"1340",phone_format:"642-1234"},{code:"KY",name:"Cayman Islands",name_ru:"Каймановы Острова",phone_code:"1345",phone_format:"323-1234"},{code:"BM",name:"Bermuda",name_ru:"Бермудские острова",phone_code:"1441",phone_format:"370-1234"},{code:"GD",name:"Grenada",name_ru:"Гренада",phone_code:"1473",phone_format:"403-1234"},{code:"TC",name:"Turks and Caicos Islands",name_ru:"Острова Теркс и Кайкос",phone_code:"1649",phone_format:"231-1234"},{code:"MS",name:"Montserrat",name_ru:"Монтсеррат",phone_code:"1664",phone_format:"492-3456"},{code:"MP",name:"Northern Mariana Islands",name_ru:"Северные Марианские Острова",phone_code:"1670",phone_format:"234-5678"},{code:"GU",name:"Guam",name_ru:"ГУАМ",phone_code:"1671",phone_format:"300-1234"},{code:"AS",name:"American Samoa",name_ru:"Американское Самоа",phone_code:"1684",phone_format:"733-1234"},{code:"SX",name:"Saint Martin",name_ru:"Сен-Мартен",phone_code:"1721",phone_format:"520-5678"},{code:"LC",name:"Saint Lucia",name_ru:"Сент-Люсия",phone_code:"1758",phone_format:"284-5678"},{code:"DM",name:"Dominica",name_ru:"Доминика",phone_code:"1767",phone_format:"225-1234"},{code:"VC",name:"Saint Vincent and the Grenadines",name_ru:"Сент-Винсент и Гренадины",phone_code:"1784",phone_format:"430-1234"},{code:"TT",name:"Trinidad and Tobago",name_ru:"Тринидад и Тобаго",phone_code:"1868",phone_format:"291-1234"},{code:"KN",name:"Saint Kitts and Nevis",name_ru:"Сент-Китс и Невис",phone_code:"1869",phone_format:"556-1234"},{code:"JM",name:"Jamaica",name_ru:"Ямайка",phone_code:"1876",phone_format:"210-1234"}];var h=n(83945),m=n(73422),_=n(45683),v="flag__LWjVa",y="__isSingle__sH9la";const b=({matchedCountry:e,isSingleList:t})=>(0,r.tZ)("div",{className:l()(v,{[y]:t}),style:{backgroundImage:e?`url(${(0,_.getFlagIconURL)(e.code)})`:null}});var C="option__cVQaD",E="flag__TclPy",D="text__i0xbF",T="phoneCode__jKNDA";const w=({country:e,isRULocale:t})=>(0,r.BX)("jdiv",{className:C,children:[(0,r.tZ)("jdiv",{className:E,style:{backgroundImage:`url(${(0,_.getFlagIconURL)(e.code)})`}}),(0,r.tZ)("jdiv",{className:D,children:t&&e.name_ru||e.name}),(0,r.BX)("jdiv",{className:T,children:["+",e.phone_code]})]});var S=n(82383);const O=(e,t)=>{const n=t.toLowerCase().replace("+","");return n?e.filter((e=>{var t;const r=e.name.toLowerCase().includes(n),o=null===(t=e.name_ru)||void 0===t?void 0:t.toLowerCase().includes(n),i=e.phone_code.includes(n),a=e.code.toLowerCase().includes(n);return r||o||i||a})):e};var A="internal__KEA5U",I="__hasSearch__DPA8c",k="search__eBSrm",M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const x=(0,o.forwardRef)(((e,t)=>{var n,i;const{countries:s}=e,_=M(e,["countries"]),{value:v,disabled:y,watchValue:C,onChange:E,onCountryChange:D}=_,T=null!==(i=null===(n=(0,f.useAppSelector)(p.selectGeoIP))||void 0===n?void 0:n.split(";")[0])&&void 0!==i?i:"",x=(0,f.useAppSelector)(p.selectLocale),P=(0,o.useRef)(null),R=(0,o.useRef)(null),F=(0,o.useRef)(C),L=(0,o.useMemo)((()=>(e=>e.map((e=>Object.assign(Object.assign({},e),{value:e.code,label:e.name}))))((e=>e.map((e=>{if(e.code in S.h){const[,t]=S.h[e.code],n=e.phone_format.trim().replace(/[^0-9]/g,"").length,r=t>n?t-n:0;return Object.assign(Object.assign({},e),{phone_format:r?`${e.phone_format} ${"0".repeat(r)}`:e.phone_format})}return e})))(null!=s?s:g))),[s]),j=(0,o.useMemo)((()=>((e,t)=>{const{value:n,geoIPCountryCode:r}=t,{cleanValue:o,phoneCodeSubstring:i}=(0,h.Dg)(n),a=(0,h.Av)(e,{phoneCode:i,countryCode:r,geoIPCountryCode:r,reverseSearch:!0});return{matchedCountry:a,formattedValue:(0,h.vt)(o,a)}})(L,{value:v||"",geoIPCountryCode:T})),[]),[N,B]=(0,c.useToggle)(!1),[U,W]=(0,o.useState)(j.matchedCountry),[H,z]=(0,o.useState)(v?j.formattedValue:`+${null==U?void 0:U.phone_code}`),G=(0,o.useMemo)((()=>["ru_RU","be","kk","uk"].includes(x)),[x]),$=(0,o.useMemo)((()=>(e=>e?`+${e.phone_code} ${e.phone_format}`.length:100)(U)),[U]);if((0,o.useImperativeHandle)(t,(()=>P.current),[]),(0,d.useClickOutside)(R,(()=>B(!1))),(0,o.useEffect)((()=>{null==D||D(U)}),[]),!(0,m.isNil)(C)&&C!==F.current){F.current=C;const{cleanValue:e,phoneCodeSubstring:t}=(0,h.Dg)(C),n=(0,h.Av)(L,{phoneCode:t,countryCode:T,geoIPCountryCode:T,reverseSearch:!0}),{formattedValue:r}=(0,h.Dg)(e,n);z(r),W(n)}return(0,r.tZ)(a.II,Object.assign({},_,{ref:P,containerRef:R,type:"tel",value:H,maxLength:$,leftPlace:(0,r.tZ)(a.Ph,{options:L,defaultValue:null==U?void 0:U.code,ownValue:U,ownShow:N,variant:"inset",containerClassName:l()(A,I),searchContainerClassName:k,rawOutput:!0,looseList:!0,showSearch:!0,disabled:Boolean(y),searchPlaceholder:(0,u.l10n)("phone_mask_search_placeholder"),filter:O,selectedValueRender:(e,t)=>(0,r.tZ)(b,{matchedCountry:e,isSingleList:t}),optionRender:e=>(0,r.tZ)(w,{country:e,isRULocale:G}),onChange:e=>{var t;if(B(!1),W(e),null==D||D(e),e.phone_code!==(null==U?void 0:U.phone_code))z(`+${e.phone_code}`),null==E||E(e.phone_code);else{const t=!H.length;z((0,h.vt)(t?`+${e.phone_code}`:H,e)),t&&(null==E||E(e.phone_code))}null===(t=P.current)||void 0===t||t.focus()},onValueClick:B,qaId:"COUNTRY"}),maskProps:{formattedValue:H,matchedCountry:U},onChange:e=>{B(!1);const{cleanValue:t,phoneCodeSubstring:n,formattedValue:r}=(0,h.Dg)(e,U);if(t.length>0&&t.length<5){const e=(0,h.Av)(L,{phoneCode:n,previousMatch:U,geoIPCountryCode:T});W(e),null==D||D(e)}z(r),null==E||E(t)},onInput:e=>{if(e.preventDefault(),"Event"===e.constructor.name&&!("data"in e)){const{value:t}=e.currentTarget,{cleanValue:n,phoneCodeSubstring:r}=(0,h.Dg)(t),o=(0,h.Av)(L,{phoneCode:r,countryCode:T,geoIPCountryCode:T,reverseSearch:!0}),{formattedValue:i}=(0,h.Dg)(n,o);z(i),W(o),null==D||D(o),null==E||E(n)}},onPaste:e=>{var t;const n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain");if(!n)return;const{cleanValue:r,phoneCodeSubstring:o}=(0,h.Dg)(n);if(!r)return;const i=(0,h.Av)(L,{phoneCode:o,countryCode:T,geoIPCountryCode:T,reverseSearch:!0}),{formattedValue:a}=(0,h.Dg)(r,i);z(a),W(i),null==D||D(i),null==E||E(r)},onKeyDown:e=>{const{key:t,metaKey:n,ctrlKey:r}=e,o=n||r;/^[0-9]$/.test(t)||["Backspace","Tab","Delete","ArrowLeft","ArrowRight"].includes(t)||o||e.preventDefault()}}))}));x.displayName="PhoneInput";const P=(0,o.forwardRef)(((e,t)=>(0,r.tZ)(a.II,Object.assign({},e,{ref:t,type:"tel",autoComplete:"number-off",onKeyDown:e=>{const{key:t,metaKey:n,ctrlKey:r}=e,o=n||r;/^[0-9]$/.test(t)||["Backspace","Tab","Delete","ArrowLeft","ArrowRight"].includes(t)||o||e.preventDefault()}}))));P.displayName="NumberInput";var R=n(20749),F=n(47367);const L=(0,o.forwardRef)(((e,t)=>{const{onChange:n,value:i}=e,s=(0,o.useRef)(!1),[l,u]=(0,o.useState)((()=>(0,F.aQ)(i||""))),c=(0,F.mh)();return(0,r.tZ)(a.II,Object.assign({},e,{ref:t,type:"tel",value:l,autoComplete:"number-off",placeholder:(0,F.Nn)(c),maxLength:10,onChange:(e,t)=>{!s.current&&[9,10].includes(e.length)&&(s.current=!0),s.current&&e.length<=3&&(s.current=!1),"deleteContentBackward"===(null==t?void 0:t.inputType)||s.current&&10!==e.length?u(e):u(R.Masker.toPattern(e,c)),null==n||n((0,F.Al)(e))},onKeyDown:e=>{const{key:t,metaKey:n,ctrlKey:r}=e,o=n||r;/^[0-9]$/.test(t)||["Backspace","Tab","Delete","ArrowLeft","ArrowRight"].includes(t)||o||e.preventDefault()}}))}));L.displayName="DateInput";var j=n(66434),N=n(53400),B="text__Ln8AK";const U=({children:e,href:t,linkText:n,onLinkClick:o,qaId:i})=>{const[a,s]=e.split("!x!");return(0,r.BX)("jdiv",Object.assign({className:B},(0,N.locator)(i),{children:[a,(0,r.tZ)("a",Object.assign({href:t,target:"_blank",rel:"noopener noreferrer",onClick:o},(0,N.locator)(`${i}_LINK`),{children:n})),s]}))},W=(0,o.forwardRef)((({labelClassName:e,value:t,error:n,required:i,telemetryLinkParams:s,qaId:l,onChange:c},d)=>{const g=(0,f.useAppSelector)(p.selectSystemSettings),h=(0,f.useAppSelector)(p.selectEula),{link:m,text:v,linkText:y}=(0,o.useMemo)((()=>((e,t)=>({text:(0,u.l10n)("eula_checkbox_text",{link:"!x!"}),linkText:(0,u.l10n)("word_consent"),link:e.externalLink||(0,_.getEulaURL)(t)}))(h,g.baseUrl)),[h,g.baseUrl]);return(0,r.tZ)(a.XZ,{ref:d,labelClassName:e,value:t,label:(0,r.tZ)(U,{href:m,linkText:y,onLinkClick:()=>{(0,j.telemetry)("eula_link_clicked",s)},qaId:`${l}_TEXT`,children:v}),required:i,error:n,onChange:c,qaId:`${l}_CHECKBOX`})}));W.displayName="EulaCheckbox";var H="text__X0nJO";const z=({children:e,href:t,linkText:n,onLinkClick:o,qaId:i})=>{const[a,s]=e.split("!x!");return(0,r.BX)("jdiv",Object.assign({className:H},(0,N.locator)(i),{children:[a,(0,r.tZ)("a",Object.assign({href:t,target:"_blank",rel:"noopener noreferrer",onClick:o},(0,N.locator)(`${i}_LINK`),{children:n})),s]}))},G=(0,o.forwardRef)((({labelClassName:e,value:t,error:n,telemetryLinkParams:o,qaId:i,onChange:s},l)=>{const c=(0,f.useAppSelector)(p.selectMailing);return(0,r.tZ)(a.XZ,{ref:l,labelClassName:e,value:t,label:(0,r.tZ)(z,{href:null==c?void 0:c.external_link,linkText:(0,u.l10n)("word_consent"),onLinkClick:()=>{(0,j.telemetry)("mailing_link_clicked",o)},qaId:`${i}_TEXT`,children:(0,u.l10n)("mailing_checkbox_text",{link:"!x!"})}),error:n,onChange:s,qaId:`${i}_CHECKBOX`})}));G.displayName="MailingCheckbox";var $=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const V=(e,t)=>function(n){var{control:o,name:a,rules:s}=n,l=$(n,["control","name","rules"]);const{field:u,fieldState:{invalid:c,isDirty:d}}=(0,i.bc)({control:o,name:a,rules:s}),f=Object.assign(Object.assign(Object.assign(Object.assign({},u),l),null==t?void 0:t(u,l)),{valid:d&&!c,error:c});return(0,r.tZ)(e,Object.assign({},f))},Z=V(a.II),q=V(x),K=V(P),Y=V(L),J=V(a.XZ),X=V(W),Q=V(G),ee=V(a.Ph,((e,t)=>{var n;return{defaultValue:null!==(n=t.defaultValue)&&void 0!==n?n:e.value}}))},29312:function(e,t,n){"use strict";n.r(t),n.d(t,{ZoomOverlay:function(){return F}});var r=n(16584),o=n(98661),i=n(24111),a=n(65138),s=n(42601),l=n(74379),u=n(31011),c=n(73262),d=n(39733),f=n(66434),p=n(52274),g=n(97490),h=n(69882),m=n(73422);const _=(e,t)=>!((0,h.isWixContext)()||e===g.Route.HIDDEN||u.platform.isIos&&l.default.isWidgetOnWix)&&(!y(e)&&!(0,m.isNil)(t)&&t>p.MAX_ALLOWED_USER_ZOOM),v=e=>{if(!e)return;const{width:t,height:n,offsetLeft:r,offsetTop:o}=e;return{width:t,height:n,transform:`translate(${r}px, ${o}px)`}},y=e=>e===g.Route.LABEL;var b=n(94184),C=n.n(b),E=n(31076),D="iconContainer__Y3L6T",T="hand__OjFcG",w="arrow__jAcJS",S="arrow2__a45UC";const O=()=>(0,r.BX)("jdiv",{className:D,children:[(0,r.tZ)(E.SvgIcon,{icon:'<svg width="160" height="173" viewBox="0 0 160 173" xmlns="http://www.w3.org/2000/svg"><title>hand</title><path d="M56.31 169.5S8.685 109 5.968 106.25c-2.717-2.75-5.84-12.663 0-20.05C11.807 78.816 21.295 82.95 24 85c2.705 2.05 13.06 10.5 13.06 10.5s7.646 6.35 14.5 2.093c6.857-4.256 6.42-11.392 6.42-11.392s1.93-16.115-1.67-35.2C52.714 31.915 49 25.25 46.75 20c-2.25-5.25-1.124-11.59 5.938-16.045C59.75-.5 67 6.5 68.5 9.25s6.396 9.49 12.12 27.253c5.722 17.763 7.69 41.372 7.69 41.372l-2-23.25c5.576 0 13.464-2.994 24.017 9.168 4.736 5.457 6.86 24.332 6.86 24.332s-1.874-15.188-5.25-21.75c4.5-1.25 12.583-4.006 21.376 4.875 6.31 6.375 5.375 23.25 5.375 23.25s1.25-13.063-4.25-21.938c13.68-1.527 19.937 11.313 21.937 19.563 2 8.25-.875 26.75-.875 26.75l-14.19 51.875" stroke="#A3AFB8" fill-rule="nonzero" stroke-width="4" fill="#FFF" stroke-linecap="round" stroke-linejoin="round"/></svg>',className:T}),(0,r.tZ)(E.SvgIcon,{icon:'<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow1</title><g transform="rotate(163 27.277 33.133)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>',className:w}),(0,r.tZ)(E.SvgIcon,{icon:'<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow2</title><g transform="rotate(-17 45.338 20.625)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>',className:S})]});var A="container__nkyk5",I="__visible__Lrqmw",k="zoomPane__hi9oD",M="iconContainer__zXFoc",x="viewContainer__MjRAl",P="view__MoYok";const R=({appZoom:e,innerWidth:t,innerHeight:n,viewportStyles:o,isVisible:i,hasVisualViewport:a})=>(0,r.BX)("jdiv",{className:C()(A,{[I]:i}),children:[(0,r.tZ)("jdiv",{className:k}),(0,r.tZ)("jdiv",{className:M,style:{width:a?"100%":t,height:n},children:(0,r.tZ)("jdiv",{className:x,style:a?o:void 0,children:(0,r.tZ)("jdiv",{className:P,style:{zoom:e},children:(0,r.tZ)(O,{})})})})]}),F=()=>{const e=(0,i.useAppSelector)(a.selectRoute),{app:t,user:n}=(0,i.useAppSelector)(s.selectZoom),{innerWidth:p,innerHeight:g,visualViewport:h}=l.default.window,[m,b]=(0,o.useState)(_(e,n)),[C,E]=(0,o.useState)(v(h));return(0,d.r)((()=>{const t=_(e,n),r=l.default.bodyEl;t&&u.platform.isSafari&&r&&(r.scrollTop=0,r.scrollLeft=0),t!==m&&y(e)&&(0,f.telemetry)(t?"zoom_overlay_show":"zoom_overlay_hide",void 0,{once:!0}),b(t)}),[e,t,n]),(0,o.useEffect)((()=>{if(!h)return;const e=(0,c.throttle)((()=>E(v(h))),150);return h.addEventListener("scroll",e),h.addEventListener("resize",e),()=>{h.removeEventListener("scroll",e),h.removeEventListener("resize",e)}}),[]),(0,r.tZ)(R,{appZoom:t,innerWidth:p,innerHeight:g,viewportStyles:C,isVisible:m,hasVisualViewport:Boolean(h)})}},42910:function(e,t,n){"use strict";n.r(t),n.d(t,{setClientAttributes:function(){return v}});var r=n(73687),o=n(44145),i=n(45691),a=n(96394),s=n(73262),l=n(6254),u=n(42882),c=n(20827),d=n(73422);const f=e=>(0,u.fromEntries)(Object.entries(e).filter((([,e])=>!(0,d.isNil)(e)&&""!==String(e).trim()))),p=(e,t)=>{if("object"!=typeof e||(0,d.isArray)(e))return"Attributes must be an object.";const n=f(e);return(0,c.isEmpty)(n)?"Attributes must not be empty.":((e,t)=>{if((0,c.isEmpty)(t))return!0;const n=Object.keys(e),r=Object.keys(t),o=(0,l.attributeValuesToString)(e),i=(0,l.attributeValuesToString)(t);if(n.length>r.length)return!0;for(const e of n)if(!(e in i)||o[e]!==i[e])return!0;return!1})(n,t)?"":"Attributes are the same as the current ones."};var g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const h=window.console;let m={};const _=(0,s.throttle)((()=>g(void 0,void 0,void 0,(function*(){var e;const t=(0,o.getClient)(),n=p(m,t.attributes||(0,l.getTemporaryAttributes)());if(n)return void h.warn(n);const a=r.default.get("client_attributes_times_per_hour")||0,s=f(m),u=yield(0,i.sendClientAttributes)(s,t.clientId);if(m={},!u||"skipped"===u)return;(null===(e=u.data)||void 0===e?void 0:e.ok)||h.error("Client attributes sending failed."),r.default.set("client_attributes_times_per_hour",a+1,3600);const c=r.default.get("client_attributes_warnings_errors"),{attributes:d}=(0,o.getClient)(),g=JSON.stringify(d);c?h.warn(`Client attributes sent with ${c}\nSaved attributes: ${g}`):h.log(`Client attributes sent successfully!\nCurrent attributes: ${g}`)}))),3e3),v=e=>{const t=r.default.get("client_attributes_warnings_errors");return a.default.disable_client_attributes_api?(h.warn("Client attributes API is disabled."),{ok:!1,message:"Client attributes API is disabled."}):r.default.get("client_attributes_internal_error")?(h.error("Internal server error. Try again later."),{ok:!1,message:"Internal server error. Try again later."}):r.default.get("client_attributes_times_per_hour")>=10?(h.warn("Limit of requests per hour has been exceeded. Try again later."),{ok:!1,message:"Limit of requests per hour has been exceeded. Try again later."}):(t&&h.warn(`Last ${t}`),m=Object.assign(Object.assign({},m),e),void _())}},58164:function(e,t,n){"use strict";n.r(t),n.d(t,{initCampaignWidgetConstructorAPI:function(){return g}});var r=n(97615),o=n(45926),i=n(26932),a=n(50402),s=n(21476),l=n(97490),u=n(75998),c=n(44145),d=n(94767);let f=!1;const p={updateConfig(e){const{isMobileView:t}=(0,c.getCampaignWidgetSettings)(),{img_src:n,img_position:r,text_color:o,background:i}=e,a=(e=>{const{prechat_buttons:t,text_color:n,background:r,img_src:o,img_position:i}=e;return[{from:"agent",from_id:1,text:(0,d.getFormattedTextForProactiveCampaign)(e),type:"proactive",status:"read",body:{unsave:!0,is_markdown:!0,extra:{text_color:n,background:r,img_src:o,img_position:i}}},{body:{unsave:!0,prechats:t},type:"prechat",from:"form"}]})(e),s=(0,d.getFormattedTextForProactiveCampaign)(e,!0);u.campaignWidgetDispatch.setMessageFeed(a),u.campaignWidgetDispatch.setMobileProactive({img_src:n,img_position:r,background:i,text_color:o,text:s}),f||t||p.openWidget()},setMobileView(e){u.campaignWidgetDispatch.setMobileView(e)},showWidgetGalleryPreview(e){u.campaignWidgetDispatch.setPreview(e)},openWidget(){f=!0,s.Router.next(l.RouterEvent.ToChat),i.transitionDispatchers.startTransition(a.ScriptName.OPEN_WIDGET)},closeWidget(){f=!1,s.Router.next(l.RouterEvent.CloseWindow),i.transitionDispatchers.startTransition(a.ScriptName.CLOSE_WIDGET)},reset(){p.closeWidget(),u.campaignWidgetDispatch.reset()}},g=()=>{r.EnvironmentManager.isWidgetConstructor()&&((0,o.getPageWindow)()._widgetCampaignConstructorAPI=p)}},68848:function(e,t,n){"use strict";n.r(t),n.d(t,{initContactFormPreviewAPI:function(){return s}});var r=n(97615),o=n(45926),i=n(75998);const a={updateConfig(e){i.contactFormPreviewDispatch.updateContactFormPreview({settings:e})},setRenderTarget(e){i.contactFormPreviewDispatch.updateContactFormPreview({target:e})},reset(){i.contactFormPreviewDispatch.reset()}},s=()=>{r.EnvironmentManager.isContactFormPreview()&&((0,o.getPageWindow)()._contactFormPreviewAPI=a)}},15688:function(e,t,n){"use strict";n.r(t),n.d(t,{initExtensionsAPI:function(){return s}});var r=n(97615),o=n(45926),i=n(75998);const a={setRenderTarget(e){return new Promise((t=>{i.extensionsDispatch.setTarget(e),setTimeout((()=>t()),100)}))},reset(){return new Promise((e=>{i.extensionsDispatch.resetExtensions(),setTimeout((()=>e()),100)}))}},s=()=>{r.EnvironmentManager.isExtensionsEnable()&&((0,o.getPageWindow)()._widgetExtensionsAPI=a)}},24344:function(e,t,n){"use strict";n.r(t),n.d(t,{callUserFunction:function(){return s}});var r=n(90061),o=n(45926),i=n(66434);const a=(0,r.createLogger)("CallUserFunction"),s=(e,t)=>{a.log(e,t);const n=`jivo_${e}`,r=(0,o.getPageWindow)();if("function"==typeof r[n])try{a.log(`Calling ${n}${t?" with params":""}`,t||""),r[n](t),(0,i.telemetry)(n,void 0,{probability:"one"})}catch(e){a.error(e)}}},12398:function(e,t,n){"use strict";n.r(t),n.d(t,{addClientTag:function(){return g},postClientTags:function(){return h},sendClientTags:function(){return v},sendTagsIfNeed:function(){return m}});var r=n(45007),o=n(73687),i=n(71047),a=n(86961),s=n(44145),l=n(26932),u=n(73422),c=n(90061),d=n(58345),f=n(66434);const p=(0,c.createLogger)("CampaignHelpers"),g=e=>{if(!(0,u.isNumber)(e))return;let t=(0,s.getClient)().tags;if((0,u.isArray)(t)){if(t.includes(e))return;t.push(e)}else t=[e];l.clientDispatchers.setClientTags(t.sort())},h=(e,t)=>{p.warn("postClientTags",e),(0,u.isArray)(e)&&e.length?a.default.postClientTags(e,((n,r)=>{var o,i;r&&(null==t||t(null===(i=null===(o=r.data)||void 0===o?void 0:o.result)||void 0===i?void 0:i.attached_tags_id),(0,f.telemetry)("set_tags_success")),n&&(null==t||t(!1),(0,f.telemetry)("set_tags_error",{param1:JSON.stringify(e),param2:n.status}))})):null==t||t(!1)},m=()=>{const{clientId:e,tags:t}=(0,s.getClient)(),n=o.default.get(i.TempKey.SENDED_TAGS);p.log("sendTagsIfNeed",e,n,t),e&&t&&!(0,r.wU)(t,n)&&v(t)},_=e=>{o.default.set(i.TempKey.SENDED_TAGS,e,604800)},v=e=>{h(e,(t=>{if((0,u.isArray)(t)){t=t.sort();const n=o.default.get(i.TempKey.SENDED_TAGS)||[];if(t.length){const e=(0,d.unique)(n.sort().concat(t));_(e),l.clientDispatchers.setClientTags(e)}else _(e.sort())}}))}},63666:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(98661),o=n(24111),i=n(79105),a=n(73422);const s=e=>{const t=(0,o.useAppSelector)(i.selectCampaigns);return(0,r.useMemo)((()=>{if(!(0,a.isNil)(e)&&!(0,a.isNil)(t))return t.find((t=>t.campaign_id===e))}),[e])}},50339:function(e,t,n){"use strict";n.r(t),n.d(t,{buildBackground:function(){return r}});const r=e=>(e=>"string"!=typeof e)(e)?e.colors.reduce(((e,[t,n],r,{length:o})=>e+=` ${t}${n?` ${n}%`:""}${r===o-1?")":","}`),`${e.type}-gradient(${e.direction},`):e},85660:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},r:function(){return r}});const r=300,o=86400},6254:function(e,t,n){"use strict";n.r(t),n.d(t,{attributeValuesToString:function(){return s},formatAttributesToAPIRequest:function(){return i},getTemporaryAttributes:function(){return u},getValidAttributes:function(){return a},setTemporaryAttributes:function(){return l}});var r=n(73687),o=n(85660);const i=e=>Object.keys(e).map((t=>{return{name:t,value:(n=e[t],"boolean"==typeof n?""+(n?1:0):String(n).trim())};var n})),a=(e,t)=>Object.keys(t).reduce(((n,r)=>(r in e||(n[r]=t[r]),n)),{}),s=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return t[n]="number"==typeof r?String(r):r,t}),{}),l=e=>{r.default.set("client_attributes_temp",e||null,e?o.Q:1)},u=()=>r.default.get("client_attributes_temp")},83425:function(e,t,n){"use strict";n.r(t),n.d(t,{ConfigUtils:function(){return u}});var r=n(96394),o=n(45926),i=n(66434),a=n(97615),s=n(95911);const l=(0,n(90061).createLogger)("ConfigUtils");const u=new class{constructor(){this.loadCount=0}reloadConfig(e){if(this.loadCount>5)return(0,i.telemetry)("config_limit",void 0,{once:!0}),void l.error("Reload config limit is reached!");let t=`${(0,o.getProtocol)()}${r.default.base_url}/script/widget/config/${r.default.widget_id}`;a.EnvironmentManager.isDevelopment()&&(t="/config.json"),t+=`?rnd=${Math.random()}`,l.log("Reloading config from",t,this.loadCount),(0,o.getPageWindow)().__jivoConfigOnLoad=t=>{if((null==t?void 0:t.isDeleted)||!t)return void l.log("Reload on deleted config",t);const n=t;(0,r.getViHost)()===n.vi_host&&(0,r.getCometHost)()===n.chat_host||(l.log("initConfig new config",n),(0,r.initConfig)(n),e(n)),l.log("jivoConfigOnLoad from reloadConfig")},s.xhrRequest.get(t,((e,t)=>{var n,r;if(e)return void l.log("Load config error",e);const i=t.data;try{l.log("Config is loaded",i),this.loadCount++,null===(r=(n=(0,o.getPageWindow)()).__jivoConfigOnLoad)||void 0===r||r.call(n,i)}catch(e){l.log("Config parse error",i,e)}}))}}},41504:function(e,t,n){"use strict";n.r(t),n.d(t,{AcceptEula:function(){return m},AgentMessagesAck:function(){return l},AgentMessagesRead:function(){return u},ChatServerOutgoingMessage:function(){return r},ClientMessage:function(){return p},ClientServiceMessage:function(){return _},ClientTyping:function(){return f},Introduction:function(){return h},OfflineMessage:function(){return d},Rate:function(){return s},StartChat:function(){return c},Startup:function(){return o},UpdateCustomData:function(){return i},UpdateExternalInfo:function(){return g},UpdateUserToken:function(){return a},UrlChange:function(){return v}});class r{constructor(e){this.name=e}}class o extends r{constructor(e,t,n,r,o,i,a,s,l,u,c,d,f,p,g){super("startup"),this.jv_widget_id=p.widgetId?p.widgetId:void 0,this.site_id=p.siteId?p.siteId:void 0,this.current_page=e||void 0,this.is_mobile=t,this.visits_count=n||void 0,this.page_visible=r,this.chat_opened=o,this.chat_id=i||void 0,this.widget_version=a||void 0,this.abtest=s||void 0,this.history=l||void 0,this.new_utm=u||void 0,this.proactive_rule=this.getProactiveRule(c,g),this.visitor_id=f.visitorId?f.visitorId:void 0,this.jv_client_id=f.clientId?f.clientId:void 0,this.pa_id=f.priorityAgentId?f.priorityAgentId:void 0,this.custom_data=f.customData?f.customData:void 0,this.user_token=f.userToken?f.userToken:void 0,this.analytics=d||void 0,this.cap_token=f.captchaToken?f.captchaToken:void 0}getProactiveRule(e,t){if(t){const e=t.toJSON();return{invitation_text:e.text,agent_id:e.body.agent_id,bot_id:e.body.bot_id,private_id:e.private_id,created_ts:Math.floor(e.created_ts/1e3),is_markdown:Boolean(null==e?void 0:e.body.is_markdown)}}const{agentId:n,botId:r,text:o,privateId:i,createdTs:a,isMarkdown:s}=e,l={invitation_text:o,agent_id:n,bot_id:r,private_id:i,created_ts:a};return s&&(l.is_markdown=!0),o&&(n||r)&&i&&a?l:void 0}}class i extends r{constructor(e){super("update_custom_data"),this.custom_data=e}}class a extends r{constructor(e){super("update_user_token"),this.user_token=e}}class s extends r{constructor(e,t,n){super("rate"),this.rate=e,this.chat_id=t,this.comment=n}}class l extends r{constructor(e,t){super("agent_message_ack"),this.ack_msg_ids=e,this.chat_id=t}}class u extends r{constructor(e,t){super("agent_message_read"),this.msg_ids=e,this.chat_id=t}}class c extends r{constructor(e){super("start_chat"),this.invited_agent=e}}class d extends r{constructor(e,t,n,r,o,i,a,s){super("offline_message"),this.message=e,this.email=t,this.phone=n,this.client_name=r,this.cap_symbols=o,this.from_online=i,this.description=a,this.accept_eula=s}}class f extends r{constructor(e){super("client_typing"),this.typing=e}}class p extends r{constructor(e,t,n,r,o,i,a){super("client_message"),this.message=e,this.private_id=t,this.widget_department_id=n||null,this.is_prechat_btn=r||null,this.media=o||null,this.button_id=i||null,this.campaign=a||null}}class g extends r{constructor(e){super("update_external_info"),this.external_info=e}}class h extends r{constructor(e){super("introduction"),this.client_name=e.name,this.phone=e.phone,this.email=e.email,this.description=e.description,this.accept_eula=e.eula,this.accept_mailing=e.mailing}}class m extends r{constructor(){super("accept_eula")}}class _ extends r{constructor(e){super("client_service_message"),this.service="typing_insight",this.event="input_changed",this.new_val=e}}class v extends r{constructor(e,t){super("url_change"),this.url=e,this.title=t}}},40426:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(88319),o=n(90061),i=n(97490),a=n(44145),s=n(69882),l=n(97615),u=n(31011),c=n(54415),d=n(50216),f=n(32183),p=n(73687),g=n(45926);class h extends Error{constructor(e,t){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=h.name,this.provider=t}}class m extends h{constructor(e,t){super(e,t)}}class _ extends m{constructor(e,t){super(`Message parse error: ${e}`,t)}}class v extends m{constructor(e,t){super(`JC error: ${e}`,t)}}const y=(0,o.createLogger)("ChatServerProvider");var b=class{constructor(e){this.name="ChatServerProvider",this.manager=e,this.url=this.getUrl(),this.connection=null,this.connected=!1,this.lastError=null}connect(e){return y.log("connect, force:",e),new Promise(((t,n)=>{try{this.needToConnect(e)&&this.setupConnection(t,n)}catch(e){y.error(e),n(e)}}))}disconnect(){y.warn("disconnect",this.connection),this.connection&&(this.connection.off(),this.connection.close(),this.connection=null)}send(e){y.log("send",this.connected,e);try{if(this.connection&&this.connected){let t=null;try{t=JSON.stringify(e)}catch(e){throw new _(e.message,this.name)}if(t)try{this.connection.send(t),this.manager.logSocketEvent(e)}catch(e){throw new v(e.message,this.name)}}else y.warn("open connection",this.connected),this.manager.open(null,!0)}catch(e){this.handleSendError(e)}}setLastError(e){y.warn("setLastError",e),this.lastError=e}handleSendError(e){(e instanceof v||e instanceof _)&&c.Monitoring.reportException(e)}setupConnection(e,t){y.log("setupConnection"),this.connection=new r.Z(this.url),this.connection.on("open",(e=>{this.connected=!0,this.manager.receiver.onConnect(e)})),this.connection.on("close",(e=>{this.connected=!1,this.manager.receiver.onDisconnect(e)})),this.connection.on("error",(e=>{this.manager.receiver.onError(e),t({ok:!1})})),this.connection.on("message",(t=>{this.manager.receiver.onMessage(t),e({ok:!0})})),this.connection.open()}getUrl(){const{chatHost:e,siteId:t,widgetId:n}=(0,a.getSystemSettings)(),{visitorId:r}=(0,a.getClient)(),o=`/cometcn/${t}/${n}/${r}/${Date.now()}`;if(l.EnvironmentManager.isSelfhosted()){return`${(0,g.getProtocol)().includes("https")?"wss://":"ws://"}${e}${o}`}return`wss://${e}${o}`}needToConnect(e){const{recaptcha:t,disableMobile:n}=(0,a.getFeatures)(),r=(0,a.getApp)(),o=d.default.getInstance(),c=(0,a.getClient)();if(y.log("needToConnect, force:",e),t&&o&&o.isBlocked())return y.log("Recaptcha is blocked"),!1;if(!e&&r.maintenance)return y.log("Maintenance mode on!"),!1;const g=(0,s.isWixEditor)()||l.EnvironmentManager.isDesignerEditor(),h=p.default.get("is_blacklisted"),m=r.route==i.Route.HIDDEN&&!e,_=u.platform.isMobileOrTablet&&n;if(g||h||m||_||(0,s.isAppCobrowse)())return y.log("Connection disabled."),!1;if(3333==this.lastError)return y.log("Connection disabled spam detected."),!1;if(e&&!this.connected)return y.log("connection is forced"),!0;if(r.lastMsgTime){const e=(new Date).getTime(),t=Math.abs((e-r.lastMsgTime)/1e3);if(c.sessionId&&r.isOnline&&t<172800)return!0}return c.sessionId&&!r.chatStarted?(y.warn("Connection disabled chat not started.",this.name),!1):this.connected||!(0,f.pageVisible)()?(y.warn("Connection already open"),!1):(y.log("is ok to connect."),!0)}}},34783:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r,o=n(8117),i=n(11281),a=n(52274),s=n(90061),l=n(13077),u=n(26932),c=n(34445),d=n(14264);!function(e){e.DELETED="Deleted"}(r||(r={}));var f=n(44145),p=n(97615),g=n(54415),h=n(62096),m=n(69882),_=n(32183),v=n(55908),y=n(50216),b=n(138),C=n(73687),E=n(28723),D=n(8717),T=n(12822),w=n(31011),S=n(66434),O=n(41504);const A=(0,s.createLogger)("ChatServerReceiver");var I=class{constructor(e){this.startupCallback=null,this.manager=e}onConnect(e){A.warn("onConnect",e),this.checkRecaptchaIfNeeded((()=>{clearTimeout(this.maintenanceTimeout);const e=h.reduxStore.getState(),{app:t,chats:n,client:r,proactive:i,settings:a}=e,s=this.formatUTM(r.utm),f=(0,m.getCurrentPage)(),g={title:f.title,url:o.default.decodeString(f.url)},y=(0,D.isContainerRoute)(t.route),T=n.length?n[n.length-1]:null;this.manager.send(new O.Startup(g,w.platform.isMobileOrTablet,C.default.get("visits_count")-0,(0,_.pageVisible)(),y,T?T.id:null,p.EnvironmentManager.getVersion(),v.default.getInstance().getActiveTestAsString(),r.sessionId?null:E.HistoryStore.get(),s,i,b.default.isAnalyticsIdAvaiable(),r,a.system,d.default.getLastUnreadApiInvitation())),u.appDispatchers.setLastChatStatus(c.ChatStatus.STARTUP),(0,l.setRuleLocal)("sendStartupTime",(new Date).getTime())}),(()=>{this.manager.close()}))}onDisconnect(e){if(A.warn("onDisconnect",e),this.manager.close(),this.manager.provider.setLastError(e.code),this.setStartupCallback(null),(0,l.setRuleLocal)("sendStartupTime",null),clearTimeout(this.maintenanceTimeout),e.reason===r.DELETED&&this.deleteClient(),1013===e.code){(0,T.enableMaintenance)();const e=Math.random()*a.MAINT_RECONNECT_TIMEOUT<<0;A.warn("Set maintenance reconnect timeout",e),this.maintenanceTimeout=setTimeout((()=>{this.manager.open(null,!0)}),e)}3333===e.code&&(this.manager.buffer.clear(),(0,S.telemetry)("client_message_spam",void 0,{once:!0}))}onError(e){A.warn("onError",e)}onMessage(e){A.log("RECEIVER ON MESSAGE",e);let t=null;try{t=JSON.parse(e),A.log("RECEIVER ON MESSAGE",t),this.manager.logSocketEvent(t)}catch(e){g.Monitoring.reportException(e)}try{const e=t;e.method&&e.params&&e.params.type&&i.default[e.params.type]?i.default[e.params.type](e.params.body):e.method&&i.default[e.method]?i.default[e.method](e):e.name&&i.default[e.name]&&i.default[e.name](t),!this.startupCallback||"startup_ok"!==e.name&&"resume_ok"!==e.name||(this.startupCallback(),this.setStartupCallback(null))}catch(e){g.Monitoring.reportException(e)}}setStartupCallback(e){A.warn("setStartupCallback",e),this.startupCallback=e}formatUTM(e){const{campaign:t,source:n,medium:r,keyword:o,term:i,content:a}=e;if(t||n||r||o||i||a)return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t&&{campaign:t}),n&&{source:n}),r&&{medium:r}),o&&{keyword:o}),i&&{term:i}),a&&{content:a})}deleteClient(){u.clientDispatchers.resetClient(),u.appDispatchers.setChatAccepted(!1),u.appDispatchers.setChatStarted(!1),u.appDispatchers.setLastChatStatus(null),d.default.destroy()}checkRecaptchaIfNeeded(e,t){A.log("checkRecaptchaIfNeeded"),(0,f.getFeatures)().recaptcha?y.default.getInstance().getJivoAntispamToken(e,t):e()}}},49963:function(e,t,n){"use strict";n.r(t),n.d(t,{connectionAdapter:function(){return p}});var r=n(90061),o=n(45948),i=n(97615),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const s=(0,r.createLogger)("CONNECTION_ADAPTER",{style:"color: teal"});let l=null;const u=()=>{const e=null==l?void 0:l.isOpen();return s.log("isConnected",e),e||!1},c=(e,t)=>a(void 0,void 0,void 0,(function*(){return i.EnvironmentManager.isWidgetConstructor()||i.EnvironmentManager.isContactFormPreview()||o.isPopupConstructor?Promise.resolve({ok:!0}):(s.log("openConnect","callback:",e,"force:",t),l.open(e,t))})),d=e=>{s.log("removeFromBuffer"),null==l||l.buffer.remove(e)},f=(e,t)=>(s.log("findInBuffer"),null==l?void 0:l.buffer.find(e,t)),p={setConnectionInstance:e=>{l=e},getInstance:()=>l,isConnected:u,openConnect:c,checkConnection:e=>{s.log("checkConnection",e,l),u()?null==e||e():c(e,!0)},flushBuffer:()=>{s.log("flushBuffer"),null==l||l.flushBuffer()},addToBuffer:e=>{s.log("addToBuffer"),null==l||l.buffer.add(e)},removeFromBuffer:d,addToBufferOnce:e=>{s.log("addToBufferOnce");const t=null==l?void 0:l.buffer;t&&(f("name",e.name)&&d(e),t.add(e))},findInBuffer:f,sendEvent:e=>{s.log("sendEvent",e),null==l||l.send(e)},sendEventIfConnected:e=>{s.log("sendIfConnected",e),null==l||l.sendIfConnected(e)},setLastError:e=>{s.log("setLastError",e),null==l||l.provider.setLastError(e)},disconnect:()=>{s.log("disconnect"),null==l||l.close()}}},5895:function(e,t,n){"use strict";n.r(t),n.d(t,{checkForDelivered:function(){return f},sendOfflineTmpMessages:function(){return p}});var r=n(65465),o=n(54346),i=n(81152),a=n(6693),s=n(90061),l=n(44145),u=n(26932),c=n(66434);const d=(0,s.createLogger)("ConnectionHelpers"),f=e=>{const t=(0,l.getMessageByPrivateId)(e);t&&!t.msg_id&&(d.warn("checkForDelivered",t),u.messagesDispatchers.updateMessage({privateId:t.private_id,messageId:null},{status:i.MessageStatus.NOT_DELIVERED}),(0,c.telemetry)("client_message_send_error",{param1:(0,l.getApp)().isOnline,param2:t.type,param3:(0,l.getClient)().isBlacklisted?"black":"timeout",param4:(0,l.getSystemSettings)().chatHost}))},p=()=>{const e=(0,l.getTemporaryMessages)();e.length&&(d.log("sendOfflineTmpMessages",e),(0,o.callInitiateChat)(),e.forEach((e=>{r.messageActions.sendClientMessage({text:e.text,privateId:e.private_id}),setTimeout((()=>{f(e.private_id)}),a.Timeouts.MESSAGE_SEND_ERROR_TIMEOUT)})))}},73439:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(90061),o=n(22866),i=n(66434);const a=(0,r.createLogger)("ConnectionBuffer");var s=class{constructor(e){this.connectionManager=e,this.messages=[]}add(e){a.log("add",e),this.messages.push(e)}remove(e){a.log("remove",e),this.messages=this.messages.filter((t=>{const n=e,r=t;return n.private_id!==r.private_id||n.name!==r.name}))}clear(){a.warn("clear"),this.messages=[]}flush(){a.log("flush"),this.messages.forEach((e=>{const t=e;"client_message_campaign"!==t.name&&this.connectionManager.send(t)})),this.clear()}find(e,t){return this.messages.find((n=>n[e]===t))}isEmpty(){return 0===this.messages.length}};const l=(0,r.createLogger)("ConnectionManager");var u=class{constructor(e,t){this.buffer=new s(this),this.receiver=new t(this),this.provider=new e(this)}open(e,t){return l.warn("open"),e&&this.receiver.setStartupCallback(e),this.provider.connect(t)}close(){l.warn("close"),this.provider.disconnect(),this.buffer.clear()}isOpen(){return this.provider&&this.provider.connected}send(e){l.warn("send",e),this.provider.send(e)}sendIfConnected(e){l.warn("sendIfConnected",e,`Connected: ${this.isOpen()}`),this.isOpen()&&this.send(e)}logSocketEvent(e){o.default.getInstance().saveSocketEvent(e)}flushBuffer(){l.warn("flushBuffer",this.buffer),this.buffer.isEmpty()||(this.buffer.flush(),(0,i.telemetry)("client_message_flush_buffer"))}}},499:function(e,t,n){"use strict";n.r(t),n.d(t,{syncCSClientInfo:function(){return l}});var r=n(90061),o=n(44145),i=n(26932),a=n(5895),s=n(79523);const l=e=>{const t=(0,r.createLogger)("syncCSClientInfo");i.clientDispatchers.setHasIntegration(e.has_integration),i.clientDispatchers.setAssignedAgentId(e.assigned_agent_id||null);const n=(0,o.getClient)(),{mailing:l}=(0,o.getFeatures)(),u=e.name||e.client_name,c={description:n.description};if(n.email!==e.email&&(c.email=n.email),n.phone!==e.phone&&(c.phone=n.phone),n.name!==u&&(c.client_name=n.name),t.log("Potential introduction data:",c,n),c.email||c.phone||c.client_name){const{email:e,phone:r}=n.mailing;l&&e!==r&&(c.email||c.phone)?(t.log("Split email and phone, because mailing email and phone are different",c,n.mailing),c.email&&s.introduceActions.sendIntroduction(Object.assign(Object.assign({},c),{phone:null,mailing:e})),c.phone&&s.introduceActions.sendIntroduction(Object.assign(Object.assign({},c),{email:null,mailing:r}))):(c.mailing=l?e:null,s.introduceActions.sendIntroduction(c))}!n.email&&e.email&&i.clientDispatchers.setClientEmail(e.email),!n.phone&&e.phone&&i.clientDispatchers.setClientPhone(e.phone),!n.name&&u&&i.clientDispatchers.setClientName(u),(0,o.getApp)().isOnline||(0,a.sendOfflineTmpMessages)()}},9550:function(e,t,n){"use strict";n.r(t),n.d(t,{ContactsType:function(){return r}});const r={DURING_CHAT_NO_CLOSE:-1,DURING_CHAT:0,BEFORE_CHAT:1,DISABLED:2,SOCIAL:3}},93907:function(e,t,n){"use strict";n.d(t,{dc:function(){return l},OQ:function(){return d},Ql:function(){return c},ph:function(){return u},ql:function(){return f}});var r=n(96394),o=n(18276),i=n(82594),a=n(99915),s=n(66434);const l=({settings:e,departments:t,client:n,isEULA:o,isMailing:a})=>{const s={},l={},u=e.slice(),c=[];return e.forEach(((e,d,{length:f})=>{const{show:p,name:g,required:h,attribute_type:m}=e;p&&(s[g]=((e,t,n)=>{var r,o;return n?t&&"checkbox"===t?(null===(r=n.attributes)||void 0===r?void 0:r[e])||!1:(null===(o=n.attributes)||void 0===o?void 0:o[e])||n[e]||"":""})(g,m,n),l[g]=((e,t,n)=>{const r=null!=t?t:e;return n?(0,i.l1)(i.z2[r]):i.z2[r]})(g,m,h),m&&c.push(g)),d===f-1&&((null==t?void 0:t.length)&&(s.departmentId=(null==n?void 0:n.departmentId)||t[0].id,l.departmentId=i.z2.departmentId,u.push({name:"departmentId",required:!0,show:!0})),1===r.default.contacts_ask&&(s.message=(null==n?void 0:n.inputText)||(null==n?void 0:n.lastMessage)||"",l.message=(0,i.l1)(i.z2.message),u.push({name:"message",required:!0,show:!0})),o&&(s.eula=!1,l.eula=i.z2.eula,u.push({name:"eula",required:!0,show:!1})),a&&(s.mailing=Boolean(n.mailing.email||n.mailing.phone)||!1,l.mailing=i.z2.mailing,u.push({name:"mailing",required:!1,show:!1})))})),{values:s,fields:u,attributeKeys:c,resolver:(0,i.A3)(l)}},u=e=>{switch(e){case"email":return(0,o.l10n)("lblYourEmail");case"phone":return(0,o.l10n)("lblYourPhone");case"message":return(0,o.l10n)("lblYourMessage");default:return(0,o.l10n)("lblIntroduceName")}},c=e=>{switch(e){case"email":return"email";case"number":return"number";case"message":return"textarea";case"list":return"list";case"checkbox":return"checkbox";case"date":return"date";default:return"text"}},d=()=>(0,a.R)().reduce(((e,{show:t,name:n,required:r})=>e+(t?`${n}${r?"*":""};`:"")),""),f=(e,t)=>{(0,s.telemetry)(e?"chat_introduce":"offline_sent_fail",{param1:"formSubmitFail",param2:d(),param3:JSON.stringify(t||null)})}},91920:function(e,t,n){"use strict";n.r(t),n.d(t,{hasCustomLabel:function(){return o},showCustomLabel:function(){return i}});var r=n(45926);const o=()=>{const e=(0,r.getPageWindow)();return"function"==typeof e.jivo_onLoadCallback&&/jivo_custom_widget/gi.test(String(e.jivo_onLoadCallback))},i=e=>{const t=(0,r.getPageWindow)().jivo_cstm_widget;o()&&t&&(t.style.display=e?"block":"none")}},87826:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(26932),o=n(66434);const i=()=>{r.clientDispatchers.setEulaAccepted(!0),(0,o.telemetry)("eula_accepted")}},92790:function(e,t,n){"use strict";n.r(t),n.d(t,{HistoryManager:function(){return f},historyManagerInstance:function(){return p}});var r=n(90061),o=n(45926),i=n(44145),a=n(97490),s=n(88263),l=n(31011),u=n(66434);const c=(0,r.createLogger)("HistoryManager");let d;class f{constructor(){if(d)return d;this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),d=this}getLocation(){return(0,o.getPageWindow)().location}getLocationWithoutHash(){const e=this.getLocation();return e.href.replace(e.hash,"")}setHistoryState(){c.log("setHistoryState");const e=(0,o.getPageWindow)(),t=e.history,n=e.location,r=e.document;(!t.state||t.state&&"number"!=typeof t.state.jmobile)&&t.pushState({jmobile:1},r.title,n.href),t.replaceState({jmobile:1},r.title,n.href)}checkPopState(){const e=(0,i.getApp)().route;c.log("checkPopState",this.initHash,this,this.initHref),this.initHash!==this.getLocation().hash&&this.initHref===this.getLocationWithoutHash()||(this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),l.platform.isMobileOrTablet&&e!==a.Route.LABEL&&(s.routerService.next(a.RouterEvent.CloseWindow),(0,u.telemetry)("mobile_chat_close",{param1:"byBack"})))}}const p=()=>d},32915:function(e,t,n){"use strict";n.r(t),n.d(t,{paidRequired:function(){return l},setJointLink:function(){return c}});var r=n(96394),o=n(26932),i=n(2491),a=n(97615),s=n(66434);const l={result:"error",reason:"Need paid account"},u={tg:"api_set_telegram_link",wa:"api_set_wa_link",vk:"api_set_vk_link"},c=(e,t)=>{if(!(null===r.default||void 0===r.default?void 0:r.default.enable_custom_links))return{result:"error"};if(!a.EnvironmentManager.isJsApiAvaiable())return l;if(!(null===r.default||void 0===r.default?void 0:r.default.joint[t]))return{result:"error",reason:"You don't have this communication channel"};if(!(0,i.isValidHttpURL)(e))return{result:"error",reason:"Invalid link"};const n=(e=>{try{return encodeURI(e)}catch(t){return e}})(e.trim().replace(/(?:\r\n|\r|\n)/g,""));return o.featuresDispatchers.setJoint(Object.assign(Object.assign({},r.default.joint),{[t]:{customUrl:n}})),(0,s.telemetry)(u[t],void 0,{probability:"one"}),{result:"ok"}}},33302:function(e,t,n){"use strict";n.r(t),n.d(t,{locationParams:function(){return s}});var r=n(31011),o=n(42882),i=n(45926);const a=(0,o.fromEntries)(new URLSearchParams((0,i.getPageWindow)().location.search)),s={chatPageYClients:r.platform.isChatPage&&"jivo_ys"in a}},53130:function(e,t,n){"use strict";n.d(t,{O:function(){return a},f:function(){return s}});var r=n(44145),o=n(26932),i=n(66434);const a=e=>{const t=(0,r.getClient)(),n=t=>t in e&&Boolean(e[t]),a=Object.assign({},t.mailing);n("email")&&(a.email=!0),n("phone")&&(a.phone=!0),o.clientDispatchers.setMailing(a),(0,i.telemetry)("mailing_accepted",{param1:Object.keys(a).join(";")})},s=e=>{const t=(0,r.getClient)(),n=n=>n in e&&Boolean(e[n])&&t[n]!==e[n],a=t.mailing;n("email")&&(a.email=null),n("phone")&&(a.phone=null),o.clientDispatchers.setMailing(a),(0,i.telemetry)("mailing_rejected")}},18166:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});const r=(e,t)=>{const{values:[n,r],isMailingEnabled:o,mailing:i}=e;if(!o)return!1;const a=Boolean(i.email||i.phone),s=n!==t.email,l=r!==t.phone,u=s||l;return o&&(Boolean(n)||Boolean(r))&&(!a||a&&u)}},94767:function(e,t,n){"use strict";n.r(t),n.d(t,{getFormattedTextForProactiveCampaign:function(){return a},getMobileProactiveContent:function(){return l},getProactiveAgent:function(){return s}});var r=n(44145),o=n(96394),i=n(36148);const a=(e,t=!1)=>{const{title:n,text:r,img_src:o,img_position:i}=e,a=i&&["top","top_width"].includes(i),s=o&&!t?`\n\n![](${o})\n\n`:"";let l=s&&a?s:"";return n&&""!==n.trim()&&(l+=`# ${n}\n`),l+=r,s&&!a&&(l+=s),l},s=e=>e&&e.text?e.botId?(0,r.getBotById)(e.botId):e.agentId?(0,r.getAgentById)(e.agentId):null:null,l=(e,t,n=!1)=>{const r={text:"",agent:null,isMarkdown:!1,isCampaign:!1};if(!(n||o.default.mobile_proactive&&e&&e.status!==i.MessageStatus.READ))return r;const l=s(e);if(r.text=e.text,r.agent=n?null:l,r.isMarkdown=Boolean(e.isMarkdown),t){const{img_src:e,text_color:n,background:o}=t;r.isCampaign=!0,r.isMarkdown=!0,r.imgSrc=e,r.text=a(t,!0),r.design={textColor:n,background:o}}return r}},97490:function(e,t,n){"use strict";n.r(t),n.d(t,{Route:function(){return r},RouterEvent:function(){return o}});const r={HIDDEN:"hidden",LABEL:"label",LABEL_INVITATION:"label/invitation",DEPARTMENTS:"departments",INTRODUCE:"introduce",MOBILE_MENU:"mobilemenu",CHAT:"chat",CHAT_MIN:"chat/min",CHAT_SOCIAL:"chat/social",CHAT_INTRODUCE:"chat/introduce",CHAT_EVAL:"chat/eval",CHAT_CALL:"chat/call",CHAT_SETUP_CALL:"chat/setupcall",CALL:"call",CALL_POPUP:"call/popup",DEBUG:"debug"},o={Submit:"submit",Cancel:"cancel",CloseWindow:"closeWindow",Hide:"hide",Navigate:"navigate",Error:"error",ToChat:"toChat",ToCall:"toCall",ToSocial:"toSocial",ToIntroduce:"toIntroduce",ApiOpen:"apiOpen",ToDebug:"toDebug",ToLabelInvitation:"toLabelInvitation",ToMobileMenu:"toMobileMenu",ToCallPopup:"toCallPopup",ToCallSetup:"ToCallSetup"}},88263:function(e,t,n){"use strict";n.r(t),n.d(t,{routerService:function(){return o}});var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const o=new class{constructor(){this.router=null}getRouter(){return r(this,void 0,void 0,(function*(){if(!this.router){const{Router:e}=yield Promise.resolve().then(n.bind(n,21476));this.router=e}return this.router}))}next(e){return r(this,void 0,void 0,(function*(){(yield this.getRouter()).next(e)}))}setNext(e){return r(this,void 0,void 0,(function*(){(yield this.getRouter()).setNext(e)}))}getCurrentRoute(){return r(this,void 0,void 0,(function*(){return(yield this.getRouter()).getCurrentRoute()}))}getPrevEvent(){return r(this,void 0,void 0,(function*(){return(yield this.getRouter()).getPrevEvent()}))}on(e,t){return r(this,void 0,void 0,(function*(){(yield this.getRouter()).on(e,t)}))}}},8717:function(e,t,n){"use strict";n.r(t),n.d(t,{isChatClosedRoute:function(){return l},isChatInputRoute:function(){return f},isChatRoute:function(){return d},isContainerRoute:function(){return s},isIntroduceRoute:function(){return c},isMinRoute:function(){return u},shouldRedirectToIntroduce:function(){return a}});var r=n(44145),o=n(9550),i=n(97490);const a=()=>{const{isOnline:e}=(0,r.getApp)(),{isIntroduced:t}=(0,r.getClient)(),{contactsAsk:n}=(0,r.getUserSettings)();return e&&!t&&n===o.ContactsType.BEFORE_CHAT},s=e=>![i.Route.LABEL,i.Route.LABEL_INVITATION,i.Route.HIDDEN].includes(e),l=e=>[i.Route.LABEL,i.Route.CHAT_MIN].includes(e),u=e=>e===i.Route.CHAT_MIN,c=e=>e===i.Route.INTRODUCE,d=e=>[i.Route.CHAT,i.Route.INTRODUCE,i.Route.DEPARTMENTS].includes(e),f=e=>[i.Route.CHAT,i.Route.CHAT_CALL].includes(e)},6222:function(e,t,n){"use strict";n.r(t),n.d(t,{addFrequencyDelay:function(){return a},isFrequencyDelay:function(){return s}});var r=n(73687),o=n(71047);const i={once_1h:3600,once_3h:10800,once_6h:21600,once_1d:86400},a=(e="once_1d",t)=>{r.default.set(`${o.CampaignsKeys.POPUP_DELAY}_${t}`,!0,i[e])},s=e=>Boolean(r.default.get(`${o.CampaignsKeys.POPUP_DELAY}_${e}`))},26683:function(e,t,n){"use strict";n.r(t),n.d(t,{getExternalDataValue:function(){return o}});var r=n(44145);const o=({name:e,comparator:t})=>{const n=(0,r.getClient)();if(!n.externalData)return;const o=n.externalData[e];return null!==o||"empty"===t?o:void 0}},82024:function(e,t,n){"use strict";n.r(t),n.d(t,{isExternalDataCondition:function(){return r}});const r=e=>"external_data"===e.condition},54541:function(e,t,n){"use strict";n.r(t),n.d(t,{showAd:function(){return o}});var r=n(96394);const o=()=>!(r.default.unverified||r.default.options&&r.default.hide_ad)},25886:function(e,t,n){"use strict";n.r(t),n.d(t,{getJoints:function(){return s}});var r=n(44145),o=n(67597),i=n(31011),a=n(16217);const s=()=>{var e,t,n;const{joint:s}=(0,r.getFeatures)(),{powerButtonPhone:l}=(0,r.getUserSettings)(),{geoIp:u}=(0,r.getSystemSettings)();let c=0;const d={};return(0,a.isCallbackEnabled)()?(d.callback=!0,c++):l&&(d.cbUrl=l,c++),s?(s.sb&&c++,s.ig&&c++,(null===(e=s.fb)||void 0===e?void 0:e.joint_id)&&(d.fbUrl="https://m.me/"+s.fb.joint_id,c++),s.wa&&(d.waUrl=s.wa.customUrl||"https://wa.me/"+s.wa,c++),s.vk&&(s.vk.joint_id||s.vk.customUrl)&&(d.vkUrl=s.vk.customUrl?s.vk.customUrl:"https://vk.me/club"+s.vk.joint_id,c++),(null===(t=s.vb)||void 0===t?void 0:t.botname)&&(d.vbUrl="viber://pa?chatURI="+s.vb.botname,c++),s.tg&&(s.tg.customUrl||s.tg.botname)&&(d.tgUrl=s.tg.customUrl?s.tg.customUrl:(0,o.getTgLink)(u)+s.tg.botname,c++),s.max&&c++,i.platform.supports.iMessage&&(null===(n=s.im)||void 0===n?void 0:n.joint_id)&&(d.imUrl=`sms://open?service=iMessage&recipient=urn:biz:${s.im.joint_id}&biz-intent-id=click_in_jivo`,c++),{links:d,count:c}):{links:d,count:c}}},43902:function(e,t,n){"use strict";n.r(t),n.d(t,{StatsManager:function(){return f}});var r=n(73687),o=n(90061),i=n(54415);const a=e=>e?Math.floor(e-Date.now()/1e3):2592e3,s=["chat_init","contacts_fill","email_sent","phone_sent","cta_click","poll_sent"],l=(e,t)=>e.includes(t),u=(0,o.createLogger)("StatsManager"),c=e=>r.default.get(`sended_stats_${e}`),d=(e,t)=>{const n=c(e);if(!n)return void u.warn(`Can't update. Sended stats for campaign #${e} not found.`);const o=Object.assign(Object.assign(Object.assign({},n),t),{events:t.events?`${n.events}${t.events};`:n.events});r.default.set(`sended_stats_${e}`,o,a(o.end_ts))},f={create:e=>{c(e.campaign_id)?u.warn(`Can't create. Sended stats for campaign #${e.campaign_id} already exist.`):r.default.set(`sended_stats_${e.campaign_id}`,{events:"",end_ts:e.end_ts,isSubmitted:!1},a(e.end_ts))},get:c,update:d,send:({campaignId:e,campaignIds:t},n)=>{const r=(e=>s.includes(e))(n);if(t){const e=[],o=t.filter((t=>{const r=c(t);return!r||!l(r.events,n)||(e.push(t),!1)}));e.length>0&&u.warn(`${n} will not be sent for these campaigns.`,e,"Was sent previously."),o.length>0&&(i.Monitoring.reportStats(n,o),o.forEach((e=>d(e,{events:n,isSubmitted:r}))))}else if(e){const t=c(e);if(t&&l(t.events,n))return void u.warn(`${n} will not be sent for this campaign.`,e,"Was sent previously.");i.Monitoring.reportStats(n,e),d(e,{events:n,isSubmitted:r})}}}},50188:function(e,t,n){"use strict";n.r(t),n.d(t,{WidgetStatus:function(){return f}});var r=n(96394),o=n(26932),i=n(44145),a=n(95911),s=n(90061),l=n(45926),u=n(40694),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const d=(0,s.createLogger)("StatusProvider");const f=new class{constructor(){d.log("init")}getUrl(){const{chatHost:e,siteId:t,widgetId:n}=(0,i.getSystemSettings)();return`${(0,l.getProtocol)()}//${e}/widget/status/${t}/${n}?rnd=${Math.random()}`}getStatus(e){return c(this,void 0,void 0,(function*(){yield a.promisedRequest.get(this.getUrl()).then((t=>{var n;d.warn("response",t,e);const i=t.data;i.maintenance&&o.appDispatchers.setMaintenance(!0);const a=i.bots&&i.bots.length;if(a){const e=i.bots[0];o.botsDispatchers.addBot({avatarUrl:e.avatar_url||null,id:e.bot_id,name:e.display_name||null,title:e.title||null,type:e.type,isBot:!0})}if(i.agents&&!i.agents.length&&(a&&(null===r.default||void 0===r.default?void 0:r.default.enable_bot_offline)?o.appDispatchers.setAppIsOnline(!0):o.appDispatchers.setAppIsOnline(!1)),null===(n=i.agents)||void 0===n?void 0:n.length)for(const e of i.agents){const t=(0,u.agentToReduxFormat)(e);o.agentsDispatchers.addAgent(t)}e(!0)})).catch((t=>{d.warn(t),e(!1)}))}))}}},66434:function(e,t,n){"use strict";n.r(t),n.d(t,{telemetry:function(){return p}});var r=n(96394),o=n(31011),i=n(44145),a=n(55908),s=n(90061),l=n(40300),u=n(93765);const c=`${(0,n(45926).getProtocol)()}//${r.default.telemetry_host}/w`,d=(0,s.createLogger)("TELEMETRY_WIDGET"),f=(0,l.defineTelemetry)(c),p=(e,t,n)=>{const s=(0,u.replaceAll)(e," ","_");if(r.default.disable_telemetry||!o.platform.isNotSearchSpider)return;const l=(0,i.getClient)(),c={event:s,widget_id:r.default.widget_id,chat_mode:r.default.chat_mode,site_id:r.default.site_id,device:o.platform.device,visitor_id:l.visitorId,widget_version:"165.7.0",shard:r.default.shard_id||"main"},p=a.default.getInstance();p&&p.getActiveTest()&&(c.abtest_name=p.getActiveTestName(),c.abtest_group=p.getActiveTestGroup()),l.clientId&&(c.client_id=parseInt(l.clientId.split(".")[0],10)||0),t&&(d.log("event",s,"params",t),Object.assign(c,Object.keys(t).reduce(((e,n)=>(e[n]=String(t[n]),e)),{}))),f(s,c,n)}},21115:function(e,t,n){"use strict";n.r(t),n.d(t,{requestCallback:function(){return k},requestDelayedCallback:function(){return M},sendVideoCallChatMessage:function(){return x}});var r=n(65465),o=n(24578),i=n(138),a=n(81152),s=n(6693),l=n(47138),u=n(90061),c=n(31984),d=n(95911),f=n(50216),p=n(66434),g=n(21476),h=n(44145),m=n(24344),_=n(26932),v=n(79523),y=n(50402),b=n(96394),C=n(83945),E=n(31011),D=n(18276),T=n(97490),w=n(8717),S=n(3296),O=n(1858),A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const I=()=>{const e=`${(0,D.l10n)("cw_unableToConnect")}\n${(0,D.l10n)("cw_errInfoText")}`;_.callbackDispatchers.setCallbackStatus(l.CallStatus.ERROR),_.callbackDispatchers.setCallbackError(e),_.messagesDispatchers.addMessage({text:e,type:a.MessageType.SYSTEM,from:a.MessageInitiator.SYSTEM,body:{type:a.MessageType.CALL,name:a.MessageName.CALL_END}})},k=({values:e,from:t,invitationText:n=""},s,d)=>{const f=(0,u.createLogger)("TELEPHONY: requestCallback",{style:"color: green;"});if(f.log("start",{phone:e.phone,from:t}),["cw_wait","cw_connecting","cw_connected"].includes((0,h.getCallback)().status))return void f.error("already in call");const y=(0,h.getClient)(),b=(0,h.getApp)(),w=(0,h.getFeatures)();v.introduceActions.sendIntroduction(e),(0,c.checkStartCall)({phone:e.phone,invitationText:n,clientToken:y.clientId,requestGRecaptchaToken:Boolean(w.recaptcha)},((n,u)=>{var c;if(n)return null==d||d(),I(),void(0,p.telemetry)("cw_call_error",{param1:"in request"});if((u=u.data)||(f.error("wrong response from telephony"),u={ok:!1,error_list:["wrong_response"]}),u.only_forward)return f.error("only forward"),null==d||d(),_.callbackDispatchers.setCallbackStatus(l.CallStatus.ERROR),void _.callbackDispatchers.setCallbackError((0,D.l10n)("cw_call_forward"));if(u.ok){f.log("success"),null==s||s();const{phoneCodeSubstring:n}=(0,C.Dg)(e.phone),u=(0,C.Av)((null===(c=(0,h.getCallbackSettings)())||void 0===c?void 0:c.countries)||[],{phoneCode:n,reverseSearch:!0});_.appDispatchers.setChatStarted(!0),_.appDispatchers.setChatAccepted(!0),_.callbackDispatchers.setCallbackStatus(l.CallStatus.WAIT),r.messageActions.handleContactsForm(),r.messageActions.systemCallMessage(`${(0,D.l10n)("cw_call_to")} ${(0,C.vt)(e.phone,u)}`,a.MessageName.CALL_MESSAGE_START),(0,m.callUserFunction)("onCallStart"),i.default.trackCallWidgetRequested(),(0,p.telemetry)("cw_start_call",{param1:t}),(0,o.reloadTransitionStore)()}else f.error("have response, but is not ok"),null==d||d(),I(),(0,p.telemetry)("cw_call_error",{param1:u.error_list.join(" ")}),u.work_time&&u.work_time.schedule&&((0,S.initDelayedCall)(u.work_time),g.Router.next(T.RouterEvent.ToCall),(0,p.telemetry)("cw_start_call",{param1:t})),E.platform.isMobileOrTablet||b.route!==T.Route.LABEL||g.Router.next(T.RouterEvent.Navigate)}))},M=(e,t,n)=>A(void 0,[e,t,n],void 0,(function*({values:e,dateTime:t},n,o){(0,u.createLogger)("TELEPHONY: requestDelayedCallback",{style:"color: green;"}).log("start",{phone:e.phone,dateTime:t});const g=(0,h.getClient)(),m=(0,h.getFeatures)(),[y,E]=(0,O.Vq)(t),T=g.clientId?g.clientId.split(".")[0]:"0",w=`/sites/${b.default.site_id}/widgets/${b.default.widget_id}/clients/${T}/telephony/callback/delayed`,A=m.recaptcha?yield f.default.getInstance().getGRecaptchaToken({action:"delayedCallback"}):null,I=Object.assign({phone:e.phone,callback_date:y,callback_time:E},A&&{callback_token:A});_.callbackDispatchers.setDelayedCallbackStatus(l.DelayedCallStatus.WAIT),v.introduceActions.sendIntroduction(e),d.xhrRequest.post((0,c.telephonyUrl)(w),((s,u)=>{var c,d;if(s||u&&!u.data)return null==o||o(),s||_.callbackDispatchers.setDelayedCallbackStatus(l.DelayedCallStatus.NOT_WORK_TIME),(0,p.telemetry)("delayed_query_error",{param1:null!==(c=JSON.stringify(s))&&void 0!==c?c:"No data"});const f=u.data,g=f.work_time,m=f.error_list;if(f.ok){null==n||n();const{phoneCodeSubstring:o}=(0,C.Dg)(e.phone),s=(0,C.Av)((null===(d=(0,h.getCallbackSettings)())||void 0===d?void 0:d.countries)||[],{phoneCode:o,reverseSearch:!0}),u="as_soon_as_possible"===E&&f.callback_started,c={asSoonAsPossibleMessage:`${(0,D.l10n)("cw_call_to")} ${(0,C.vt)(e.phone,s)}`,defaultMessage:`${(0,D.l10n)("callback_delayed_submit_success")}\n${(0,O.Ce)(t)}`};u&&(_.callbackDispatchers.setCallbackIsDelayed(!1),_.callbackDispatchers.setCallbackStatus(l.CallStatus.WAIT),r.messageActions.handleContactsForm()),r.messageActions.systemCallMessage(u?c.asSoonAsPossibleMessage:c.defaultMessage,a.MessageName.DELAYED_CALL_SUCCESS),_.callbackDispatchers.setDelayedCallbackStatus(l.DelayedCallStatus.SUCCESS),i.default.trackCallWidgetRequested()}if(g&&(0,S.initDelayedCall)(g),m){const e=(0,h.getCallback)();if(m.includes("max_requests_limit")&&_.callbackDispatchers.setDelayedCallbackStatus(l.DelayedCallStatus.MAX_REQUESTS_LIMIT),m.includes("bad_callback_time")){_.callbackDispatchers.setDelayedCallbackStatus(l.DelayedCallStatus.BAD_CALLBACK_TIME);const e=(0,O.jX)(I.callback_date,I.callback_time);_.callbackDispatchers.setDelayedPeriods(e)}const t=m.some((e=>/client_blacklist|global_blacklist|rate_limiter/.test(e)));t&&_.callbackDispatchers.setDelayedCallbackStatus(l.DelayedCallStatus.BLOCKED),e.delayedStatus===l.DelayedCallStatus.WAIT&&_.callbackDispatchers.setDelayedCallbackStatus(l.DelayedCallStatus.NOT_WORK_TIME),_.callbackDispatchers.setCallbackStatus(!1)}}),{headers:{"Content-Type":s.CONTENT_TYPE.X_WWW_FORM},body:I})})),x=()=>{const e=(0,D.l10n)("webrtc_video_text_message");(0,w.shouldRedirectToIntroduce)()&&_.clientDispatchers.setLastMessage(e),r.messageActions.sendClientMessage({text:e}),_.transitionDispatchers.startTransition(y.ScriptName.OPEN_WIDGET),g.Router.next(T.RouterEvent.ToChat)}},3296:function(e,t,n){"use strict";n.r(t),n.d(t,{initDelayedCall:function(){return i},resetDelayedCall:function(){return a}});var r=n(26932),o=n(1858);const i=e=>{r.callbackDispatchers.setCallbackAvailable(!0),r.callbackDispatchers.setDelayedTimezone(e.timezone_diff),r.callbackDispatchers.setCallbackIsDelayed(!0),r.callbackDispatchers.setDelayedPeriods((0,o.cV)(e.schedule))},a=()=>{r.callbackDispatchers.setDelayedTimezone(null),r.callbackDispatchers.setDelayedPeriods([]),r.callbackDispatchers.setCallbackIsDelayed(null),r.callbackDispatchers.setDelayedCallbackStatus(null)}},1858:function(e,t,n){"use strict";n.d(t,{Ce:function(){return u},Vq:function(){return c},cV:function(){return l},jX:function(){return d}});var r=n(44145),o=n(96394),i=n(18276);const a="|",s=(e,t)=>`${e}|${t}`,l=e=>e.flatMap((({date:e,intervals:t})=>t.map((t=>s(e,t))))),u=(e,t="",n={month:"long",day:"numeric",hour:"numeric",minute:"numeric"})=>{const s=(0,o.getWidgetLocale)(),l=(new Date).getDate(),u=(0,i.l10n)("today"),c=new Date((new Date).setDate(l+1)).getDate(),d=(0,i.l10n)("callback_delayed_period_tomorrow"),f=(0,i.l10n)("callback_delayed_period_as_possible").toLowerCase(),p="as_soon_as_possible",[,g]=t.split(a),[h,m]=e.split(a),_=m===p,v=`${h} ${_&&(g&&g!==p)?g:m}`,{time:y,date:b,month:C,dateDetail:E}=(e=>{const t=(0,o.getWidgetLocale)(),n=e.replace(/\-/g,"/"),i=new Date(n).getTime();if(isNaN(i))return{time:0,date:0,month:0,dateDetail:new Date};const a=(0,r.getCallback)(),s=-(new Date).getTimezoneOffset(),l=a.delayedTimezone,u=new Date(i+60*(s-l)*1e3),c=u.getHours(),d=u.getMinutes(),f=u.getDate(),p=u.getMonth(),g=e=>e>9?e:`0${e}`,h=g(d);let m=`${g(c)}:${h}`;return"en"===t&&(m=u.toLocaleString(t,{hour:"numeric",minute:"numeric",hour12:!0})),{time:m,date:f,month:p,dateDetail:u}})(v);if(_)return f.charAt(0).toUpperCase()+f.slice(1);if(b!==l&&b!==c){return E.toLocaleString(s,n)}{const e=`, ${y}`;return b===l?`${u}${e}`:b===c?`${d}${e}`:`${b}.${C} ${e}`}},c=e=>e.split(a),d=(e,t)=>{const{delayedPeriods:n}=(0,r.getCallback)(),o=s(e,t);return n.filter((e=>e!==o))}},16217:function(e,t,n){"use strict";n.r(t),n.d(t,{fixInitAnimate:function(){return f},getSeconds:function(){return s},isCallActive:function(){return l},isCallbackButtonEnabled:function(){return c},isCallbackEnabled:function(){return u},isVideoCallEnabled:function(){return d}});var r=n(97490),o=n(44145),i=n(96394),a=n(18276);const s=e=>[(0,a.l10n)("cw_form_second"),(0,a.l10n)("cw_form_seconds"),(0,a.l10n)("cw_form_secondd")][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]],l=()=>{const e=(0,o.getCallback)().status;return"cw_wait"===e||"cw_connecting"===e||"cw_connected"===e},u=()=>{if(!(null===i.default||void 0===i.default?void 0:i.default.callback_settings))return!1;const e=(0,o.getCallback)().available,{time:t,countries:n}=i.default.callback_settings;return!!(e&&t&&n&&n.length>0)||l()},c=()=>!!(null===i.default||void 0===i.default?void 0:i.default.callback_settings)&&Boolean(i.default.callback_settings.button),d=()=>{const{isOnline:e}=(0,o.getApp)(),{modules:t,enableRequestVideocall:n}=(0,o.getFeatures)();return(null==t?void 0:t.videoCall)&&n&&e},f=e=>{const t=(0,o.getCallback)().status;(0,o.getApp)().route===r.Route.CALL&&"cw_connected"===t&&(null==e||e())}},86383:function(e,t,n){"use strict";n.r(t),n.d(t,{TitleManager:function(){return c}});var r=n(90061),o=n(45926),i=n(18276);let a,s=(0,o.getDocumentTitle)(),l=!1;const u=e=>{const t=(0,r.createLogger)("TitleManager: changeTitle"),{document:n}=(0,o.getPageWindow)();t.log("Change title to:",e),n.title=e},c={blink:()=>{clearInterval(a),a=setInterval((()=>{let e="";l?e=s:(s=(0,o.getDocumentTitle)(),e=(0,i.l10n)("lblNewMessage")),u(e),l=!l}),1e3)},cancelBlink:()=>{clearInterval(a);const e=(0,o.getDocumentTitle)();e!==s&&e!==(0,i.l10n)("lblNewMessage")&&(s=e),u(s),l=!1}}},45683:function(e,t,n){"use strict";n.r(t),n.d(t,{getAvatarApiURL:function(){return y},getAvatarURL:function(){return v},getChatServerHost:function(){return h},getEmojiURL:function(){return f},getEulaURL:function(){return C},getFlagIconURL:function(){return g},getIMessageLink:function(){return b},getPatternURL:function(){return p},getStaticURL:function(){return c},getUTMCallLogoLink:function(){return _},getUTMLink:function(){return m},getValidLink:function(){return d}});var r=n(96394),o=n(45926),i=n(2491),a=n(44145),s=n(19221);const l=s.v9?"/public":"",u=()=>{const{locale:e}=r.default,t=(0,o.getPageWindow)().location.hostname.split("."),n=t[t.length-1];let i="https://www.jivochat.com";const a={ru_RU:"https://www.jivo.ru",be:"https://www.jivo.ru",kk:"https://www.jivo.ru",uk:"https://www.jivo.ru",pt:"https://www.jivochat.com.br",pt_BR:"https://www.jivochat.com.br",es:"https://www.jivochat.es",de:"https://www.jivochat.de",tr:"https://www.jivochat.com.tr",id:"https://www.jivochat.co.id"},s={de:"https://www.jivochat.de",cl:"https://www.jivochat.cl",bo:"https://www.jivochat.com.bo",co:"https://www.jivochat.com.co",ve:"https://www.jivochat.com.ve",pe:"https://www.jivochat.com.pe",mx:"https://www.jivochat.mx",ar:"https://www.jivochat.com.ar"};return a[e]&&(i=a[e]),s[n]&&(i=s[n]),i},c=(e,t=!1)=>{let n=e;return t&&(n+=`?rnd=${Date.now()}`),s.v9?n:`${(0,o.getProtocol)()}${r.default.base_url}${n}`},d=e=>(0,i.isValidHttpURL)(e)?e:`${(0,o.getProtocol)()}//${e}`,f=e=>c(`${l}/images/emoji/${e}.svg`),p=e=>c(`${l}/images/pattern/${e}.svg`),g=e=>c(`${l}/images/flags/${e}.png?v=1`),h=()=>{const{chatHost:e}=(0,a.getSystemSettings)();return s.z$?`${(0,o.getProtocol)()}//${e}`:`https://${e}`},m=e=>{const{location:{hostname:t}}=(0,o.getPageWindow)(),n="logo_on_popup"===e?"from_popup":"from_widget";return`${u()}/i_sa/?utm_source=${encodeURIComponent(t)}&utm_medium=link&utm_content=${e}&utm_campaign=${n}`},_=()=>{const{location:{host:e}}=(0,o.getPageWindow)();return`${u()}/calls?utm_source=${e}&utm_medium=link&utm_content=callback_popup&utm_campaign=self_ad`},v=(e,t)=>`${(0,o.getProtocol)()}${e}/avatars/${t}`,y=e=>e?e.includes("data:image")||e.includes("https://")?e:v(r.default.avatar_url,e):"",b=e=>`sms://open?service=iMessage&recipient=urn:biz:${e}&biz-intent-id=click_in_jivo`,C=(e=r.default.base_url)=>`${(0,o.getProtocol)()}${e}/script/eula/${r.default.widget_id}`},61811:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(75686),o=n(70859),i=n(2982),a=n(52274),s=n(90061),l=n(73262),u=n(45926),c=n(21951),d=n(75998),f=n(31011),p=n(44145);const g=(0,s.createLogger)("WindowResizeManager");let h=null;class m{constructor(e){if(h)return h;this.handler=(0,l.throttle)(this.resizeHandler.bind(this),100),(0,c.addListener)((0,u.getPageWindow)(),"resize",this.handler),h=this,this.onResize=e,this.lastHeight=null,this.container=null}static getInstance(){return h}destroy(){(0,c.removeEvent)((0,u.getPageWindow)(),"resize",this.handler)}checkHeight(){if(f.platform.isMobileOrChatpage)return;const e=(0,u.getPageWindow)().innerHeight-8,{height:t}=(0,p.getPosition)();t&&parseInt(t)>e&&d.positionDispatch.setWidgetHeight(e+"px")}resizeHandler(){const e=r.default.get(o.Component.WIDGET_CONTAINER);if(g.log("resizeHandler"),!e)return;if(e&&!e.style)return;this.container=e;const t=parseInt((0,i.getProperty)("right",e))||0,n=parseInt((0,i.getProperty)("left",e))||0,s=parseInt((0,i.getProperty)("height",e))||0,c=t+n+a.CHAT_WIDTH+28,p=(0,u.getPageWindow)().document.body.clientWidth,h=(0,u.getPageWindow)().innerHeight-30;if(c>p)d.positionDispatch.initPositionStore({height:s>h?h<a.MINIMAL_WIDGET_HEIGHT?`${a.MINIMAL_WIDGET_HEIGHT}px`:`${h}px`:`${s}px`,left:this.getNewValue(n,c,p,40),right:this.getNewValue(t,c,p,30)});else if(s>h){const e=h<a.MINIMAL_WIDGET_HEIGHT?`${a.MINIMAL_WIDGET_HEIGHT}px`:`${h}px`;d.positionDispatch.setWidgetHeight(e)}if(this.onResize){const t=getComputedStyle(e);t&&this.lastHeight!==t.height&&(this.onResize({width:a.CHAT_WIDTH+"px",height:t.height}),this.lastHeight=t.height)}f.platform.isSafari&&!f.platform.isMobileOrTablet&&(0,l.throttle)(this.updateKeyFrames,200)}updateKeyFrames(){this.container&&(0,i.updateKeyframes)(this.container)}getNewValue(e,t,n,r){if(!e)return null;let o=e-(t-n);return o<r&&(o=r),`${o}px`}}},45691:function(e,t,n){"use strict";n.r(t),n.d(t,{sendClientAttributes:function(){return d}});var r=n(50789),o=n(73687),i=n(44145),a=n(26932),s=n(85660),l=n(6254),u=n(66434),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const d=(e,t)=>c(void 0,void 0,void 0,(function*(){var n,c,d,f,p;const g=(0,l.formatAttributesToAPIRequest)(e),{userToken:h,attributes:m}=(0,i.getClient)();if(o.default.get("client_attributes_internal_error"))return;const _=(0,l.attributeValuesToString)(e);if((0,l.setTemporaryAttributes)(_),!t)return"skipped";try{o.default.set("client_attributes_warnings_errors",null,1);const e=yield r.ApiProvider.sendClientAttributes({attributes:JSON.stringify(g),user_token:h},t);let i=_;return(null===(n=e.data)||void 0===n?void 0:n.warning_list)&&(o.default.set("client_attributes_warnings_errors",`warnings: ${JSON.stringify(e.data.warning_list)}`,s.Q),i=(0,l.getValidAttributes)(e.data.warning_list,_)),a.clientDispatchers.setClientAttributes(Object.assign(Object.assign({},m),i)),(0,u.telemetry)("send_attributes_success"),e}catch(e){const t=e;(null===(c=t.data)||void 0===c?void 0:c.ok)||(429!==t.status&&500!==t.status||o.default.set("client_attributes_internal_error",!0,s.r),(null===(d=t.data)||void 0===d?void 0:d.error_list)&&o.default.set("client_attributes_warnings_errors",`errors: ${JSON.stringify(t.data.error_list)}`,s.Q),(0,u.telemetry)("send_attributes_failed",{param1:String(t.status),param2:JSON.stringify((null===(f=t.data)||void 0===f?void 0:f.warning_list)||(null===(p=t.data)||void 0===p?void 0:p.error_list)||"")}))}finally{(0,l.setTemporaryAttributes)(null)}}))},34930:function(e,t,n){"use strict";n.r(t),n.d(t,{closeWidget:function(){return g}});var r=n(66547),o=n(32183),i=n(44145),a=n(26932),s=n(24344),l=n(8717),u=n(90061),c=n(45926),d=n(31011),f=n(42634);const p=(0,u.createLogger)("analytics"),g=()=>{if(p.log("closeWidget",(0,i.getApp)().route),a.appDispatchers.setAppIsFocused(!1),d.platform.isMobileOrTablet)(0,o.blurActiveElement)(),(0,s.callUserFunction)("onClose");else if((0,l.isMinRoute)((0,i.getApp)().route))(0,c.getPageWindow)().document.getElementById("jivo_custom_widget")||(0,s.callUserFunction)("onClose");else{const{name:e}=(0,i.getProactive)();e&&((0,f.rejectProactive)(),a.proactiveDispatchers.setName(null)),(0,s.callUserFunction)("onClose")}r.default.set("close_time",(new Date).getTime()),a.appDispatchers.setChatOpenByClient(!1)}},59767:function(e,t,n){"use strict";n.r(t),n.d(t,{agentTyping:function(){return O},connectionClientTyping:function(){return w},connectionTypingInsight:function(){return D},messageState:function(){return C},needShowDepartments:function(){return A},updateChatAgent:function(){return I}});var r=n(36148),o=n(81152),i=n(6693),a=n(55329),s=n(44145),l=n(14264),u=n(15787),c=n(90061),d=n(26932),f=n(41504),p=n(49963),g=n(66434),h=n(8717),m=n(21476),_=n(97490),v=n(16016),y=n(14762);const b=(0,c.createLogger)("Connection actions"),C=e=>{const t=e.private_id?l.default.getMessageByPrivateId(e.private_id):l.default.getMessageById(e.msg_id);if(b.log("messageState",e,t),!t)return void(0,g.telemetry)("message_state_no_msg",{param1:e.private_id,param2:String(e.msg_id),param3:String(e.chat_id)});const n=(0,s.getApp)(),i=(0,s.getClient)();if(t.get("from")===o.MessageInitiator.AGENT&&t.get("type")===o.MessageType.PROACTIVE&&d.messagesDispatchers.updateMessage({privateId:e.private_id,messageId:null},{msg_id:e.msg_id}),t.get("from")===o.MessageInitiator.CLIENT){const l=(0,s.getMessages)().filter((({status:e,from:t,msg_id:n})=>[r.MessageStatus.SENT,r.MessageStatus.SENDED].includes(e)&&t===o.MessageInitiator.CLIENT&&n)).map((e=>e.msg_id)),u=(e=>{switch(e){case r.MessageStatus.SENT:return r.MessageStatus.SENDED;case r.MessageStatus.SENDED:case r.MessageStatus.DELIVERED:return r.MessageStatus.DELIVERED}})(e.status);if(d.messagesDispatchers.updateMessages({messageIds:l,privateIds:null},{status:u}),d.messagesDispatchers.updateMessage({privateId:e.private_id,messageId:null},{status:u,chat_id:e.chat_id,msg_id:e.msg_id}),t.get("type")==o.MessageType.TEMPORARY&&i.isIntroduced&&!n.isOnline&&[r.MessageStatus.SENT,r.MessageStatus.DELIVERED].includes(e.status)){b.log("messageState replace temp form message",t);const n="sent"===e.status?r.MessageStatus.SENT:r.MessageStatus.DELIVERED;d.messagesDispatchers.updateMessage({privateId:e.private_id,messageId:null},{type:o.MessageType.MESSAGE,status:n,chat_id:e.chat_id,msg_id:e.msg_id}),d.clientDispatchers.setInputText("")}return(0,a.prechatSetUsed)(!1),void d.clientDispatchers.setLastMessage("")}};let E="";const D=e=>{(0,s.getFeatures)().typingInsight&&E!==e&&(E=e,(0,u.connectionReadyForMessages)()&&p.connectionAdapter.sendEvent(new f.ClientServiceMessage(e)))};let T=0;const w=e=>{const t=e?1:0;T!==t&&(T=t,(0,u.connectionReadyForMessages)()&&p.connectionAdapter.sendEvent(new f.ClientTyping(t)))};let S;const O=(e,t=!1)=>{const n=t?i.Timeouts.BOT_TYPING:i.Timeouts.AGENT_TYPING;e?S=setTimeout((()=>{O(!1,t)}),n):clearTimeout(S),d.chatsDispatchers.setAgentTyping(e)},A=()=>{d.clientDispatchers.updateClient({departmentId:null});const{route:e}=(0,s.getApp)(),{departments:t}=(0,s.getUserSettings)();t&&(0,h.isChatRoute)(e)&&(m.Router.setNext(_.Route.DEPARTMENTS),d.appDispatchers.setAppRoute(_.Route.DEPARTMENTS))},I=e=>{const t=e.params,n=(0,s.getAgentById)(+t.from_id);if(b.warn("updateChatAgent",n),n){const e=y.default.getAgentById(+t.from_id);e&&e.set("body.state",t.type),d.messagesDispatchers.addMessage({type:"system",body:{from_id:t.from_id,action:t.type,type:"chat"},msg_id:t.msg_id,chat_id:t.chat_id,private_id:(0,v.generateGUID)()})}else b.error("updateChatAgent: No agent info in agents store.")}},79523:function(e,t,n){"use strict";n.r(t),n.d(t,{introduceActions:function(){return p}});var r=n(138),o=n(96394),i=n(90061),a=n(44145),s=n(24344),l=n(26932),u=n(49963),c=n(41504),d=n(66434);const f=e=>{const t=(0,i.createLogger)("IntroduceActions: sendIntroduction"),{eulaAccepted:n}=(0,a.getClient)(),{eula:r}=(0,a.getSystemSettings)(),{mailing:o}=(0,a.getFeatures)(),s={name:e.name||e.client_name||null,phone:e.phone||null,email:e.email||null,description:e.description||null};t.log("Normalized data:",s),l.clientDispatchers.setClientContacts(s);const d=new c.Introduction(Object.assign(Object.assign({},s),{eula:!(!r||!n)||null,mailing:!(!o||!e.mailing)||null}));u.connectionAdapter.sendEventIfConnected(d)},p={setClientContactInfo:(e,t=!1,n=!1)=>{(0,i.createLogger)("IntroduceActions: setClientContactInfo").warn(e,t,n),f(e),t||(l.clientDispatchers.setIsIntroduced(!0),r.default.trackGaveContacts(),n&&(0,d.telemetry)("introduce",{param1:String(o.default.contacts_ask),param2:JSON.stringify({name:Boolean(e.client_name||e.name),department_id:e.departmentId,email:Boolean(e.email),phone:Boolean(e.phone)})}),(0,s.callUserFunction)("onIntroduction"))},sendIntroduction:f}},12822:function(e,t,n){"use strict";n.r(t),n.d(t,{checkMaintenance:function(){return h},enableMaintenance:function(){return p},getNewConfig:function(){return g}});var r=n(91275),o=n(26932),i=n(83425),a=n(49963),s=n(75998),l=n(90061),u=n(65465),c=n(44145),d=n(73687);const f=(0,l.createLogger)("maintenance actions"),p=()=>{f.log("Maintenance mode is on"),o.appDispatchers.setMaintenance(!0),o.callbackDispatchers.setCallbackAvailable(!1),u.messageActions.addMaintenanceMessage()},g=()=>{i.ConfigUtils.reloadConfig((e=>{f.log("Site is moved",e),e&&(s.systemSettingsDispatch.refresh(),o.appDispatchers.setMaintenance(!1),o.appDispatchers.setIsInputDisabled(!1),u.messageActions.deleteMaintenanceMessage()),r.default.reloadStories(),r.default.initReduxStores(),a.connectionAdapter.isConnected()&&a.connectionAdapter.disconnect(),(0,c.getApp)().isOnline&&setTimeout((()=>{a.connectionAdapter.openConnect((()=>{}),!0)}),5e3)}))},h=()=>{const{maintenance:e,lastChatStatus:t,isOnline:n}=(0,c.getApp)(),r=d.default.get("maintenance_time");!e||n||t||r||(d.default.set("maintenance_time",Date.now(),86400),setTimeout((()=>{g()}),3e3))}},42634:function(e,t,n){"use strict";n.r(t),n.d(t,{acceptProactive:function(){return x},addMessagesOnOpen:function(){return S},deleteProactiveMessage:function(){return P},markInvitationAnswered:function(){return M},pushRateForm:function(){return w},readProactive:function(){return I},readSystemMessages:function(){return O},rejectProactive:function(){return k},saveLastProactive:function(){return A}});var r=n(26754),o=n(65465),i=n(81152),a=n(44145),s=n(26932),l=n(14264),u=n(12822),c=n(138),d=n(36148),f=n(79814),p=n(34930),g=n(21476),h=n(97490),m=n(50402),_=n(78692),v=n(43902),y=n(48999),b=n(12398),C=n(54346),E=n(90061),D=n(66434);const T=(0,E.createLogger)("Messages actions"),w=(e,t,n)=>{s.messagesDispatchers.destroyByType(i.MessageType.RATE_FORM),s.messagesDispatchers.addMessage({type:i.MessageType.RATE_FORM,from:i.MessageInitiator.SYSTEM,chat_id:e,created_ts:n?n+1e3:(new Date).getTime(),body:{submited:!1,rate:null,comment:null,closed:!1}}),(0,D.telemetry)("rate_form_add",{param1:String(e),param2:t})},S=()=>{o.messageActions.addMessagesOnOpen((0,a.getApp)().isOnline),(0,u.checkMaintenance)()},O=()=>{const e=(0,a.getSystemUnread)();if(!e.length)return;const t=e.map((e=>e.private_id));s.messagesDispatchers.updateMessages({privateIds:t,messageIds:null},{status:d.MessageStatus.READ})},A=()=>{var e,t,n;const o=l.default.getLastProactive();if(!o)return;const i=o.toJSON(),a=null===(e=i.body)||void 0===e?void 0:e.is_markdown,u=null===(t=i.body)||void 0===t?void 0:t.agent_info,c=null===(n=i.body)||void 0===n?void 0:n.extra,d=u||r.default;i.body={agent_info:d,is_markdown:a||null,extra:c||null},s.messagesDispatchers.deleteMessageByPrivateId(i.private_id),s.messagesDispatchers.addMessage(i),s.messagesDispatchers.initMessagesStore()},I=()=>{const e=(0,a.getProactive)();e.text&&e.status!==d.MessageStatus.READ&&(s.messagesDispatchers.updateMessage({privateId:e.privateId,messageId:null},{status:d.MessageStatus.READ}),s.proactiveDispatchers.setStatus(d.MessageStatus.READ))},k=()=>{const{campaignId:e,name:t}=(0,a.getProactive)();t&&(e?c.default.trackCampaignRejected(t):c.default.trackProactiveInvitationRejected(t))},M=()=>{const{name:e,campaignId:t}=(0,a.getProactive)();if(s.proactiveDispatchers.setPrechats(null),e){if(t){v.StatsManager.send({campaignId:t},"chat_init");const e=(0,y.getCampaignById)(t);(null==e?void 0:e.tag_id)&&((0,b.addClientTag)(e.tag_id),(0,b.sendTagsIfNeed)())}x(),s.proactiveDispatchers.setName(null),(0,D.telemetry)("invite_accepted")}(0,C.checkTrackClientAnswer)(),_.ApiInvitationsManager.isInitialized()&&_.ApiInvitationsManager.hasInvitations()&&_.ApiInvitationsManager.markInvitationsAnswered()},x=()=>{const{campaignId:e,name:t}=(0,a.getProactive)();t&&(e?c.default.trackCampaignAccepted(t):c.default.trackProactiveInvitationAccepted(t))},P=()=>{const e=(0,f.getMessagesByType)((0,a.getMessages)(),i.MessageType.PROACTIVE).find((e=>{var t;return!0===(null===(t=e.body)||void 0===t?void 0:t.unsave)}));e&&(T.log("deleteProactiveMessage",e),s.messagesDispatchers.deleteMessageByPrivateId(e.private_id),s.proactiveDispatchers.resetProactive(),s.chatsDispatchers.setNoJoinedAgents(),g.Router.next(h.RouterEvent.CloseWindow),s.transitionDispatchers.startTransition(m.ScriptName.CLOSE_WIDGET),(0,p.closeWidget)())}},85074:function(e,t,n){"use strict";n.r(t),n.d(t,{beforeNavigateToChat:function(){return w},callbackEnabled:function(){return D},closeWindow:function(){return I},getRouteChatMin:function(){return E},isChatMinAvailable:function(){return T},navigateToChat:function(){return A},needShowPrechats:function(){return S},onOpenChat:function(){return C},showChat:function(){return b},showDepartmentsIfPossible:function(){return O}});var r=n(96394),o=n(26754),i=n(138),a=n(97490),s=n(26932),l=n(42634),u=n(65465),c=n(44145),d=n(50402),f=n(66434),p=n(24344),g=n(1092),h=n(8717),m=n(73422),_=n(47138),v=n(31011),y=n(88263);const b=(e,t,n)=>{if(s.appDispatchers.setAppIsFocused(!0),s.appDispatchers.setChatOpenByClient(!0),y.routerService.next(t),s.transitionDispatchers.startTransition(d.ScriptName.OPEN_WIDGET),t!==a.RouterEvent.ToCall){e?i.default.trackChatOpenedByClick():i.default.trackOfflineFormOpenedByClick(),(0,l.addMessagesOnOpen)();const t=(0,c.getProactive)();t.text&&t.prechats&&u.messageActions.addPrechatMessage();const r=(0,c.getSystemSettings)().botmode?{param4:"1"}:{};n&&Object.assign(r,n),(0,f.telemetry)("widget_click",r)}},C=()=>{(0,c.getApp)().isOnline?i.default.trackChatOpenedByClick():i.default.trackOfflineFormOpenedByClick(),(0,p.callUserFunction)("onOpen")},E=()=>T()?a.Route.CHAT_MIN:(0,c.getCallback)().status===_.CallStatus.CONNECTED?a.Route.CALL:a.Route.LABEL,D=()=>{var e;const t=r.default.callback_settings;return!!((null==t?void 0:t.time)&&(null==t?void 0:t.countries)&&(null===(e=null==t?void 0:t.countries)||void 0===e?void 0:e.length))},T=()=>{const{labelBubble:e}=(0,c.getUserSettings)(),t=o.default,n=t.agent_id||t.bot_id,r="join"==t.state;return(0,c.getApp)().chatAccepted&&(0,c.getApp)().isOnline&&n&&r&&!v.platform.isMobileOrTablet&&(0,c.getCallback)().status!==_.CallStatus.CONNECTED&&!e},w=()=>{s.appDispatchers.setAppIsFocused(!0),s.appDispatchers.setChatOpenByClient(!0),u.messageActions.deleteUnansweredOfflineSystemInvite(),u.messageActions.addPrechatMessage(),u.messageActions.offlineSystemInvite()},S=()=>{const{isOnline:e,chatStarted:t}=(0,c.getApp)(),n=(0,c.getLastClientMessage)();return e&&(!n||!t)},O=()=>{const{chatStarted:e,isOnline:t}=(0,c.getApp)(),{isIntroduced:n,departmentId:r}=(0,c.getClient)(),{contactsAsk:i,departments:a}=(0,c.getUserSettings)(),s=o.default,l=a&&(0,m.isNil)(r)&&!s.agent_id&&!e&&t;return 1===i?n&&l:l},A=e=>{let t=a.RouterEvent.ToChat;if(((0,h.shouldRedirectToIntroduce)()||O())&&(t=a.RouterEvent.Navigate),!e)return s.appDispatchers.setAppIsFocused(!0),u.messageActions.addPrechatMessage(),b((0,c.getApp)().isOnline,t),C(),void(0,g.D8)("chat");w(),b((0,c.getApp)().isOnline,t),C(),(0,f.telemetry)("powerbtn_open_chat")},I=e=>{e?e():y.routerService.next(a.RouterEvent.CloseWindow)}},2903:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(48999),o=n(44145),i=n(16016),a=n(49963);const s=({campaign_id:e,clientAnswer:t,image:n})=>{var s,l;const u=(0,r.getCampaignById)(e),c=(0,o.getApp)();if(!u)return;const d=null===(l=null===(s=u.content)||void 0===s?void 0:s.popup_settings)||void 0===l?void 0:l.screens[0],f={campaign_id:e,tag_id:u.tag_id,type:u.type,title:null==d?void 0:d.title,subtitle:null==d?void 0:d.subtitle,text:null==d?void 0:d.text,has_image:Boolean(null==d?void 0:d.img_src)},p={name:"client_message_campaign",message:f.title||f.text,private_id:(0,i.generateGUID)(),media:{type:"photo",width:(null==n?void 0:n.width)||0,height:(null==n?void 0:n.height)||0,file:(null==d?void 0:d.img_src)||"https://files.jivosite.com/campaigns/images/template-1-img.webp",address:Object.assign(Object.assign({referral_type:"campaign"},f),{client_answer:t})}};a.connectionAdapter.sendEvent(p),c.isOnline||a.connectionAdapter.addToBufferOnce(p)}},25516:function(e,t,n){"use strict";n.r(t),n.d(t,{Orientations:function(){return r},Paddings:function(){return o},fixPositionDragData:function(){return s}});var r,o,i=n(61811),a=n(75998);function s(e,t){e===r.Right&&a.positionDispatch.setLeftOffset(""),e===r.Left&&a.positionDispatch.setRightOffset(""),e===r.Bottom&&(t===o.Left?a.positionDispatch.setRightOffset(""):a.positionDispatch.setLeftOffset(""));const n=i.default.getInstance();n&&n.checkHeight()}!function(e){e.Left="left",e.Bottom="bottom",e.Right="right"}(r||(r={})),function(e){e[e.Left=0]="Left",e[e.Center=50]="Center",e[e.Bottom=100]="Bottom"}(o||(o={}))},70859:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return r}});const r={ROOT_COMPONENT:"RootComponent",CALL_CONTAINER:"CallContainer",CHAT_CONTAINER:"ChatContainer",DRAG:"Drag",INTRODUCE:"Introduce",WIDGET_CONTAINER:"WidgetContainer",WIDGET_CONTAINER_COMPONENT:"WidgetContainerComponent",INPUT:"Input",AUTORESIZER:"autoResizer",CHAT_INPUT:"ChatInput",CHAT_INTRODUCE:"ChatIntroduce",SCROLL_CONTAINER:"ScrollContainer",PRECHAT:"PrechatMessage",LABEL:"Label",HEADER:"Header",MORE_BUTTON:"MoreButton",MOUSE_TRACK:"MouseTrack",CHAT_BODY:"ChatBody",SOUND_AGENT_MESSAGE:"SOUND_AGENT_MESSAGE",SOUND_NOTIFICATION:"SOUND_NOTIFICATION",SOUND_OUTGOING_MESSAGE:"SOUND_OUTGOING_MESSAGE",MESSAGES_CONTAINER:"MESSAGES_CONTAINER",MOBILE_CONTAINER:"MOBILE_CONTAINER",RATE_FORM:"RateForm",PROACTIVE_MESSAGE:"PROACTIVE_MESSAGE"}},50402:function(e,t,n){"use strict";n.r(t),n.d(t,{ScriptName:function(){return r}});const r={OPEN_WIDGET:"OPEN_WIDGET",CLOSE_WIDGET:"CLOSE_WIDGET",MINIMIZE_WIDGET:"MINIMIZE_WIDGET",MAXIMIZE_WIDGET:"MAXIMIZE_WIDGET",MIN_WIDGET:"MIN_WIDGET"}},17097:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});const r=n(98661).default.createContext({target:"",previewSettings:[],isContactFormPreview:!1})},56163:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});const r=n(98661).default.createContext({campaignWidgetMessageFeed:[],isWidgetConstructor:!1,isMobileView:!1,isPreview:!1})},80797:function(e,t,n){"use strict";n.r(t),n.d(t,{useWidgetConstructorContext:function(){return i}});var r=n(98661),o=n(56163);const i=()=>(0,r.useContext)(o.e)},29854:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});const r=n(98661).default.createContext({target:"",isWidgetTarget:!1,isWidgetExtensions:!1})},13551:function(e,t,n){"use strict";n.r(t),n.d(t,{useWidgetExtensionsContext:function(){return i}});var r=n(98661),o=n(29854);const i=()=>(0,r.useContext)(o.M)},82383:function(e,t,n){"use strict";n.d(t,{h:function(){return o},s:function(){return r}});const r={7:["8"]},o={EE:[7,8],EG:[7,10],RS:[8,10],NZ:[10,12],BR:[10,12],BG:[8,12],MX:[10,12],DE:[10,12],AT:[10,12],KH:[10,12],CH:[9,12],IL:[8,12]}},96394:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{default:function(){return x},getCometHost:function(){return A},getConfig:function(){return I},getViHost:function(){return O},getWidgetLocale:function(){return M},initConfig:function(){return S},setConfigParam:function(){return k}}),function(e){e.ONLINE="online",e.OFFLINE="offline"}(r||(r={}));var o=n(9550),i=n(45926),a=n(52028),s=n(97615),l=n(45948),u=n(73422),c=n(31011),d=n(33302),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const p=e=>e.reduce(((e,t)=>{var{name:n}=t,r=f(t,["name"]);return e[n]=r,e}),{}),g=e=>{var t,n,r;return(0,u.isArray)(e)?e.some((({name:e,show:t,required:n})=>"email"===e&&t&&n||"phone"===e&&t&&n)):Boolean((null===(t=e.phone)||void 0===t?void 0:t.show)&&(null===(n=e.phone)||void 0===n?void 0:n.required)||(null===(r=e.email)||void 0===r?void 0:r.show)&&e.email.required)},h=e=>{var t,n,r,o;if((0,u.isArray)(e)){const r=p(e);return!(null===(t=r.email)||void 0===t?void 0:t.show)&&(null===(n=r.phone)||void 0===n?void 0:n.show)?e.map((e=>"phone"===e.name?Object.assign(Object.assign({},e),{show:!0,required:!0}):e)):e.map((e=>"email"===e.name?Object.assign(Object.assign({},e),{show:!0,required:!0}):e))}return!(null===(r=e.email)||void 0===r?void 0:r.show)&&(null===(o=e.phone)||void 0===o?void 0:o.show)?Object.assign(Object.assign({},e),{phone:{show:!0,required:!0}}):Object.assign(Object.assign({},e),{email:{show:!0,required:!0}})};var m,_,v,y;const b=(0,i.getPageWindow)();let C=b.jivo_config;switch(s.EnvironmentManager.isSelfhosted()?n.p=`${b.location.protocol}${C.base_url}/`:n.p=`https:${C.base_url}/`,C.chat_mode){case r.ONLINE:case 1:C.chat_mode=r.ONLINE;break;case r.OFFLINE:case 0:C.chat_mode=r.OFFLINE}C.bots&&Boolean(C.enable_bot_offline)&&(C.chat_mode=r.ONLINE),C.callback_settings||(C.callback_settings={}),C.contacts_settings||(C.contacts_settings={name:{show:!1,required:!1},email:{show:!0,required:!0},phone:{show:!1,required:!1}});const E="online"===C.chat_mode;var D,T;C.enable_client_attributes?((0,u.isArray)(C.contacts_settings)?(C.contacts_settings_new=C.contacts_settings,C.contacts_settings=p(C.contacts_settings)):C.contacts_settings_new=(D=C.contacts_settings,Object.keys(D).map((e=>Object.assign({name:e},D[e])))),C.contacts_settings_new&&(E&&C.contacts_ask===o.ContactsType.DISABLED&&!g(C.contacts_settings_new)&&(C.contacts_settings_new=C.contacts_settings_new.map((e=>"email"===e.name?Object.assign(Object.assign({},e),{show:!0,required:!0}):e))),E||g(C.contacts_settings_new)||(C.contacts_settings_new=h(C.contacts_settings_new)))):(C.contacts_settings=(0,u.isArray)(C.contacts_settings)?p(C.contacts_settings):C.contacts_settings,E&&C.contacts_ask===o.ContactsType.DISABLED&&!g(C.contacts_settings)&&(C.contacts_settings=Object.assign(Object.assign({},C.contacts_settings),{email:{show:!0,required:!0}})),E||g(C.contacts_settings)||(C.contacts_settings=h(C.contacts_settings)),C.contacts_settings=(T=C.contacts_settings,["name","email","phone","description"].reduce(((e,t)=>{const n=T[t];return n&&(e[t]=n),e}),{}))),C.contacts_settings&&C.contacts_ask===o.ContactsType.BEFORE_CHAT&&((null===(m=C.contacts_settings.phone)||void 0===m?void 0:m.show)||(null===(_=C.contacts_settings.email)||void 0===_?void 0:_.show)||(null===(v=C.contacts_settings.name)||void 0===v?void 0:v.show)||C.contacts_settings.email&&(C.contacts_settings.email.show=!0)),C.widget_color2||"#383345"!=C.widget_color||(C.widget_color="#2F324A",C.widget_color2="#424867",C.power_gradient=1),C.bubble_color||(C.bubble_color="green"),"[object Object]"===Object.prototype.toString.call(b.wix_context)&&"[object Object]"===Object.prototype.toString.call(b.jivo_wix)&&Object.assign(C,b.jivo_wix),b.jivo_in_wix_iframe&&(C.widget_orientation="bottom"),a.isDesignerEditor&&Object.assign(C,b._desingerConfig),C.joint&&"RU"===(null===(y=C.geoip)||void 0===y?void 0:y.split(";")[0])&&(delete C.joint.ig,delete C.joint.fb),C.disable_botmode&&(C.botmode=null);const w=s.EnvironmentManager.isWidgetConstructor();(c.platform.isChatPage||l.isPopupConstructor||w)&&(C.campaigns=null),w&&(C.chat_mode="online"),d.locationParams.chatPageYClients&&(C.enable_full_cp=1,C.disable_filetransfer=1,C.enable_reply=0);const S=e=>window.parent.jivo_config=C=e,O=()=>null==C?void 0:C.vi_host,A=()=>null==C?void 0:C.chat_host,I=()=>C,k=(e,t)=>{const n=C;n[e]=t,S(n)},M=()=>{const e=C.locale;return e.includes("_")?e.split("_")[0]:e};var x=C},47367:function(e,t,n){"use strict";n.d(t,{aQ:function(){return d},mh:function(){return l},Al:function(){return c},Nn:function(){return u}});var r=n(93765),o=n(96394);const i={RU:"dmy",BY:"dmy",KZ:"dmy",UA:"dmy",US:"dmy",GB:"dmy",DE:"dmy",BE:"dmy",BR:"dmy",HU:"ymd",DK:"dmy",IT:"dmy",ES:"dmy",CA:"ymd",NL:"dmy",NO:"dmy",PL:"ymd",PT:"dmy",RS:"dmy",SK:"ymd",SI:"ymd",FI:"ymd",FR:"dmy",CZ:"ymd",CH:"dmy",SE:"ymd"},a={RU:".",BY:".",KZ:".",UA:".",US:"-",GB:"/",DE:".",BE:"/",BR:"/",HU:"-",DK:"-",IT:"/",ES:"/",CA:"-",NL:"-",NO:".",PL:"-",PT:"-",RS:".",SK:"-",SI:"-",FI:"-",FR:".",CZ:"-",CH:".",SE:"-"},s=o.default.geoip.split(";")[0],l=()=>{const e="YYYY-MM-DD",t=i[s],n=a[s];if(!t)return e;switch(t){case"dmy":return`DD${n}MM${n}YYYY`;case"ymd":return`YYYY${n}MM${n}DD`;default:return e}},u=e=>["RU","BY","KZ","UA"].includes(s)?e.replace("DD","ДД").replace("MM","ММ").replace("YYYY","ГГГГ"):e,c=e=>{const t=(0,r.replaceAll)((0,r.replaceAll)(e,".","-"),"/","-");return"-"===t[2]?t.split("-").reverse().join("-"):t},d=e=>{if(!e)return e;const t=i[s],n=a[s];if(!t)return e;const o=(0,r.replaceAll)(e,"-",n);return"dmy"===t?o.split(n).reverse().join(n):o}},83945:function(e,t,n){"use strict";n.d(t,{Av:function(){return i},Dg:function(){return s},vt:function(){return a}});var r=n(20749),o=n(82383);const i=(e,t)=>{var n;const{phoneCode:r,countryCode:i,previousMatch:a,geoIPCountryCode:s,reverseSearch:l=!1}=t,u=i?e.find((e=>e.code===i)):void 0,{result:c,phoneCode:d}=((e,t)=>{let{phoneCode:n}=t;const{reverseSearch:r}=t;let i=e.filter((e=>{var t;return e.phone_code===n||(null===(t=o.s[e.phone_code])||void 0===t?void 0:t.includes(n))}));if(r&&n)for(;!i.length&&n.length>0;)n=n.substring(0,n.length-1),i=e.filter((e=>{var t;return e.phone_code===n||(null===(t=o.s[e.phone_code])||void 0===t?void 0:t.includes(n))}));return{result:i,phoneCode:n}})(e,{phoneCode:r,reverseSearch:l});switch(!0){case"RU"===s&&2===c.length&&"KZ"===(null===(n=c[0])||void 0===n?void 0:n.code):return c[1]||u||a||e[0];case"1"===d:return c[3]||u||a||e[0];default:return c[0]||u||a||e[0]}},a=(e,t)=>`${e.length?"+":""}${t?r.Masker.toPattern(e,{pattern:`${t.phone_code} ${t.phone_format}`}):e}`,s=(e,t)=>{let n=e.trim().replace(/[^0-9]/g,""),r=a(n,t);const o=n.substring(0,4);return 4===o.length&&"RU"===(null==t?void 0:t.code)&&n.startsWith("8")&&(n=`7${n.substring(1)}`,r=r.replace("+8","+7")),{cleanValue:n,phoneCodeSubstring:o,formattedValue:r}}},82594:function(e,t,n){"use strict";n.d(t,{A3:function(){return ye},l1:function(){return ve},z2:function(){return _e}});var r=n(55760),o=n(59885),i=n(94633),a=n.n(i);const s=Object.prototype.toString,l=Error.prototype.toString,u=RegExp.prototype.toString,c="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",d=/^Symbol\((.*)\)(.*)$/;function f(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return c.call(e).replace(d,"Symbol($1)");const r=s.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+l.call(e)+"]":"RegExp"===r?u.call(e):null}function p(e,t){let n=f(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=f(this[e],t);return null!==r?r:n}),2)}function g(e){return null==e?[]:[].concat(e)}let h,m,_,v=/\$\{\s*(\w+)\s*\}/g;h=Symbol.toStringTag;class y{constructor(e,t,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[h]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],g(e).forEach((e=>{if(b.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}m=Symbol.hasInstance,_=Symbol.toStringTag;class b extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),"string"==typeof e?e.replace(v,((e,n)=>p(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r,o){const i=new y(e,t,n,r);if(o)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,b)}static[m](e){return y[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let C={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const o=null!=r&&r!==n?` (cast from the value \`${p(r,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${p(n,!0)}\``+o:`${e} must match the configured type. The validated value was: \`${p(n,!0)}\``+o}},E={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},D={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},T={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},w={isValue:"${path} field must be ${value}"},S={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},O={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},A={notType:e=>{const{path:t,value:n,spec:r}=e,o=r.types.length;if(Array.isArray(n)){if(n.length<o)return`${t} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${p(n,!0)}\``;if(n.length>o)return`${t} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${p(n,!0)}\``}return b.formatError(C.notType,e)}};Object.assign(Object.create(null),{mixed:C,string:E,number:D,date:T,object:S,array:O,boolean:w,tuple:A});const I=e=>e&&e.__isYupSchema__;class k{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:o}=t,i="function"==typeof n?n:(...e)=>e.every((e=>e===n));return new k(e,((e,t)=>{var n;let a=i(...e)?r:o;return null!=(n=null==a?void 0:a(t))?n:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!I(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const M="$",x=".";class P{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===M,this.isValue=this.key[0]===x,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?M:this.isValue?x:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,r.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}P.prototype.__isYupRef=!0;const R=e=>null==e;function F(e){function t({value:t,path:n="",options:r,originalValue:o,schema:i},a,s){const{name:l,test:u,params:c,message:d,skipAbsent:f}=e;let{parent:p,context:g,abortEarly:h=i.spec.abortEarly,disableStackTrace:m=i.spec.disableStackTrace}=r;function _(e){return P.isRef(e)?e.getValue(t,p,g):e}function v(e={}){const r=Object.assign({value:t,originalValue:o,label:i.spec.label,path:e.path||n,spec:i.spec,disableStackTrace:e.disableStackTrace||m},c,e.params);for(const e of Object.keys(r))r[e]=_(r[e]);const a=new b(b.formatError(e.message||d,r),t,r.path,e.type||l,r.disableStackTrace);return a.params=r,a}const y=h?a:s;let C={path:n,parent:p,type:l,from:r.from,createError:v,resolve:_,options:r,originalValue:o,schema:i};const E=e=>{b.isError(e)?y(e):e?s(null):y(v())},D=e=>{b.isError(e)?y(e):a(e)};if(f&&R(t))return E(!0);let T;try{var w;if(T=u.call(C,t,C),"function"==typeof(null==(w=T)?void 0:w.then)){if(r.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(E,D)}}catch(e){return void D(e)}E(T)}return t.OPTIONS=e,t}function L(e,t,n,o=n){let i,a,s;return t?((0,r.forEach)(t,((r,l,u)=>{let c=l?r.slice(1,r.length-1):r,d="tuple"===(e=e.resolve({context:o,parent:i,value:n})).type,f=u?parseInt(c,10):0;if(e.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${r}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[f],e=d?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=n,n=n&&n[c],e=e.fields[c]}a=c,s=l?"["+r+"]":"."+r})),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}class j extends Set{describe(){const e=[];for(const t of this.values())e.push(P.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new j(this.values())}merge(e,t){const n=this.clone();return e.forEach((e=>n.add(e))),t.forEach((e=>n.delete(e))),n}}function N(e,t=new Map){if(I(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=N(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,o]of e.entries())n.set(r,N(o,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(N(r,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[r,o]of Object.entries(e))n[r]=N(o,t)}return n}class B{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new j,this._blacklist=new j,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(C.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=N(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,o;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive,disableStackTrace:null!=(o=e.disableStackTrace)?o:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,o=n._cast(e,t);if(!1!==t.assert&&!n.isType(o)){if(r&&R(o))return o;let i=p(e),a=p(o);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". \n\nattempted value: ${i} \n`+(a!==i?`result of cast: ${a}`:""))}return o}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e,t={},n,r){let{path:o,originalValue:i=e,strict:a=this.spec.strict}=t,s=e;a||(s=this._cast(s,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:o,value:s,originalValue:i,options:t,tests:l},n,(e=>{if(e.length)return r(e,s);this.runTests({path:o,value:s,originalValue:i,options:t,tests:this.tests},n,r)}))}runTests(e,t,n){let r=!1,{tests:o,value:i,originalValue:a,path:s,options:l}=e,u=e=>{r||(r=!0,t(e,i))},c=e=>{r||(r=!0,n(e,i))},d=o.length,f=[];if(!d)return c([]);let p={value:i,originalValue:a,path:s,options:l,schema:this};for(let e=0;e<o.length;e++){(0,o[e])(p,u,(function(e){e&&(Array.isArray(e)?f.push(...e):f.push(e)),--d<=0&&c(f)}))}}asNestedTest({key:e,index:t,parent:n,parentPath:r,originalParent:o,options:i}){const a=null!=e?e:t;if(null==a)throw TypeError("Must include `key` or `index` for nested validations");const s="number"==typeof a;let l=n[a];const u=Object.assign({},i,{strict:!0,parent:n,value:l,originalValue:o[a],key:void 0,[s?"index":"key"]:a,path:s||a.includes(".")?`${r||""}[${s?a:`"${a}"`}]`:(r?`${r}.`:"")+e});return(e,t,n)=>this.resolve(u)._validate(l,u,t,n)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),o=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return new Promise(((n,i)=>r._validate(e,t,((e,t)=>{b.isError(e)&&(e.value=t),i(e)}),((e,t)=>{e.length?i(new b(e,t,void 0,void 0,o)):n(t)}))))}validateSync(e,t){var n;let r,o=this.resolve(Object.assign({},t,{value:e})),i=null!=(n=null==t?void 0:t.disableStackTrace)?n:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw b.isError(e)&&(e.value=t),e}),((t,n)=>{if(t.length)throw new b(t,e,void 0,void 0,i);r=n})),r}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(b.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(b.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):N(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=F({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=F({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=C.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=C.notNull){return this.nullability(!1,e)}required(e=C.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=C.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=F(t),o=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(o)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=g(e).map((e=>new P(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"==typeof t?new k(r,t):k.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=F({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=C.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=F({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e,t=C.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=F({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:o,nullable:i}=t.spec;return{meta:r,label:n,optional:o,nullable:i,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))}}}B.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])B.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:a}=L(this,t,n,r.context);return a[e](o&&o[i],Object.assign({},r,{parent:o,path:t}))};for(const e of["equals","is"])B.prototype[e]=B.prototype.oneOf;for(const e of["not","nope"])B.prototype[e]=B.prototype.notOneOf;function U(){return new W}class W extends B{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e}}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}isTrue(e=w.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(e){return R(e)||!0===e}})}isFalse(e=w.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(e){return R(e)||!1===e}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}U.prototype=W.prototype;const H=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function z(e){var t,n;const r=H.exec(e);return r?{year:G(r[1]),month:G(r[2],1)-1,day:G(r[3],1),hour:G(r[4]),minute:G(r[5]),second:G(r[6]),millisecond:r[7]?G(r[7].substring(0,3)):0,precision:null!=(t=null==(n=r[7])?void 0:n.length)?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:G(r[10]),minuteOffset:G(r[11])}:null}function G(e,t=0){return Number(e)||t}let $=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,V=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,q=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),K=e=>R(e)||e===e.trim(),Y={}.toString();function J(){return new X}class X extends B{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e}}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const r=null!=e&&e.toString?e.toString():e;return r===Y?e:r}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||C.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=E.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=E.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=E.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,r,o=!1;return t&&("object"==typeof t?({excludeEmptyString:o=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||E.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&o||-1!==t.search(e)})}email(e=E.email){return this.matches($,{name:"email",message:e,excludeEmptyString:!0})}url(e=E.url){return this.matches(V,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=E.uuid){return this.matches(Z,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,r="";return e&&("object"==typeof e?({message:r="",allowOffset:t=!1,precision:n}=e):r=e),this.matches(q,{name:"datetime",message:r||E.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||E.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=z(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:r||E.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||null==n)return!0;const t=z(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=E.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:K})}lowercase(e=E.lowercase){return this.transform((e=>R(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>R(e)||e===e.toLowerCase()})}uppercase(e=E.uppercase){return this.transform((e=>R(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>R(e)||e===e.toUpperCase()})}}J.prototype=X.prototype;let Q=new Date("");function ee(){return new te}class te extends B{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=z(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?te.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let n;if(P.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=T.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e,t=T.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function ne(e,t){let n=1/0;return e.some(((e,r)=>{var o;if(null!=(o=t.path)&&o.includes(e))return n=r,!0})),n}function re(e){return(t,n)=>ne(e,t)-ne(e,n)}te.INVALID_DATE=Q,ee.prototype=te.prototype,ee.INVALID_DATE=Q;const oe=(e,t,n)=>{if("string"!=typeof e)return e;let r=e;try{r=JSON.parse(e)}catch(e){}return n.isType(r)?r:e};function ie(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=ie(r);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=ie(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(ie)}):"optional"in e?e.optional():e}let ae=e=>"[object Object]"===Object.prototype.toString.call(e);function se(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}const le=re([]);function ue(e){return new ce(e)}class ce extends B{constructor(e){super({type:"object",check(e){return ae(e)||"function"==typeof e}}),this.fields=Object.create(null),this._sortErrors=le,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault(t);if(!this._typeCheck(r))return r;let o=this.fields,i=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(r).filter((e=>!this._nodes.includes(e)))),s={},l=Object.assign({},t,{parent:s,__validating:t.__validating||!1}),u=!1;for(const e of a){let n=o[e],a=e in r;if(n){let o,i=r[e];l.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:i,context:t.context,parent:s});let a=n instanceof B?n.spec:void 0,c=null==a?void 0:a.strict;if(null!=a&&a.strip){u=u||e in r;continue}o=t.__validating&&c?r[e]:n.cast(r[e],l),void 0!==o&&(s[e]=o)}else a&&!i&&(s[e]=r[e]);a===e in s&&s[e]===r[e]||(u=!0)}return u?s:r}_validate(e,t={},n,r){let{from:o=[],originalValue:i=e,recursive:a=this.spec.recursive}=t;t.from=[{schema:this,value:i},...o],t.__validating=!0,t.originalValue=i,super._validate(e,t,n,((e,o)=>{if(!a||!ae(o))return void r(e,o);i=i||o;let s=[];for(let e of this._nodes){let n=this.fields[e];n&&!P.isRef(n)&&s.push(n.asNestedTest({options:t,key:e,parent:o,parentPath:t.path,originalParent:i}))}this.runTests({tests:s,value:o,originalValue:i,options:t},n,(t=>{r(t.sort(this._sortErrors).concat(e),o)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];n[e]=void 0===r?t:r}return t.withMutation((t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((n=>{var r;const o=this.fields[n];let i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),t[n]=o&&"getDefault"in o?o.getDefault(i):void 0})),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e,t=[]){let n=[],o=new Set,i=new Set(t.map((([e,t])=>`${e}-${t}`)));function s(e,t){let a=(0,r.split)(e)[0];o.add(a),i.has(`${t}-${a}`)||n.push([t,a])}for(const t of Object.keys(e)){let n=e[t];o.add(t),P.isRef(n)&&n.isSibling?s(n.path,t):I(n)&&"deps"in n&&n.deps.forEach((e=>s(e,t)))}return a().array(Array.from(o),n).reverse()}(e,t),n._sortErrors=re(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation((n=>{let r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),r)}))}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return ie(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter((([t,n])=>e.includes(t)&&e.includes(n))))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let o=(0,r.getter)(e,!0);return this.transform((i=>{if(!i)return i;let a=i;return((e,t)=>{const n=[...(0,r.normalizePath)(t)];if(1===n.length)return n[0]in e;let o=n.pop(),i=(0,r.getter)((0,r.join)(n),!0)(e);return!(!i||!(o in i))})(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=o(i)),a}))}json(){return this.transform(oe)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||S.exact,test(e){if(null==e)return!0;const t=se(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=S.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=se(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=S.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const n={};for(const r of Object.keys(t))n[e(r)]=t[r];return n}))}camelCase(){return this.transformKeys(o.camelCase)}snakeCase(){return this.transformKeys(o.snakeCase)}constantCase(){return this.transformKeys((e=>(0,o.snakeCase)(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[o,i]of Object.entries(t.fields)){var r;let t=e;null!=(r=t)&&r.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[o]})),n.fields[o]=i.describe(t)}return n}}ue.prototype=ce.prototype;function de(e,t,n){if(!e||!I(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof t)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");e.prototype[t]=n}var fe=n(52274),pe=n(99915),ge=n(83945),he=n(82383),me=n(47367);de(J,"email",(function(e="Invalid email"){return this.test("test-email",e,(function(t){const{path:n,createError:r}=this;if(t){const o=t.trim();return Boolean(o.match(/^([a-zA-Z\d-_]+([+.][a-zA-Z\d-_]+)*)@(([a-zA-Z\d][a-zA-Z\d-_.]*[a-zA-Z\d])|([a-zA-Z\d]))\.([a-zA-Z\d]{2,})$/i))||r({path:n,message:e})}return!0}))})),de(J,"name",(function(e="Invalid name"){return this.test("test-name",e,(function(t){const{path:n,createError:r}=this;if(t){const o=t.trim();return o.length>0&&o.length<=100||r({path:n,message:e})}return!0}))})),de(J,"phone",(function(e="Invalid phone number"){return this.test("test-phone",e,(function(t){const{path:n,createError:r}=this;if(t){const o=t.trim();if(this.parent.country){const t=this.parent.country,{cleanValue:i,formattedValue:a}=(0,ge.Dg)(o,t);return((e,t,n)=>{const{code:r,phone_code:o,phone_format:i}=n,a=e.substring(o.length),s=`+${o} ${i}`.length,l=e.startsWith(o);if(r in he.h){const[e,t]=he.h[r];return l&&a.length>=e&&a.length<=t}return l&&t.length===s})(i,a,t)&&!((e,t)=>{const n=e.substring(t.length);return/^(\d)\1*$/.test(n)})(i,t.phone_code)||r({path:n,message:e})}return o.length>=6&&o.length<=20&&Boolean(o.match(/^\+?[0-9() -]+$/i))||r({path:n,message:e})}return!0}))})),de(J,"numberAttribute",(function(e="Invalid number attribute"){return this.test("test-number-attribute",e,(function(t){const{path:n,createError:r}=this;if(t){const o=t.trim();return/^\d+$/g.test(o)||r({path:n,message:e})}return!0}))})),de(J,"listAttribute",(function(e="Invalid list attribute"){return this.test("test-list-attribute",e,(function(t){var n;const{path:r,createError:o}=this,i=(0,pe.R)().find((e=>e.name===this.path));return!(i&&i.required&&(null===(n=i.settings)||void 0===n?void 0:n.options)&&t)||(i.settings.options.includes(t)||o({path:r,message:e}))}))})),de(J,"dateAttribute",(function(e="Invalid date attribute"){return this.test("test-date-attribute",e,(function(t){const{path:n,createError:r}=this;return!t||((e=>{const t=(0,me.Al)(e);if(10!==t.length)return!1;const[n,r,o]=t.split("-").map(Number),i=(new Date).getFullYear(),a=29===new Date(n,1,29).getDate();return n>=i-200&&n<=i+100&&r>=1&&r<=12&&(a&&2===r?o>=1&&o<=29:2===r?o>=1&&o<=28:o>=1&&o<=31)})(t)||r({path:n,message:e}))}))}));const _e={name:J().name(),email:J().email(),phone:J().phone(),description:J().trim().min(1),departmentId:J().required(),message:J().trim().min(1).required(),textarea:J().trim(),eula:U().isTrue(),mailing:U(),string:J().trim().strict(!0).max(fe.MAX_ATTRIBUTE_STRING_LENGTH),number:J().numberAttribute().max(fe.MAX_ATTRIBUTE_NUMBER_LENGTH),period:J(),list:J().listAttribute(),checkbox:U(),date:J().dateAttribute()},ve=e=>"boolean"===e.type?e.oneOf([!0],"Required"):e.required(),ye=e=>ue(e)},58345:function(e,t,n){"use strict";n.r(t),n.d(t,{chunkArray:function(){return o},difference:function(){return a},unique:function(){return i}});var r=n(73422);const o=(e,t)=>{const n=[];let r=0;for(;r<e.length;)n.push(e.slice(r,r+t)),r+=t;return n},i=e=>Array.from(new Set(e)),a=(e,t)=>{if((0,r.isUndefined)(t))return e;const n=new Set(t);return e.filter((e=>!n.has(e)))}},47361:function(e,t,n){"use strict";n.r(t),n.d(t,{debounce:function(){return l}});var r=n(73422);const o=null!==n.g&&"object"==typeof n.g&&n.g.Object===Object&&n.g,i=null!==globalThis&&"object"==typeof globalThis&&globalThis.Object===Object&&globalThis,a="object"==typeof self&&null!==self&&self.Object===Object&&self,s=i||o||a||Function("return this")();function l(e,t,n){let o,i,a,l,u,c,d=0,f=!1,p=!1,g=!0;const h=!t&&0!==t&&"function"==typeof s.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){const n=o,r=i;return o=i=void 0,d=t,l=e.apply(r,n),l}function _(e,t){return h?(s.cancelAnimationFrame(u),s.requestAnimationFrame(e)):setTimeout(e,t)}function v(e){const n=e-c;return void 0===c||n>=t||n<0||p&&e-d>=a}function y(){const e=Date.now();if(v(e))return b(e);u=_(y,function(e){const n=e-d,r=t-(e-c);return p?Math.min(r,a-n):r}(e))}function b(e){return u=void 0,g&&o?m(e):(o=i=void 0,l)}function C(...e){const n=Date.now(),r=v(n);if(o=e,i=this,c=n,r){if(void 0===u)return function(e){return d=e,u=_(y,t),f?m(e):l}(c);if(p)return u=_(y,t),m(c)}return void 0===u&&(u=_(y,t)),l}return t=+t||0,(0,r.isObject)(n)&&(f=!!n.leading,p="maxWait"in n,a=p?Math.max(+n.maxWait||0,t):a,g="trailing"in n?!!n.trailing:g),C.cancel=function(){var e;void 0!==u&&(e=u,h?s.cancelAnimationFrame(e):clearTimeout(e)),d=0,o=c=i=u=void 0},C.flush=function(){return void 0===u?l:b(Date.now())},C.pending=function(){return void 0!==u},C}},32183:function(e,t,n){"use strict";n.r(t),n.d(t,{addClass:function(){return w},addNewLine:function(){return A},blurActiveElement:function(){return x},getComputedStyleAll:function(){return b},getDomMessageByPrivateId:function(){return F},getElementPosition:function(){return O},getInnerHeight:function(){return C},getInnerWidth:function(){return E},getNextSiblingNodeFocus:function(){return D},getScrollBarWidth:function(){return y},hasClass:function(){return T},isInput:function(){return I},isInputFocused:function(){return P},isParentA:function(){return M},isParentHasElement:function(){return R},isTextArea:function(){return k},isVisible:function(){return v},pageVisible:function(){return _},removeClass:function(){return S}});var r=n(58345),o=n(76784),i=n(60277),a=n(45926),s=n(73422),l=n(31011),u=n(75686),c=n(70859);let d;const f="classList"in document.documentElement,p=e=>e.offsetHeight,g=e=>(0,s.isArray)(e)?e:e.replace(/^\s+|\s+$/g,"").split(/\s+/),h=e=>g(e.className),m=(e,t)=>{const n=t.join(" ");e.className!==n&&(e.className=n,p(e))},_=()=>"visibilityState"in document?"visible"===document.visibilityState:"webkitVisibilityState"in document&&"visible"===document.webkitVisibilityState,v=e=>Boolean(e&&e.offsetWidth>0&&e.offsetHeight>0),y=()=>{var e;if(l.platform.isMobileOrTablet)return 0;if(void 0!==d)return d;const t=document.createElement("div");if(t.style.visibility="hidden",t.style.width="100px",!document||!document.body)return d;document.body.appendChild(t);const n=t.offsetWidth;t.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",t.appendChild(r);const o=r.offsetWidth;return null===(e=t.parentNode)||void 0===e||e.removeChild(t),d=n-o,d},b=(e,t,n)=>"getComputedStyle"in window?window.getComputedStyle(e,n)[t]:e.style[t],C=e=>{const t=b(e,"paddingTop"),n=b(e,"paddingBottom");return e.clientHeight-parseFloat(t)-parseFloat(n)},E=e=>{const t=b(e,"paddingLeft"),n=b(e,"paddingRight");return e.clientWidth-parseFloat(t)-parseFloat(n)},D=e=>{var t;if(13===(null==e?void 0:e.keyCode)||"Enter"===e.key){const n=(null===(t=e.currentTarget)||void 0===t?void 0:t.parentNode).nextElementSibling;let r=n.querySelector("input");if(r||(r=n.querySelector("jdiv")||n.querySelector("textarea")),!r)return;if(I(r.tagName)&&r.focus)r.focus();else{const e=l.platform.isTablet?"touchstart":"click",t=document.createEvent("MouseEvents");t.initEvent(e,!0,!0),r.dispatchEvent(t)}}},T=(e,t)=>f?e.classList.contains(t):""!==e.className&&h(e).includes(t),w=(e,t)=>{if(f)g(t).forEach((t=>{e&&e.classList.add(t)}),g(t)),e&&p(e);else{const n=h(e),r=(0,o.G)(n,g(t));m(e,r)}},S=(e,t)=>{if(f)g(t).forEach((t=>{null==e||e.classList.remove(t)}),g(t)),e&&p(e);else{const n=h(e),o=(0,r.difference)(n,g(t));m(e,o)}},O=e=>{let t={width:0,height:0,top:0,left:0,windowWidth:0,windowHeight:0,minLeft:0};if(!e)return t;if(e.getBoundingClientRect){const n=e.getBoundingClientRect();t=n.toJSON?(0,i.extend)(t,n.toJSON()):t=n}t.width=e.offsetWidth,t.height=e.offsetHeight;const n=e.ownerDocument.defaultView;return t.windowWidth=(null==n?void 0:n.innerWidth)||0,t.windowHeight=(null==n?void 0:n.innerHeight)||0,t},A=(e,t)=>{if(!e)return!1;const n=e.selectionStart,r=t.substring(0,n||void 0),o=t.substring(n,t.length);return n!==e.value.length?(e.value=`${r}\r\n${o}`,e.setSelectionRange(n,n)):(e.value+="\r\n",e.scrollTop=e.scrollHeight),e.value},I=e=>!!e&&["input","textarea"].includes(e.toLowerCase()),k=e=>!!e&&"textarea"===e.toLowerCase(),M=e=>e&&"A"===e.tagName,x=()=>{const e=(0,a.getPageWindow)().document.activeElement;(null==e?void 0:e.blur)&&e.blur()},P=()=>{const e=(0,a.getPageWindow)().document.activeElement;return Boolean(e&&I(null==e?void 0:e.tagName))},R=(e,t)=>Boolean(t.contains(e)),F=e=>{var t;return null===(t=u.default.get(c.Component.MESSAGES_CONTAINER))||void 0===t?void 0:t.querySelector(`jdiv[jv-private-id="${e}"`)}},52161:function(e,t,n){"use strict";n.r(t),n.d(t,{escape:function(){return a}});const r=/[&<>"']/g,o=RegExp(r.source),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=e=>o.test(e)?e.replace(r,(e=>i[e])):e},42882:function(e,t,n){"use strict";n.r(t),n.d(t,{fromEntries:function(){return r}});const r=e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};for(const[n,r]of e)t[n]=r;return t}},90970:function(e,t,n){"use strict";n.r(t),n.d(t,{isArrayEqual:function(){return o}});var r=n(45007);const o=(e,t)=>e.length===t.length&&e.length===e.filter(((e,n)=>(0,r.wU)(e,t[n]))).length},20827:function(e,t,n){"use strict";n.r(t),n.d(t,{isEmpty:function(){return o}});var r=n(73422);const o=e=>""===e||(0,r.isNil)(e)||(0,r.isObject)(e)&&0===Object.keys(e).length||(0,r.isArray)(e)&&0===e.length},43417:function(e,t,n){"use strict";n.r(t),n.d(t,{onClickHandler:function(){return i}});var r=n(31011);const o=r.platform.isMobileOrTablet&&r.platform.supports.touch?"onTouchEnd":"onClick",i=(e,t=!0,n=!1,r=!1)=>({[o]:o=>{n&&o.preventDefault(),t&&(o.stopPropagation(),o.stopImmediatePropagation()),r||null==e||e(o)}})},30633:function(e,t,n){"use strict";n.r(t),n.d(t,{EMOJI_REGEX:function(){return r}});const r=/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g},938:function(e,t,n){"use strict";n.r(t),n.d(t,{sortBy:function(){return r}});const r=(e,t)=>{if(!(null==e?void 0:e.length)||!t)return[];const n=e=>"function"==typeof t?t(e):e[t];return e.slice().sort(((e,t)=>{const r=n(e),o=n(t);return r>o?1:r<o?-1:0}))}},73262:function(e,t,n){"use strict";function r(e,t,n){let r,o,i,a,s=0;n||(n={});const l=function(){s=!1===(null==n?void 0:n.leading)?0:Date.now(),r=null,a=e.apply(o,i),r||(o=i=null)},u=function(){const u=Date.now();s||!1!==(null==n?void 0:n.leading)||(s=u);const c=t-(u-s);return o=this,i=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=u,a=e.apply(o,i),r||(o=i=null)):r||!1===(null==n?void 0:n.trailing)||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=o=i=null},u}n.r(t),n.d(t,{throttle:function(){return r}})},73422:function(e,t,n){"use strict";n.r(t),n.d(t,{isArray:function(){return c},isDate:function(){return f},isFunction:function(){return a},isNil:function(){return i},isNull:function(){return r},isNumber:function(){return s},isNumeric:function(){return l},isObject:function(){return u},isRegExp:function(){return p},isString:function(){return d},isUndefined:function(){return o}});const r=e=>null===e,o=e=>void 0===e,i=e=>r(e)||o(e),a=e=>"function"==typeof e,s=e=>"number"==typeof e,l=e=>("number"==typeof e||"string"==typeof e&&""!==e.trim())&&!isNaN(e),u=e=>null!==e&&"object"==typeof e&&!c(e),c=e=>null!==e&&Array.isArray(e),d=e=>"string"==typeof e,f=e=>"[object Date]"===Object.prototype.toString.call(e),p=e=>"[object RegExp]"===Object.prototype.toString.call(e)},2491:function(e,t,n){"use strict";n.r(t),n.d(t,{getURL:function(){return r},isValidHttpURL:function(){return o}});const r=e=>{try{return new URL(e)}catch(e){return}},o=(e,t)=>{const n=r(e);return!!n&&(t?t(n):/^https?:$/.test(n.protocol))}},99915:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(96394);const o=()=>{const{contacts_settings:e}=r.default;return Object.keys(r.default.contacts_settings).map((t=>Object.assign({name:t},e[t])))},i=()=>{var e;return r.default.enable_client_attributes&&null!==(e=r.default.contacts_settings_new)&&void 0!==e?e:o()}},36148:function(e,t,n){"use strict";n.r(t),n.d(t,{MessageStatus:function(){return r}});const r={SENT:"sent",SENDED:"sended",DELIVERED:"delivered",READ:"read",SEEN:"seen",NOT_DELIVERED:"notDelivered",FAILED:"failed",DELETED:"deleted",EMPTY:null}},95232:function(e,t,n){"use strict";n.r(t),n.d(t,{useBubbleColors:function(){return s}});var r=n(87692),o=n(24111),i=n(84998),a=n(31011);const s=()=>{const e=(0,o.useAppSelector)(r.selectPowerButtonColor),t=(0,o.useAppSelector)(r.selectWidgetColor),n=(0,o.useAppSelector)(r.selectWidgetColor2),s=(0,o.useAppSelector)(r.selectWidgetFontColor),l=(0,o.useAppSelector)(r.selectPowerGradient),u=!(0,o.useAppSelector)(r.selectDesigner).isMobileView&&a.platform.isDesktop;return{iconColor:(0,i.getIconColor)({isDesktop:u,powerButtonColor:e,powerGradient:l,color:t,widgetFontColor:s}),iconTopColor:e||t,powerButtonColorComputed:(0,i.getPowerButtonColor)({isDesktop:u,powerButtonColor:e,powerGradient:l,color:t,color2:n})}}},4231:function(e,t,n){"use strict";n.r(t),n.d(t,{useClickOutside:function(){return i}});var r=n(98661),o=n(73422);const i=(e,t,n=window.parent.document)=>{(0,r.useEffect)((()=>{if((0,o.isFunction)(t)){const r=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return n.addEventListener("mousedown",r),n.addEventListener("touchstart",r),()=>{n.removeEventListener("mousedown",r),n.removeEventListener("touchstart",r)}}}),[e,t,n])}},83549:function(e,t,n){"use strict";n.r(t),n.d(t,{useErrorCatcher:function(){return a}});var r=n(30396),o=n(54415),i=n(73422);function a(e,t){const[n,a]=(0,r.cO)(((t,n)=>{let r=` (in ${e} component)`;r+=` ${n.componentStack}`,o.Monitoring.reportException(t,r)}));if(n)return(0,i.isFunction)(t)?null==t?void 0:t({error:n,resetError:a}):t}},95421:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(98661),o=n(45926),i=n(22901);const a=(0,o.getPageWindow)(),s=()=>{const[e,t]=(0,i.useToggle)(a.navigator.onLine);return(0,r.useEffect)((()=>{const e=()=>t();return a.addEventListener("online",e),a.addEventListener("offline",e),()=>{a.removeEventListener("online",e),a.removeEventListener("offline",e)}}),[]),e}},22901:function(e,t,n){"use strict";n.r(t),n.d(t,{useToggle:function(){return o}});var r=n(98661);const o=e=>{const[t,n]=(0,r.useState)(Boolean(e));return[t,e=>n((t=>null!=e?e:!t))]}},39733:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(98661);function o(e,t){const n=function(){const e=(0,r.useRef)(!0);return e.current?(e.current=!1,!0):e.current}();(0,r.useEffect)((()=>{if(!n)return e()}),t)}},20749:function(e,t,n){"use strict";n.r(t),n.d(t,{Masker:function(){return i}});const r=e=>!e.match(/[\s()-.\/]/),o=(e,t,n)=>e.map(((e,o)=>o>=t&&r(e)?n:e)),i={toPattern:(e,t)=>{const n="object"==typeof t?t.pattern:t,i="object"==typeof t?t.placeholder:void 0,a=n.replace(/\W/g,""),s=e.replace(/\W/g,""),l=n.split("");let u=0,c=0;for(;c<l.length;c++){if(u>=s.length){if(a.length===s.length)return l.join("");if(void 0!==i&&a.length>s.length)return o(l,c,i).join("");break}if(l[c]&&r(l[c])&&s[u].match(/[0-9]/))l[c]=s[u++];else if(l[c]&&r(l[c]))return void 0!==i?o(l,c,i).join(""):l.slice(0,c).join("")}return l.join("").substring(0,c)}}},75998:function(e,t,n){"use strict";n.r(t),n.d(t,{campaignPopupDispatch:function(){return g},campaignWidgetDispatch:function(){return h},contactFormPreviewDispatch:function(){return _},extensionsDispatch:function(){return m},positionDispatch:function(){return f},systemSettingsDispatch:function(){return v},zoomDispatch:function(){return p}});var r=n(65849),o=n(62096),i=n(51344),a=n(16587),s=n(61547),l=n(84348),u=n(6727),c=n(35073),d=n(62241);const f=(0,r.DE)(i.positionActions,o.reduxStore.dispatch),p=(0,r.DE)(a.zoomActions,o.reduxStore.dispatch),g=(0,r.DE)(s.campaignPopupActions,o.reduxStore.dispatch),h=(0,r.DE)(l.campaignWidgetActions,o.reduxStore.dispatch),m=(0,r.DE)(c.extensionsActions,o.reduxStore.dispatch),_=(0,r.DE)(u.contactFormPreviewActions,o.reduxStore.dispatch),v=(0,r.DE)(d.systemActions,o.reduxStore.dispatch)},24111:function(e,t,n){"use strict";n.r(t),n.d(t,{useAppDispatch:function(){return o},useAppSelector:function(){return i}});var r=n(45007);const o=()=>(0,r.I0)(),i=r.v9},65138:function(e,t,n){"use strict";n.r(t),n.d(t,{selectApp:function(){return r},selectChatStarted:function(){return s},selectHiddenByRules:function(){return u},selectIsFocused:function(){return a},selectIsInDrag:function(){return d},selectIsInputDisabled:function(){return l},selectIsOnline:function(){return i},selectMaintenance:function(){return c},selectRoute:function(){return o}});const r=e=>e.app,o=e=>r(e).route,i=e=>r(e).isOnline,a=e=>r(e).isFocused,s=e=>r(e).chatStarted,l=e=>r(e).isInputDisabled,u=e=>r(e).hiddenByRules,c=e=>r(e).maintenance,d=e=>r(e).isInDrag},88996:function(e,t,n){"use strict";n.d(t,{Fl:function(){return o},rN:function(){return i},xy:function(){return r}});const r=e=>e.callback,o=e=>r(e).available,i=e=>e.settings.user.callbackButtonColor},90189:function(e,t,n){"use strict";n.r(t),n.d(t,{selectAgentJoinedIds:function(){return d},selectAgents:function(){return a},selectAgentsByStatus:function(){return l},selectBotJoinedIds:function(){return c},selectBots:function(){return s},selectBotsByStatus:function(){return u},selectChats:function(){return o},selectCurrentChat:function(){return i}});var r=n(19119);const o=e=>e.chats,i=e=>{const t=o(e);return t.length?t[t.length-1]:void 0},a=e=>e.agents,s=e=>e.bots,l=e=>(0,r.P1)([a],(t=>t.filter((({state:t})=>t===e)))),u=e=>(0,r.P1)([s],(t=>t.filter((({state:t})=>t===e)))),c=(0,r.P1)([s],(e=>e.filter((({state:e})=>"join"===e)).map((({id:e})=>e)))),d=(0,r.P1)([a],(e=>e.filter((e=>"join"===e.state)).map((e=>e.id))))},97979:function(e,t,n){"use strict";n.r(t),n.d(t,{selectClient:function(){return r},selectClientEmail:function(){return o},selectClientEulaAccepted:function(){return i},selectClientMailing:function(){return a},selectClientPhone:function(){return s}});const r=e=>e.client,o=e=>r(e).email,i=e=>r(e).eulaAccepted,a=e=>r(e).mailing,s=e=>r(e).phone},79814:function(e,t,n){"use strict";n.r(t),n.d(t,{getMessagesByType:function(){return p},isAgentSystemMessage:function(){return d},selectAgentMessages:function(){return l},selectAgentMessagesByStatus:function(){return u},selectAgentMessagesCount:function(){return c},selectByMsgId:function(){return v},selectByPrivateId:function(){return _},selectClientMessages:function(){return s},selectCobrowseMessage:function(){return b},selectContactFormMessage:function(){return h},selectFormIntroduceText:function(){return g},selectLastBlockMessage:function(){return C},selectMessages:function(){return i},selectMessagesByPrivateIds:function(){return y},selectRateFormMessage:function(){return m},selectSendedMessages:function(){return a},selectUnreadMessages:function(){return f}});var r=n(19119),o=n(81152);const i=e=>e.messages,a=(0,r.P1)([i],(e=>e.filter((({status:e})=>e===o.MessageStatus.SENT)))),s=(0,r.P1)([i],(e=>e.filter((({from:e})=>e===o.MessageInitiator.CLIENT)))),l=(0,r.P1)([i],(e=>e.filter((({from:e})=>[o.MessageInitiator.AGENT,o.MessageInitiator.AGENT_BOT].includes(e))))),u=e=>(0,r.P1)([l],(t=>t.filter((({from:t,status:n})=>t===o.MessageInitiator.AGENT&&n===e)))),c=e=>l(e).length,d=e=>[o.MessageType.FOR_TEST,o.MessageType.WEB_RTC_CALL,o.MessageType.LISTPICKER,o.MessageType.FORM,o.MessageType.PREFORM,o.MessageType.PRECHAT,o.MessageType.SYSTEM,o.MessageType.INVOICE].includes(e),f=(0,r.P1)([i],(e=>e.filter((({from:e,status:t,type:n})=>[o.MessageInitiator.AGENT,o.MessageInitiator.AGENT_BOT].includes(e)&&![o.MessageStatus.SEEN,o.MessageStatus.READ,o.MessageStatus.NOT_DELIVERED,o.MessageStatus.DELETED].includes(t)&&!d(n))))),p=(e,t)=>e.filter((e=>e.type===t)),g=(0,r.P1)([i],(e=>e.filter((e=>e.type===o.MessageType.PREFORM&&e.from===o.MessageInitiator.FORM))[0])),h=(0,r.P1)([i],(e=>p(e,o.MessageType.FORM)[0])),m=(0,r.P1)([i],(e=>p(e,o.MessageType.RATE_FORM)[0])),_=e=>(0,r.P1)([i],(t=>t.find((t=>t.private_id===e)))),v=e=>(0,r.P1)([i],(t=>t.find((t=>t.msg_id===+e)))),y=e=>(0,r.P1)([i],(t=>t.filter((t=>e.includes(t.private_id))))),b=e=>(0,r.P1)([i],(t=>t.find((t=>t.type===o.MessageType.COBROWSE&&t.body&&t.body.type===o.MessageType.COBROWSE&&t.body.address===e)))),C=(0,r.P1)([i],(e=>{const t=e.length>0?e[e.length-1]:void 0;if(t)return t.type===o.MessageType.LISTPICKER&&t.body&&"force_reply"in t.body?t:void 0}))},97296:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});const r=e=>e.proactive},79105:function(e,t,n){"use strict";n.r(t),n.d(t,{selectAvatarUrl:function(){return D},selectBillRu:function(){return b},selectBubbleColor:function(){return k},selectCallHeaderText:function(){return y},selectCallbackSettings:function(){return g},selectCampaignPopupSettings:function(){return l},selectCampaignWidget:function(){return u},selectCampaignWidgetMessageFeed:function(){return R},selectCampaignWidgetMobileProactive:function(){return P},selectCampaignWidgetMobileView:function(){return M},selectCampaignWidgetPreview:function(){return x},selectCampaigns:function(){return S},selectContactFormPreviewSettings:function(){return j},selectContactFormPreviewTarget:function(){return L},selectContactsSettings:function(){return d},selectContactsSettingsNew:function(){return f},selectDepartments:function(){return c},selectDesignerMobileView:function(){return F},selectDesktopOffsetBottom:function(){return h},selectDisableFiletransfer:function(){return w},selectEula:function(){return T},selectFeaturesSettings:function(){return a},selectGeoIP:function(){return C},selectLocale:function(){return p},selectMailing:function(){return A},selectMobileProactive:function(){return I},selectPermissionSettings:function(){return s},selectRateSettings:function(){return m},selectSettings:function(){return r},selectSystemSettings:function(){return i},selectTypingInsight:function(){return O},selectUserSettings:function(){return o},selectWidgetId:function(){return E},selectWidgetMobileOrientation:function(){return v},selectWidgetOrientation:function(){return _}});const r=e=>e.settings,o=e=>r(e).user,i=e=>r(e).system,a=e=>r(e).features,s=e=>r(e).permissions,l=e=>r(e).campaignPopup,u=e=>r(e).campaignWidget,c=e=>o(e).departments,d=e=>o(e).contactsSettings,f=e=>o(e).contactsSettingsNew,p=e=>o(e).locale,g=e=>o(e).callback,h=e=>o(e).desktopOffsetBottom,m=e=>o(e).rateSettings,_=e=>o(e).widgetOrientation,v=e=>o(e).widgetMobileOrientation,y=e=>o(e).callHeaderText,b=e=>i(e).billRu,C=e=>i(e).geoIp,E=e=>i(e).widgetId,D=e=>i(e).avatarUrl,T=e=>a(e).eula,w=e=>a(e).disableFiletransfer,S=e=>a(e).campaigns,O=e=>a(e).typingInsight,A=e=>a(e).mailing,I=e=>a(e).mobileProactive,k=e=>o(e).bubbleColor,M=e=>e.settings.campaignWidget.isMobileView,x=e=>e.settings.campaignWidget.isPreview,P=e=>e.settings.campaignWidget.mobileProactive,R=e=>e.settings.campaignWidget.messageFeed,F=e=>e.settings.designer.isMobileView,L=e=>e.settings.contactFormPreview.target,j=e=>e.settings.contactFormPreview.settings},42601:function(e,t,n){"use strict";n.r(t),n.d(t,{selectZoom:function(){return r}});const r=e=>e.zoom},35073:function(e,t,n){"use strict";n.r(t),n.d(t,{extensions:function(){return a},extensionsActions:function(){return s}});var r=n(8327);const o={target:""},i=(0,r.oM)({name:"extensions",initialState:o,reducers:{setTarget(e,t){e.target=t.payload},resetExtensions(){return o}}}),a=i.reducer,s=i.actions},51344:function(e,t,n){"use strict";n.r(t),n.d(t,{position:function(){return o},positionActions:function(){return i}});const r=(0,n(8327).oM)({name:"position",initialState:{height:null,left:null,right:null},reducers:{initPositionStore(e,t){return t.payload},setWidgetHeight(e,t){e.height=t.payload},setLeftOffset(e,t){e.left=t.payload},setRightOffset(e,t){e.right=t.payload}}}),o=r.reducer,i=r.actions},61547:function(e,t,n){"use strict";n.r(t),n.d(t,{campaignPopup:function(){return a},campaignPopupActions:function(){return s}});var r=n(8327);const o={target:"",previewTargetDesktop:"",previewTargetMobile:"",theme:{type:"white",color:"#FFFFFF"},screens:[],activeScreen:0,display:!1,isMobileView:!1,isGalleryView:!1,campaignId:null,clientAnswerId:null,enableNotifications:null,onSubmitActionCallback:null,answerData:null},i=(0,r.oM)({name:"campaignPopup",initialState:o,reducers:{updateCampaignPopup(e,t){return Object.assign(Object.assign({},e),t.payload)},setActiveScreen(e,t){e.activeScreen=t.payload},setDisplay(e,t){e.display=t.payload},setClientAnswerId(e,t){e.clientAnswerId=t.payload},reset(){return o}}}),a=i.reducer,s=i.actions},84348:function(e,t,n){"use strict";n.r(t),n.d(t,{campaignWidget:function(){return a},campaignWidgetActions:function(){return s}});var r=n(8327);const o={isMobileView:!1,isPreview:!1,mobileProactive:null,messageFeed:[]},i=(0,r.oM)({name:"campaignWidget",initialState:o,reducers:{setMobileView(e,t){e.isMobileView=t.payload},setPreview(e,t){e.isPreview=t.payload},setMobileProactive(e,t){e.mobileProactive=t.payload},setMessageFeed(e,t){e.messageFeed=t.payload},reset(){return o}}}),a=i.reducer,s=i.actions},6727:function(e,t,n){"use strict";n.r(t),n.d(t,{contactFormPreview:function(){return a},contactFormPreviewActions:function(){return s}});var r=n(8327);const o={target:"",settings:[]},i=(0,r.oM)({name:"contactFormPreview",initialState:o,reducers:{updateContactFormPreview(e,t){return Object.assign(Object.assign({},e),t.payload)},reset(){return o}}}),a=i.reducer,s=i.actions},62241:function(e,t,n){"use strict";n.r(t),n.d(t,{initialState:function(){return s},system:function(){return u},systemActions:function(){return c}});var r=n(8327),o=n(52628),i=n(96394);const a=e=>({abSegment:e.ab_segment,apiDomain:e.api_domain,apiHost:e.api_host,avatarUrl:e.avatar_url,baseUrl:e.base_url,botmode:!!e.botmode,buildNumber:e.build_number,chatHost:e.chat_host,configUpdatedTs:e.config_updated_ts,cookieDomain:e.cookie_domain,geoIp:e.geoip,hostBlacklist:e.host_blacklist,premium:e.options,siteId:e.site_id,unverified:e.unverified||0,viHost:e.vi_host,widgetId:e.widget_id,billRu:!!e.bill_ru,eula:e.eula||null}),s=a(i.default),l=(0,r.oM)({name:"system",initialState:s,reducers:{reset:()=>s,refresh:()=>a((0,i.getConfig)()),update:(e,t)=>Object.assign(Object.assign({},(0,o.Vk)(e)),t.payload)}}),u=l.reducer,c=l.actions},16587:function(e,t,n){"use strict";n.r(t),n.d(t,{zoom:function(){return o},zoomActions:function(){return i}});const r=(0,n(8327).oM)({name:"zoom",initialState:{user:null,page:null,app:null},reducers:{setZoomSettings(e,t){Object.assign(e,t.payload)}}}),o=r.reducer,i=r.actions},40694:function(e,t,n){"use strict";n.r(t),n.d(t,{agentToReduxFormat:function(){return r}});const r=e=>({avatarUrl:e.avatar_url,id:e.agent_id||e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!!e.bot_id,state:e.state||null,type:e.type||null,isUpdateFromBot:e.isUpdateFromBot||null})},49798:function(e,t,n){"use strict";n.r(t),n.d(t,{Button:function(){return d}});var r=n(16584),o=n(98661),i=n(94184),a=n.n(i),s=n(96603),l=n(53400),u={button:"button__SFV7e",link:"link__jFSnv",__primary:"__primary__BuEl5",__disabled:"__disabled__TwiFX",__outline:"__outline__UVUcx",__sm:"__sm__BqGj_",__md:"__md__ixHaR",__lg:"__lg__G2RGN",__rounded:"__rounded__fA2VX",__fullWidth:"__fullWidth__zHclA",__end:"__end__FPHUo",loadingIcon:"loadingIcon__RId9w"},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const d=(0,o.forwardRef)(((e,t)=>{var{children:n,className:o,variant:i="primary",type:d="button",size:f="sm",justify:p="start",fullWidth:g=!1,rounded:h=!1,loading:m=!1,disabled:_=!1,icon:v,qaId:y}=e,b=c(e,["children","className","variant","type","size","justify","fullWidth","rounded","loading","disabled","icon","qaId"]);const C="link"===d?"a":"jdiv";return(0,r.BX)(C,Object.assign({},b,{ref:t,className:a()(u.button,u[`__${i}`],u[`__${f}`],{[u.link]:"link"===d,[u.__rounded]:h,[u.__disabled]:m||_,[u.__fullWidth]:g,[u.__end]:"end"===p},o)},(0,l.locator)(y),{children:[m?(0,r.tZ)(s.LoadingIcon,{color:"#ffffff",className:u.loadingIcon}):v,n&&(0,r.tZ)("span",{children:n})]}))}));d.displayName="Button"},96603:function(e,t,n){"use strict";n.r(t),n.d(t,{CallbackIcon:function(){return m},CloseIcon:function(){return c},DotsIcon:function(){return f},LoadingIcon:function(){return l}});var r=n(16584),o=(n(98661),n(94184)),i=n.n(o),a=n(31076),s="icon__eXivE";const l=({className:e,color:t})=>(0,r.tZ)(a.SvgIcon,{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="_COLOR1_"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg>',color:t,className:i()(s,e)});var u="icon__BZ104";const c=({className:e,style:t})=>(0,r.tZ)("jdiv",{className:i()(u,e),style:t});var d={dots:"dots__RS9EY",__pulse:"__pulse__z3D3E",dot:"dot__O7rOR",pulse:"pulse__GHa0y",__wave:"__wave__iXKUp",wave:"wave__U1gW4",__pulseWave:"__pulseWave__SIFuA"};const f=({className:e,animation:t})=>(0,r.BX)("jdiv",{className:i()(d.dots,{[d[`__${t}`]]:Boolean(t)},e),children:[(0,r.tZ)("jdiv",{className:d.dot}),(0,r.tZ)("jdiv",{className:d.dot}),(0,r.tZ)("jdiv",{className:d.dot})]});var p="container__gLu0M",g="icon__DlMjt",h="dots__DPHDo";const m=({className:e,color:t="#18C139"})=>(0,r.BX)("jdiv",{className:i()(p,e),style:{"--jv-dots-icon-color":t},children:[(0,r.tZ)(a.SvgIcon,{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n  <g fill="_COLOR1_" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n  </g>\n</svg>',color:t,className:g}),(0,r.tZ)(f,{className:h,animation:"pulse"})]})},31076:function(e,t,n){"use strict";n.r(t),n.d(t,{SvgIcon:function(){return s}});var r=n(16584),o=n(98661),i=n(53400);const a=({icon:e,isHover:t,color:n,color2:r,hoverColor:o,style:i})=>{let a=encodeURIComponent(e);const s=new RegExp("_COLOR1_","ig"),l=new RegExp("_COLOR2_","ig"),u=t?o:n;return u&&(a=a.replace(s,u.replace("#","%23"))),r&&(a=a.replace(l,r.replace("#","%23"))),Object.assign({backgroundImage:`url("data:image/svg+xml,${a}")`},i)},s=({icon:e,title:t,className:n,color:s,color2:l,hoverColor:u,style:c,qaId:d})=>{const[f,p]=(0,o.useState)(!1),g=e=>u&&p(e);return(0,r.tZ)("jdiv",Object.assign({className:n,title:t,style:a({icon:e,color:s,color2:l,hoverColor:u,isHover:f,style:c})},(0,i.locator)(d),{onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)}))}},19221:function(e,t,n){"use strict";n.d(t,{Mw:function(){return r},v9:function(){return o},z$:function(){return i}});const r=!0,o=!1,i=Boolean(!1)},31011:function(e,t,n){"use strict";n.r(t),n.d(t,{platform:function(){return N}});var r=n(45926);const o=(0,r.getPageWindow)(),i=o.navigator.userAgent.toLowerCase(),a=/mobile/.test(i),s=/tablet/.test(i),l=/windows/.test(i),u=l&&/phone/.test(i),c=l&&/touch/.test(i)&&!u&&!/trident/.test(i),d=/android/.test(i),f=d&&a,p=d&&!a,g=/blackberry|bb10|rim/.test(i),h=g&&!s,m=g&&s,_=/mac/.test(i),v=/iphone/.test(i),y=/ipod/.test(i),b=/ipad/.test(i)||/macintosh/.test(i)&&"ontouchend"in o,C=v||y||b,E=_&&!C,D=/opera|opr|presto/.test(i),T=D&&/mini|opios/.test(i),w=/firefox/.test(i),S=/chrome/.test(i),O=/crios/.test(i),A=/safari/.test(i)&&!S&&!O,I=/edge/.test(i),k=f||v||y||u||h,M=b||p||m||c,x=k||M,P=!k&&!M,R=Boolean(o.jivo_chat_page),F=x||R,L=-1===i.search(/google/gi)&&-1===i.search(/\+http:\/\/yandex\.com\/bots/gi)&&-1===i.search(/\+http:\/\/www\.cloudflare\.com\/always-online/gi)&&-1===i.search(/linespider\//gi),j={version:(e=>{const t=e.match(/windows nt (\d+\.\d+)/),n=e.match(/mac os x (\d+[._]\d+[._]\d+)?/),r=e.match(/os (\d+[._]\d+[._]?\d*)/),o=e.match(/android (\d+(\.\d+)*)/);if(t){const e=t[1];return{"10.0":"10/11",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP"}[e]||e||"0"}return n?(n[1]||"").replace(/_/g,".")||"0":r?r[1].replace(/_/g,".")||"0":o&&o[1]||"0"})(i)};_&&A&&(j.safariVersion=(e=>{const t=e.match(new RegExp(/version\/(\d{0,2}.?){0,3} safari/));return t?t[0].replace(/version\//,"").replace(/ safari/,""):null})(i));const N={os:j,supports:{touch:"ontouchstart"in o,pointer:"PointerEvent"in o,passive:(()=>{const e=(0,r.getPageWindow)();let t=!1;const n={get passive(){t=!0}},o=()=>{};return e.addEventListener("test",o,n),e.removeEventListener("test",o,n),t})(),localStorage:(()=>{const e=(0,r.getPageWindow)();try{return e.localStorage.setItem("testLocalStorage","ok"),e.localStorage.removeItem("testLocalStorage"),!0}catch(e){return!1}})(),appleBusinessChat:E&&j.version>="10.15",iMessage:(C||b)&&j.version>="11.3",webAnimationsAPI:Boolean(o.KeyframeEffect),cssVariables:o.CSS&&o.CSS.supports("(--test: 0)")},device:P?"desktop":M?"tablet":"mobile",isNotSearchSpider:L,isWindows:l,isMac:E,isIos:C,isAndroid:d,isMobile:k,isTablet:M,isOpera:D,isOperaMini:T,isFirefox:w,isChrome:S,isChromeIos:O,isSafari:A,isEdge:I,isMobileOrTablet:x,isMobileOrChatpage:F,isDesktop:P,isChatPage:R,isWindowsPhone:u}},93765:function(e,t,n){"use strict";n.r(t),n.d(t,{kebabCase:function(){return r},replaceAll:function(){return o}});const r=e=>e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),o=(e,t,n)=>e.split(t).join(n)},45926:function(e,t,n){"use strict";n.r(t),n.d(t,{getCobrowseHash:function(){return l},getDocumentTitle:function(){return i},getPageWindow:function(){return o},getProtocol:function(){return a},hasExternalEmojiProcessor:function(){return s}});var r=n(19221);const o=()=>window.parent||window,i=()=>{const{document:{title:e}}=o();return"string"==typeof e?e:""},a=()=>{let e=o().location.protocol;return r.z$&&"http:"===e||["http","https"].includes(e)||(e="https:"),e},s=()=>{const e=o();return Boolean(e._wpemojiSettings||e.twemoji)},l=()=>{var e,t;return null===(t=null===(e=o().location.hash)||void 0===e?void 0:e.split("jvhs_"))||void 0===t?void 0:t[1]}},48373:function(e,t,n){"use strict";n.d(t,{D0:function(){return d},be:function(){return c},oz:function(){return f}});var r=n(45926),o=n(93765),i=n(40066);const a="en-US",s=["be","cs","da","de","el","en-US","es","fi","fr","id","it","ja","kk","nl","no","pl","pt","pt-BR","ro","ru-RU","sv","tr","uk","zh"];let l=null,u="";const c=()=>{if(l)return window.parent.tolgeet=l,l;const e=(0,i.xn)().use((0,i.lY)()).init({defaultLanguage:u||a,fallbackLanguage:a,staticData:s.reduce(((e,t)=>(e[t]=()=>n(99082)(`./${t}.json`).catch((()=>{const e=(0,r.getPageWindow)(),n=new CustomEvent("jvtolgeelocaleimporterror",{detail:{locale:t}});e.dispatchEvent(n)})),e)),{})});return l=e,l},d=e=>{const t=c(),n=t.getLanguage(),r=(0,o.replaceAll)(e,"_","-");n!==r&&t.changeLanguage(r)},f=e=>{e&&(u=(0,o.replaceAll)(e,"_","-"))}},18276:function(e,t,n){"use strict";n.r(t),n.d(t,{changeLocale:function(){return l},l10n:function(){return s},setDefaultLocale:function(){return i.oz},useL10N:function(){return u}});var r=n(45926),o=n(1451),i=n(48373);const a=(e,t)=>{const n=((e,t)=>{var n;const o=null===(n=(0,r.getPageWindow)().jivo_config)||void 0===n?void 0:n.custom_langpack;if(!o||!o[e])return e;let i=o[e].replace(/&quot;/g,'"').replace(/&#039;/g,"'");return t?(Object.keys(t).forEach((e=>{i=i.replace(`{${e}}`,String(t[e]))})),i):i})(e,t);return n===e?((e,t)=>{const n=(0,i.be)();return(t?n.t(e,t):n.t(e)).replace(/&nbsp;/g," ")})(e,t):n},s=(e,t)=>a(e,t),l=i.D0,u=()=>{const{t:e,isLoading:t}=(0,o.qM)();return{l10n:(t,n)=>{var o;const i=null===(o=(0,r.getPageWindow)().jivo_config)||void 0===o?void 0:o.custom_langpack;if(i&&i[t]){let e=i[t].replace(/&quot;/g,'"').replace(/&#039;/g,"'");return n?(Object.keys(n).forEach((t=>{e=e.replace(`{${t}}`,String(n[t]))})),e):e}return n?e(t,n):e(t)},isLoading:t}}},90061:function(e,t,n){"use strict";n.r(t),n.d(t,{createLogger:function(){return s},lastLogs:function(){return i},setLogsEnabled:function(){return l}});var r=n(19221);let o=!1;const i=[],a=(e,t,n)=>{const{name:a,style:s="",parentContext:l=!1}=n;if(l)return void window.parent.console[e].apply(window.parent.console,t);if(!o)return;let u=`[${a}]:`;"error"===e&&(u=`${u} ERROR`),(e=>{10===i.length&&i.shift(),i.push(e.toString().substring(0,60))})(t);const c=[u,...t];s&&!r.Mw&&c.unshift("%c%s",s),console[e].apply(console,c)},s=(e,t)=>({log:(...n)=>a("log",n,Object.assign({name:e},t)),info:(...n)=>a("info",n,Object.assign({name:e},t)),warn:(...n)=>a("warn",n,Object.assign({name:e},t)),error:(...n)=>a("error",n,Object.assign({name:e},t))}),l=e=>{o=e}},40300:function(e,t,n){"use strict";n.r(t),n.d(t,{defineTelemetry:function(){return c},getTelemetryState:function(){return u}});var r=n(45926),o=n(90061);const i={one:1,low:5,medium:10,high:15},a=(0,o.createLogger)("TELEMETRY_DEFINE"),s={},l=[],u=()=>({reportedEvents:s,lastEvents:l}),c=e=>(t,n,o)=>{5===l.length&&l.shift(),l.push(t.substring(0,60));const u=(0,r.getPageWindow)();if("sendBeacon"in u.navigator){if((null==o?void 0:o.once)&&s[t])return;if(!(!(null==o?void 0:o.probability)||Math.random()<=.01*i[o.probability]))return;u.navigator.sendBeacon(e,JSON.stringify(n)),s[t]||(s[t]=!0)}else a.warn("sendBeacon is not supported")}},53400:function(e,t,n){"use strict";n.r(t),n.d(t,{locator:function(){return o}});var r=n(19221);const o=e=>r.Mw||!e?void 0:{"data-qa-id":e}},99413:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},73189:function(e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},35045:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},29369:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},37666:function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(98661);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var d=a(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return a=t}return a=e}if(t=a,o(i,e))return t;var n=r(e);return void 0!==c&&c(t,n)?(i=e,t):(i=e,a=n)}var i,a,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,c]);var p=i(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=p}),[p]),u(p),p}},31103:function(e,t,n){"use strict";e.exports=n(37666)},99082:function(e,t,n){var r={"./be.json":[85418,375],"./cs.json":[49821,949],"./da.json":[92649,12],"./de.json":[52777,645],"./el.json":[65975,442],"./en-US.json":[65791,753],"./es.json":[7688,790],"./fi.json":[67572,16],"./fr.json":[23430,221],"./id.json":[24244,766],"./it.json":[24684,453],"./ja.json":[8266,346],"./kk.json":[28882,831],"./nl.json":[3067,131],"./no.json":[52736,722],"./pl.json":[36715,111],"./pt-BR.json":[8439,796],"./pt.json":[72235,702],"./ro.json":[46362,24],"./ru-RU.json":[69486,441],"./sv.json":[27824,13],"./tr.json":[49213,738],"./uk.json":[69497,994],"./zh.json":[41534,579]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,19)}))}o.keys=function(){return Object.keys(r)},o.id=99082,e.exports=o},10349:function(e,t,n){e.exports=n(27385)},98235:function(e,t,n){e.exports=n(81522)},19389:function(e,t,n){e.exports=n(32209)},48216:function(e,t,n){e.exports=n(14122)},51791:function(e,t,n){e.exports=n(69447)},35704:function(e,t,n){e.exports=n(81493)},54847:function(e,t,n){e.exports=n(86672)},67552:function(e,t,n){e.exports=n(60269)},3841:function(e,t,n){e.exports=n(76094)},57445:function(e,t,n){e.exports=n(73685)},88546:function(e,t,n){e.exports=n(27533)},39272:function(e,t,n){e.exports=n(74303)},92984:function(e,t,n){e.exports=n(55122)},24835:function(e,t,n){e.exports=n(10856)},25926:function(e,t,n){e.exports=n(31524)},52472:function(e,t,n){e.exports=n(86600)},48994:function(e,t,n){e.exports=n(9759)},64538:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},86765:function(e,t,n){var r=n(98235);e.exports=function(e){if(r(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},14869:function(e,t,n){var r=n(98235),o=n(64538);e.exports=function(e){if(r(e))return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7819:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},33119:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},55067:function(e,t,n){var r=n(48216),o=n(24835),i=n(64476),a=n(58612);function s(t,n,l){var u;a()?(e.exports=s=r(u=o).call(u),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=s=function(e,t,n){var o=[null];o.push.apply(o,t);var a=new(r(Function).apply(e,o));return n&&i(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports);return s.apply(null,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},92664:function(e,t,n){var r=n(57445);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),r(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},61125:function(e,t,n){var r=n(57445);e.exports=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},23101:function(e,t,n){var r=n(67552),o=n(48216);function i(){var t;return e.exports=i=r?o(t=r).call(t):function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},44775:function(e,t,n){var r=n(25926),o=n(48216),i=n(88546),a=n(26848);function s(){var t;"undefined"!=typeof Reflect&&r?(e.exports=s=o(t=r).call(t),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=s=function(e,t,n){var r=a(e,t);if(r){var o=i(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports);return s.apply(this,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},55536:function(e,t,n){var r=n(92984),o=n(48216),i=n(39272);function a(t){var n;return e.exports=a=r?o(n=i).call(n):function(e){return e.__proto__||i(e)},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},84827:function(e,t,n){var r=n(3841),o=n(57445),i=n(64476);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},17907:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},51617:function(e,t,n){var r=n(51791);e.exports=function(e){var t;return-1!==r(t=Function.toString.call(e)).call(t,"[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},58612:function(e,t,n){var r=n(24835);e.exports=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},53137:function(e,t,n){var r=n(52472),o=n(19389),i=n(10349);e.exports=function(e){if(void 0!==r&&null!=o(e)||null!=e["@@iterator"])return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4196:function(e,t,n){var r=n(52472),o=n(19389);e.exports=function(e,t){var n=null==e?null:void 0!==r&&o(e)||e["@@iterator"];if(null!=n){var i,a,s=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},56884:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},57636:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},85299:function(e,t,n){var r=n(20474).default,o=n(7819);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64476:function(e,t,n){var r=n(92984),o=n(48216);function i(t,n){var a;return e.exports=i=r?o(a=r).call(a):function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,i(t,n)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},67375:function(e,t,n){var r=n(86765),o=n(4196),i=n(38899),a=n(56884);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},26848:function(e,t,n){var r=n(55536);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},15687:function(e,t,n){var r=n(14869),o=n(53137),i=n(38899),a=n(57636);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},20474:function(e,t,n){var r=n(52472),o=n(48994);function i(t){return e.exports=i="function"==typeof r&&"symbol"==typeof o?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},38899:function(e,t,n){var r=n(35704),o=n(10349),i=n(64538);e.exports=function(e,t){var n;if(e){if("string"==typeof e)return i(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?o(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},51398:function(e,t,n){var r=n(54847),o=n(3841),i=n(55536),a=n(64476),s=n(51617),l=n(55067);function u(t){var n="function"==typeof r?new r:void 0;return e.exports=u=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return l(e,arguments,i(this).constructor)}return t.prototype=o(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,u(t)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},12316:function(e,t,n){"use strict";var r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,s=(e,t,n,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of i(t))!a.call(e,l)&&l!==n&&r(e,l,{get:()=>t[l],enumerable:!(s=o(t,l))||s.enumerable});return e},l={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(l,{ReducerType:()=>fe,SHOULD_AUTOBATCH:()=>j,TaskAbortError:()=>Ne,Tuple:()=>O,addListener:()=>ot,asyncThunkCreator:()=>de,autoBatchEnhancer:()=>U,buildCreateSlice:()=>ge,clearAllListeners:()=>it,combineSlices:()=>_t,configureStore:()=>W,createAction:()=>C,createActionCreatorInvariantMiddleware:()=>w,createAsyncThunk:()=>se,createDraftSafeSelector:()=>g,createDraftSafeSelectorCreator:()=>p,createDynamicMiddleware:()=>dt,createEntityAdapter:()=>Ie,createImmutableStateInvariantMiddleware:()=>M,createListenerMiddleware:()=>lt,createNextState:()=>u.produce,createReducer:()=>G,createSelector:()=>c.createSelector,createSelectorCreator:()=>c.createSelectorCreator,createSerializableStateInvariantMiddleware:()=>L,createSlice:()=>me,current:()=>u.current,findNonSerializableValue:()=>R,formatProdErrorMessage:()=>vt,freeze:()=>u.freeze,isActionCreator:()=>E,isAllOf:()=>Z,isAnyOf:()=>V,isAsyncThunkAction:()=>ee,isDraft:()=>u.isDraft,isFluxStandardAction:()=>D,isFulfilled:()=>Q,isImmutableDefault:()=>k,isPending:()=>Y,isPlain:()=>P,isRejected:()=>J,isRejectedWithValue:()=>X,lruMemoize:()=>c.lruMemoize,miniSerializeError:()=>ie,nanoid:()=>te,original:()=>u.original,prepareAutoBatched:()=>N,removeListener:()=>at,unwrapResult:()=>le,weakMapMemoize:()=>c.weakMapMemoize}),e.exports=(e=>s(r({},"__esModule",{value:!0}),e))(l),((e,t,n)=>{s(e,t,"default"),n&&s(n,t,"default")})(l,n(38543),e.exports);var u=n(53362),c=n(37482),d=n(53362),f=n(37482),p=(...e)=>{let t=(0,f.createSelectorCreator)(...e),n=Object.assign(((...e)=>{let n=t(...e),r=(e,...t)=>n((0,d.isDraft)(e)?(0,d.current)(e):e,...t);return Object.assign(r,n),r}),{withTypes:()=>n});return n},g=p(f.weakMapMemoize),h=n(38543),m=n(38543),_=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?m.compose:m.compose.apply(null,arguments)},v=(typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,n(81573)),y=n(38543),b=e=>e&&"function"==typeof e.match;function C(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(vt(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>(0,y.isAction)(t)&&t.type===e,n}function E(e){return"function"==typeof e&&"type"in e&&b(e)}function D(e){return(0,y.isAction)(e)&&Object.keys(e).every(T)}function T(e){return["type","payload","error","meta"].indexOf(e)>-1}function w(e={}){return()=>e=>t=>e(t)}var S=n(53362),O=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function A(e){return(0,S.isDraftable)(e)?(0,S.produce)(e,(()=>{})):e}function I(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function k(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function M(e={}){return()=>e=>t=>e(t)}var x=n(38543);function P(e){let t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||(0,x.isPlainObject)(e)}function R(e,t="",n=P,r,o=[],i){let a;if(!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e||i?.has(e))return!1;let s=null!=r?r(e):Object.entries(e),l=o.length>0;for(let[e,u]of s){let s=t?t+"."+e:e;if(!l||!o.some((e=>e instanceof RegExp?e.test(s):s===e))){if(!n(u))return{keyPath:s,value:u};if("object"==typeof u&&(a=R(u,s,n,r,o,i),a))return a}}return i&&F(e)&&i.add(e),!1}function F(e){if(!Object.isFrozen(e))return!1;for(let t of Object.values(e))if("object"==typeof t&&null!==t&&!F(t))return!1;return!0}function L(e={}){return()=>e=>t=>e(t)}var j="RTK_autoBatch",N=()=>e=>({payload:e,meta:{[j]:!0}}),B=e=>t=>{setTimeout(t,e)},U=(e={type:"raf"})=>t=>(...n)=>{let r=t(...n),o=!0,i=!1,a=!1,s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:B(10):"callback"===e.type?e.queueNotification:B(e.timeout),u=()=>{a=!1,i&&(i=!1,s.forEach((e=>e())))};return Object.assign({},r,{subscribe(e){let t=r.subscribe((()=>o&&e()));return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return o=!e?.meta?.[j],i=!o,i&&(a||(a=!0,l(u))),r.dispatch(e)}finally{o=!0}}})};function W(e){let t,n,r=function(e){let{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=e??{},i=new O;return t&&(function(e){return"boolean"==typeof e}(t)?i.push(v.thunk):i.push((0,v.withExtraArgument)(t.extraArgument))),i},{reducer:o,middleware:i,devTools:a=!0,preloadedState:s,enhancers:l}=e||{};if("function"==typeof o)t=o;else{if(!(0,h.isPlainObject)(o))throw new Error(vt(1));t=(0,h.combineReducers)(o)}n="function"==typeof i?i(r):r();let u=h.compose;a&&(u=_({trace:!1,..."object"==typeof a&&a}));let c=(e=>function(t){let{autoBatch:n=!0}=t??{},r=new O(e);return n&&r.push(U("object"==typeof n?n:void 0)),r})((0,h.applyMiddleware)(...n)),d=u(..."function"==typeof l?l(c):c());return(0,h.createStore)(t,s,d)}var H=n(53362);function z(e){let t,n={},r=[],o={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw new Error(vt(28));if(r in n)throw new Error(vt(29));return n[r]=t,o},addMatcher(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase(e){return t=e,o}};return e(o),[n,r,t]}function G(e,t){let n,[r,o,i]=z(t);if(function(e){return"function"==typeof e}(e))n=()=>A(e());else{let t=A(e);n=()=>t}function a(e=n(),t){let a=[r[t.type],...o.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];return 0===a.filter((e=>!!e)).length&&(a=[i]),a.reduce(((e,n)=>{if(n){if((0,H.isDraft)(e)){let r=n(e,t);return void 0===r?e:r}if((0,H.isDraftable)(e))return(0,H.produce)(e,(e=>n(e,t)));{let r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return a.getInitialState=n,a}var $=(e,t)=>b(e)?e.match(t):e(t);function V(...e){return t=>e.some((e=>$(e,t)))}function Z(...e){return t=>e.every((e=>$(e,t)))}function q(e,t){if(!e||!e.meta)return!1;let n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function K(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Y(...e){return 0===e.length?e=>q(e,["pending"]):K(e)?V(...e.map((e=>e.pending))):Y()(e[0])}function J(...e){return 0===e.length?e=>q(e,["rejected"]):K(e)?V(...e.map((e=>e.rejected))):J()(e[0])}function X(...e){let t=e=>e&&e.meta&&e.meta.rejectedWithValue;return 0===e.length||K(e)?Z(J(...e),t):X()(e[0])}function Q(...e){return 0===e.length?e=>q(e,["fulfilled"]):K(e)?V(...e.map((e=>e.fulfilled))):Q()(e[0])}function ee(...e){return 0===e.length?e=>q(e,["pending","fulfilled","rejected"]):K(e)?V(...e.flatMap((e=>[e.pending,e.rejected,e.fulfilled]))):ee()(e[0])}var te=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ne=["name","message","stack","code"],re=class{constructor(e,t){this.payload=e,this.meta=t}_type},oe=class{constructor(e,t){this.payload=e,this.meta=t}_type},ie=e=>{if("object"==typeof e&&null!==e){let t={};for(let n of ne)"string"==typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},ae="External signal was aborted",se=(()=>{function e(e,t,n){let r=C(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),o=C(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),i=C(e+"/rejected",((e,t,r,o,i)=>({payload:o,error:(n&&n.serializeError||ie)(e||"Rejected"),meta:{...i||{},arg:r,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e,{signal:a}={}){return(s,l,u)=>{let c,d,f=n?.idGenerator?n.idGenerator(e):te(),p=new AbortController;function g(e){d=e,p.abort()}a&&(a.aborted?g(ae):a.addEventListener("abort",(()=>g(ae)),{once:!0}));let h=async function(){let a;try{let i=n?.condition?.(e,{getState:l,extra:u});if(function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}(i)&&(i=await i),!1===i||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let h=new Promise(((e,t)=>{c=()=>{t({name:"AbortError",message:d||"Aborted"})},p.signal.addEventListener("abort",c)}));s(o(f,e,n?.getPendingMeta?.({requestId:f,arg:e},{getState:l,extra:u}))),a=await Promise.race([h,Promise.resolve(t(e,{dispatch:s,getState:l,extra:u,requestId:f,signal:p.signal,abort:g,rejectWithValue:(e,t)=>new re(e,t),fulfillWithValue:(e,t)=>new oe(e,t)})).then((t=>{if(t instanceof re)throw t;return t instanceof oe?r(t.payload,f,e,t.meta):r(t,f,e)}))])}catch(t){a=t instanceof re?i(null,f,e,t.payload,t.meta):i(t,f,e)}finally{c&&p.signal.removeEventListener("abort",c)}return n&&!n.dispatchConditionRejection&&i.match(a)&&a.meta.condition||s(a),a}();return Object.assign(h,{abort:g,requestId:f,arg:e,unwrap(){return h.then(le)}})}}),{pending:o,rejected:i,fulfilled:r,settled:V(i,r),typePrefix:e})}return e.withTypes=()=>e,e})();function le(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var ue,ce=Symbol.for("rtk-slice-createasyncthunk"),de={[ce]:se},fe=((ue=fe||{}).reducer="reducer",ue.reducerWithPrepare="reducerWithPrepare",ue.asyncThunk="asyncThunk",ue);function pe(e,t){return`${e}/${t}`}function ge({creators:e}={}){let t=e?.asyncThunk?.[ce];return function(e){let{name:n,reducerPath:r=n}=e;if(!n)throw new Error(vt(11));let o=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},i=Object.keys(o),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw new Error(vt(12));if(n in a.sliceCaseReducersByType)throw new Error(vt(13));return a.sliceCaseReducersByType[n]=t,s},addMatcher(e,t){return a.sliceMatchers.push({matcher:e,reducer:t}),s},exposeAction(e,t){return a.actionCreators[e]=t,s},exposeCaseReducer(e,t){return a.sliceCaseReducersByName[e]=t,s}};function l(){let[t={},n=[],r]="function"==typeof e.extraReducers?z(e.extraReducers):[e.extraReducers],o={...t,...a.sliceCaseReducersByType};return G(e.initialState,(e=>{for(let t in o)e.addCase(t,o[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}i.forEach((r=>{let i=o[r],a={reducerName:r,type:pe(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function({type:e,reducerName:t,createNotation:n},r,o){let i,a;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(vt(17));i=r.reducer,a=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?C(e,a):C(e))}(a,i,s):function({type:e,reducerName:t},n,r,o){if(!o)throw new Error(vt(18));let{payloadCreator:i,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,d=o(e,i,c);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:a||_e,pending:s||_e,rejected:l||_e,settled:u||_e})}(a,i,s,t)}));let u,c=e=>e,d=new Map;function f(e,t){return u||(u=l()),u(e,t)}function p(){return u||(u=l()),u.getInitialState()}function g(t,n=!1){function r(e){let r=e[t];return typeof r>"u"&&n&&(r=p()),r}function o(t=c){let r=I(d,n,(()=>new WeakMap));return I(r,t,(()=>{let r={};for(let[o,i]of Object.entries(e.selectors??{}))r[o]=he(i,t,p,n);return r}))}return{reducerPath:t,getSelectors:o,get selectors(){return o(r)},selectSlice:r}}let h={name:n,reducer:f,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:p,...g(r),injectInto(e,{reducerPath:t,...n}={}){let o=t??r;return e.inject({reducerPath:o,reducer:f},n),{...h,...g(o,!0)}}};return h}}function he(e,t,n,r){function o(o,...i){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...i)}return o.unwrapped=e,o}var me=ge();function _e(){}var ve=n(53362),ye=ve.isDraft;function be(e){let t=Ce(((t,n)=>e(n)));return function(e){return t(e,void 0)}}function Ce(e){return function(t,n){let r=t=>{!function(e){return D(e)}(n)?e(n,t):e(n.payload,t)};return ye(t)?(r(t),t):(0,ve.produce)(t,r)}}var Ee=n(53362);function De(e,t){return t(e)}function Te(e){return Array.isArray(e)||(e=Object.values(e)),e}function we(e){return(0,Ee.isDraft)(e)?(0,Ee.current)(e):e}function Se(e,t,n){e=Te(e);let r=we(n.ids),o=new Set(r),i=[],a=[];for(let n of e){let e=De(n,t);o.has(e)?a.push({id:e,changes:n}):i.push(n)}return[i,a,r]}function Oe(e){function t(t,n){let r=De(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){e=Te(e);for(let r of e)t(r,n)}function r(t,n){let r=De(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function o(e,t){let n=!1;e.forEach((e=>{e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((e=>e in t.entities)))}function i(t,n){let r={},o={};t.forEach((e=>{e.id in n.entities&&(o[e.id]={id:e.id,changes:{...o[e.id]?.changes,...e.changes}})})),(t=Object.values(o)).length>0&&t.filter((t=>function(t,n,r){let o=r.entities[n.id];if(void 0===o)return!1;let i=Object.assign({},o,n.changes),a=De(i,e),s=a!==n.id;return s&&(t[n.id]=a,delete r.entities[n.id]),r.entities[a]=i,s}(r,t,n))).length>0&&(n.ids=Object.values(n.entities).map((t=>De(t,e))))}function a(t,r){let[o,a]=Se(t,e,r);i(a,r),n(o,r)}return{removeAll:be((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:Ce(t),addMany:Ce(n),setOne:Ce(r),setMany:Ce((function(e,t){e=Te(e);for(let n of e)r(n,t)})),setAll:Ce((function(e,t){e=Te(e),t.ids=[],t.entities={},n(e,t)})),updateOne:Ce((function(e,t){return i([e],t)})),updateMany:Ce(i),upsertOne:Ce((function(e,t){return a([e],t)})),upsertMany:Ce(a),removeOne:Ce((function(e,t){return o([e],t)})),removeMany:Ce(o)}}function Ae(e,t,n){let r=function(e,t,n){let r=0,o=e.length;for(;r<o;){let i=r+o>>>1;n(t,e[i])>=0?r=i+1:o=i}return r}(e,t,n);return e.splice(r,0,t),e}function Ie(e={}){let{selectId:t,sortComparer:n}={sortComparer:!1,selectId:e=>e.id,...e},r=n?function(e,t){let{removeOne:n,removeMany:r,removeAll:o}=Oe(e);function i(t,n,r){t=Te(t);let o=new Set(r??we(n.ids)),i=t.filter((t=>!o.has(De(t,e))));0!==i.length&&u(n,i)}function a(t,n){if(0!==(t=Te(t)).length){for(let r of t)delete n.entities[e(r)];u(n,t)}}function s(t,n){let r=!1,o=!1;for(let i of t){let t=n.entities[i.id];if(!t)continue;r=!0,Object.assign(t,i.changes);let a=e(t);if(i.id!==a){o=!0,delete n.entities[i.id];let e=n.ids.indexOf(i.id);n.ids[e]=a,n.entities[a]=t}}r&&u(n,[],r,o)}function l(t,n){let[r,o,a]=Se(t,e,n);o.length&&s(o,n),r.length&&i(r,n,a)}let u=(n,r,o,i)=>{let a=we(n.entities),s=we(n.ids),l=n.entities,u=s;i&&(u=new Set(s));let c=[];for(let e of u){let t=a[e];t&&c.push(t)}let d=0===c.length;for(let n of r)l[e(n)]=n,d||Ae(c,n,t);d?c=r.slice().sort(t):o&&c.sort(t);let f=c.map(e);(function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(s,f)||(n.ids=f)};return{removeOne:n,removeMany:r,removeAll:o,addOne:Ce((function(e,t){return i([e],t)})),updateOne:Ce((function(e,t){return s([e],t)})),upsertOne:Ce((function(e,t){return l([e],t)})),setOne:Ce((function(e,t){return a([e],t)})),setMany:Ce(a),setAll:Ce((function(e,t){e=Te(e),t.entities={},t.ids=[],i(e,t,[])})),addMany:Ce(i),updateMany:Ce(s),upsertMany:Ce(l)}}(t,n):Oe(t),o=function(e){return{getInitialState:function(t={},n){let r=Object.assign({ids:[],entities:{}},t);return n?e.setAll(r,n):r}}}(r),i={getSelectors:function(e,t={}){let{createSelector:n=g}=t,r=e=>e.ids,o=e=>e.entities,i=n(r,o,((e,t)=>e.map((e=>t[e])))),a=(e,t)=>t,s=(e,t)=>e[t],l=n(r,(e=>e.length));if(!e)return{selectIds:r,selectEntities:o,selectAll:i,selectTotal:l,selectById:n(o,a,s)};let u=n(e,o);return{selectIds:n(e,r),selectEntities:u,selectAll:n(e,i),selectTotal:n(e,l),selectById:n(u,a,s)}}};return{selectId:t,sortComparer:n,...o,...i,...r}}var ke=n(38543),Me="listener",xe="completed",Pe="cancelled",Re=`task-${Pe}`,Fe=`task-${xe}`,Le=`${Me}-${Pe}`,je=`${Me}-${xe}`,Ne=class{constructor(e){this.code=e,this.message=`task ${Pe} (reason: ${e})`}name="TaskAbortError";message},Be=(e,t)=>{if("function"!=typeof e)throw new TypeError(vt(32))},Ue=()=>{},We=(e,t=Ue)=>(e.catch(t),e),He=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ze=(e,t)=>{let n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ge=e=>{if(e.aborted){let{reason:t}=e;throw new Ne(t)}};function $e(e,t){let n=Ue;return new Promise(((r,o)=>{let i=()=>o(new Ne(e.reason));e.aborted?i():(n=He(e,i),t.finally((()=>n())).then(r,o))})).finally((()=>{n=Ue}))}var Ve=e=>t=>We($e(e,t).then((t=>(Ge(e),t)))),Ze=e=>{let t=Ve(e);return e=>t(new Promise((t=>setTimeout(t,e))))},{assign:qe}=Object,Ke={},Ye="listenerMiddleware",Je=(e,t)=>(n,r)=>{Be(n);let o=new AbortController;(t=>{He(e,(()=>ze(t,e.reason)))})(o);let i=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(e){return{status:e instanceof Ne?"cancelled":"rejected",error:e}}finally{t?.()}})((async()=>{Ge(e),Ge(o.signal);let t=await n({pause:Ve(o.signal),delay:Ze(o.signal),signal:o.signal});return Ge(o.signal),t}),(()=>ze(o,Fe)));return r?.autoJoin&&t.push(i.catch(Ue)),{result:Ve(e)(i),cancel(){ze(o,Re)}}},Xe=(e,t)=>(n,r)=>We((async(n,r)=>{Ge(t);let o=()=>{},i=[new Promise(((t,r)=>{let i=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});o=()=>{i(),r()}}))];null!=r&&i.push(new Promise((e=>setTimeout(e,r,null))));try{let e=await $e(t,Promise.race(i));return Ge(t),e}finally{o()}})(n,r)),Qe=e=>{let{type:t,actionCreator:n,matcher:r,predicate:o,effect:i}=e;if(t)o=C(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(vt(21));return Be(i),{predicate:o,type:t,effect:i}},et=qe((e=>{let{type:t,predicate:n,effect:r}=Qe(e);return{id:te(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vt(22))}}}),{withTypes:()=>et}),tt=(e,t)=>{let{type:n,effect:r,predicate:o}=Qe(t);return Array.from(e.values()).find((e=>("string"==typeof n?e.type===n:e.predicate===o)&&e.effect===r))},nt=e=>{e.pending.forEach((e=>{ze(e,Le)}))},rt=(e,t,n)=>{try{e(t,n)}catch(e){setTimeout((()=>{throw e}),0)}},ot=qe(C(`${Ye}/add`),{withTypes:()=>ot}),it=C(`${Ye}/removeAll`),at=qe(C(`${Ye}/remove`),{withTypes:()=>at}),st=(...e)=>{console.error(`${Ye}/error`,...e)},lt=(e={})=>{let t=new Map,{extra:n,onError:r=st}=e;Be(r);let o=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&nt(e)}))(tt(t,e)??et(e));qe(o,{withTypes:()=>o});let i=e=>{let n=tt(t,e);return n&&(n.unsubscribe(),e.cancelActive&&nt(n)),!!n};qe(i,{withTypes:()=>i});let a=async(e,i,a,s)=>{let l=new AbortController,u=Xe(o,l.signal),c=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,qe({},a,{getOriginalState:s,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:Ze(l.signal),pause:Ve(l.signal),extra:n,signal:l.signal,fork:Je(l.signal,c),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach(((e,t,n)=>{e!==l&&(ze(e,Le),n.delete(e))}))},cancel:()=>{ze(l,Le),e.pending.delete(l)},throwIfCancelled:()=>{Ge(l.signal)}})))}catch(e){e instanceof Ne||rt(r,e,{raisedBy:"effect"})}finally{await Promise.all(c),ze(l,je),e.pending.delete(l)}},s=(e=>()=>{e.forEach(nt),e.clear()})(t);return{middleware:e=>n=>l=>{if(!(0,ke.isAction)(l))return n(l);if(ot.match(l))return o(l.payload);if(it.match(l))return void s();if(at.match(l))return i(l.payload);let u,c=e.getState(),d=()=>{if(c===Ke)throw new Error(vt(23));return c};try{if(u=n(l),t.size>0){let n=e.getState(),o=Array.from(t.values());for(let t of o){let o=!1;try{o=t.predicate(l,n,c)}catch(e){o=!1,rt(r,e,{raisedBy:"predicate"})}o&&a(t,l,e,d)}}}finally{c=Ke}return u},startListening:o,stopListening:i,clearListeners:s}},ut=n(38543),ct=e=>({middleware:e,applied:new Map}),dt=()=>{let e=te(),t=new Map,n=Object.assign(C("dynamicMiddleware/add",((...t)=>({payload:t,meta:{instanceId:e}}))),{withTypes:()=>n}),r=Object.assign((function(...e){e.forEach((e=>{I(t,e,ct)}))}),{withTypes:()=>r}),o=Z(n,(e=>t=>t?.meta?.instanceId===e)(e));return{middleware:e=>n=>i=>o(i)?(r(...i.payload),e.dispatch):(e=>{let n=Array.from(t.values()).map((t=>I(t.applied,e,t.middleware)));return(0,ut.compose)(...n)})(e)(n)(i),addMiddleware:r,withMiddleware:n,instanceId:e}},ft=n(38543),pt=Symbol.for("rtk-state-proxy-original"),gt=new WeakMap,ht=e=>{if(!(e=>!!e&&!!e[pt])(e))throw new Error(vt(25));return e[pt]},mt=(e={})=>e;function _t(...e){let t=Object.fromEntries((e=>e.flatMap((e=>(e=>"reducerPath"in e&&"string"==typeof e.reducerPath)(e)?[[e.reducerPath,e.reducer]]:Object.entries(e))))(e)),n=()=>Object.keys(t).length?(0,ft.combineReducers)(t):mt,r=n();function o(e,t){return r(e,t)}o.withLazyLoadedSlices=()=>o;let i=Object.assign((function(e,n){return function(r,...o){return e(((e,t)=>I(gt,e,(()=>new Proxy(e,{get:(e,n,r)=>{if(n===pt)return e;let o=Reflect.get(e,n,r);if(typeof o>"u"){let e=t[n.toString()];if(e){let t=e(void 0,{type:te()});if(typeof t>"u")throw new Error(vt(24));return t}}return o}}))))(n?n(r,...o):r,t),...o)}}),{original:ht});return Object.assign(o,{inject:(e,i={})=>{let{reducerPath:a,reducer:s}=e,l=t[a];return!i.overrideExisting&&l&&l!==s||(t[a]=s,r=n()),o},selector:i})}function vt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}},66280:function(e){"use strict";function t(e){return null===e?"null":typeof e}function n(e){return!!e&&"object"==typeof e}function r(e){if(void 0===e)return"";if(null===e)return"Object";if("object"==typeof e&&!e.constructor)return"Object";var t=/function ([^(]*)/.exec(e.constructor.toString());return t&&t.length>1?t[1]:""}function o(e,t,n){return"null"===e||"undefined"===e?e:("string"!==e&&"stringifiable"!==e||(n='"'+n.replace(/"/g,'\\"')+'"'),"function"===e?t.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{…}":n)}function i(e){var i="";return n(e)?(i=r(e),Array.isArray(e)&&(i+="["+e.length+"]")):i=o(t(e),e,e),i}function a(e){return"json-formatter-".concat(e)}function s(e,t,n){var r=document.createElement(e);return t&&r.classList.add(a(t)),void 0!==n&&(n instanceof Node?r.appendChild(n):r.appendChild(document.createTextNode(String(n)))),r}!function(e){if("undefined"!=typeof window){var t=document.createElement("style");t.setAttribute("media","screen"),t.innerHTML=e,document.head.appendChild(t)}}('.json-formatter-row {\n  font-family: monospace;\n}\n.json-formatter-row,\n.json-formatter-row a,\n.json-formatter-row a:hover {\n  color: black;\n  text-decoration: none;\n}\n.json-formatter-row .json-formatter-row {\n  margin-left: 1rem;\n}\n.json-formatter-row .json-formatter-children.json-formatter-empty {\n  opacity: 0.5;\n  margin-left: 1rem;\n}\n.json-formatter-row .json-formatter-children.json-formatter-empty:after {\n  display: none;\n}\n.json-formatter-row .json-formatter-children.json-formatter-empty.json-formatter-object:after {\n  content: "No properties";\n}\n.json-formatter-row .json-formatter-children.json-formatter-empty.json-formatter-array:after {\n  content: "[]";\n}\n.json-formatter-row .json-formatter-string,\n.json-formatter-row .json-formatter-stringifiable {\n  color: green;\n  white-space: pre;\n  word-wrap: break-word;\n}\n.json-formatter-row .json-formatter-number {\n  color: blue;\n}\n.json-formatter-row .json-formatter-boolean {\n  color: red;\n}\n.json-formatter-row .json-formatter-null {\n  color: #855a00;\n}\n.json-formatter-row .json-formatter-undefined {\n  color: #ca0b69;\n}\n.json-formatter-row .json-formatter-function {\n  color: #FF20ED;\n}\n.json-formatter-row .json-formatter-date {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.json-formatter-row .json-formatter-url {\n  text-decoration: underline;\n  color: blue;\n  cursor: pointer;\n}\n.json-formatter-row .json-formatter-bracket {\n  color: blue;\n}\n.json-formatter-row .json-formatter-key {\n  color: #00008b;\n  padding-right: 0.2rem;\n}\n.json-formatter-row .json-formatter-toggler-link {\n  cursor: pointer;\n}\n.json-formatter-row .json-formatter-toggler {\n  line-height: 1.2rem;\n  font-size: 0.7rem;\n  vertical-align: middle;\n  opacity: 0.6;\n  cursor: pointer;\n  padding-right: 0.2rem;\n}\n.json-formatter-row .json-formatter-toggler:after {\n  display: inline-block;\n  transition: transform 100ms ease-in;\n  content: "►";\n}\n.json-formatter-row > a > .json-formatter-preview-text {\n  opacity: 0;\n  transition: opacity 0.15s ease-in;\n  font-style: italic;\n}\n.json-formatter-row:hover > a > .json-formatter-preview-text {\n  opacity: 0.6;\n}\n.json-formatter-row.json-formatter-open > .json-formatter-toggler-link .json-formatter-toggler:after {\n  transform: rotate(90deg);\n}\n.json-formatter-row.json-formatter-open > .json-formatter-children:after {\n  display: inline-block;\n}\n.json-formatter-row.json-formatter-open > a > .json-formatter-preview-text {\n  display: none;\n}\n.json-formatter-row.json-formatter-open.json-formatter-empty:after {\n  display: block;\n}\n.json-formatter-dark.json-formatter-row {\n  font-family: monospace;\n}\n.json-formatter-dark.json-formatter-row,\n.json-formatter-dark.json-formatter-row a,\n.json-formatter-dark.json-formatter-row a:hover {\n  color: white;\n  text-decoration: none;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-row {\n  margin-left: 1rem;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-children.json-formatter-empty {\n  opacity: 0.5;\n  margin-left: 1rem;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-children.json-formatter-empty:after {\n  display: none;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-children.json-formatter-empty.json-formatter-object:after {\n  content: "No properties";\n}\n.json-formatter-dark.json-formatter-row .json-formatter-children.json-formatter-empty.json-formatter-array:after {\n  content: "[]";\n}\n.json-formatter-dark.json-formatter-row .json-formatter-string,\n.json-formatter-dark.json-formatter-row .json-formatter-stringifiable {\n  color: #31f031;\n  white-space: pre;\n  word-wrap: break-word;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-number {\n  color: #66c2ff;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-boolean {\n  color: #EC4242;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-null {\n  color: #EEC97D;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-undefined {\n  color: #ef8fbe;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-function {\n  color: #FD48CB;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-date {\n  background-color: rgba(255, 255, 255, 0.05);\n}\n.json-formatter-dark.json-formatter-row .json-formatter-url {\n  text-decoration: underline;\n  color: #027bff;\n  cursor: pointer;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-bracket {\n  color: #9494ff;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-key {\n  color: #23a0db;\n  padding-right: 0.2rem;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-toggler-link {\n  cursor: pointer;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-toggler {\n  line-height: 1.2rem;\n  font-size: 0.7rem;\n  vertical-align: middle;\n  opacity: 0.6;\n  cursor: pointer;\n  padding-right: 0.2rem;\n}\n.json-formatter-dark.json-formatter-row .json-formatter-toggler:after {\n  display: inline-block;\n  transition: transform 100ms ease-in;\n  content: "►";\n}\n.json-formatter-dark.json-formatter-row > a > .json-formatter-preview-text {\n  opacity: 0;\n  transition: opacity 0.15s ease-in;\n  font-style: italic;\n}\n.json-formatter-dark.json-formatter-row:hover > a > .json-formatter-preview-text {\n  opacity: 0.6;\n}\n.json-formatter-dark.json-formatter-row.json-formatter-open > .json-formatter-toggler-link .json-formatter-toggler:after {\n  transform: rotate(90deg);\n}\n.json-formatter-dark.json-formatter-row.json-formatter-open > .json-formatter-children:after {\n  display: inline-block;\n}\n.json-formatter-dark.json-formatter-row.json-formatter-open > a > .json-formatter-preview-text {\n  display: none;\n}\n.json-formatter-dark.json-formatter-row.json-formatter-open.json-formatter-empty:after {\n  display: block;\n}\n');var l=/(^\d{1,4}[\.|\\/|-]\d{1,2}[\.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/,u=/\d{2}:\d{2}:\d{2} GMT-\d{4}/,c=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,d=/^https?:\/\//,f=window.requestAnimationFrame||function(e){return e(),0},p={hoverPreviewEnabled:!1,hoverPreviewArrayCount:100,hoverPreviewFieldCount:5,animateOpen:!0,animateClose:!0,theme:null,useToJSON:!0,sortPropertiesBy:null,maxArrayItems:100,exposePath:!1},g=function(){function e(e,t,n,r,o,i,a){void 0===t&&(t=1),void 0===n&&(n=p),void 0===i&&(i=[]),this.json=e,this.open=t,this.config=n,this.key=r,this.displayKey=o,this.path=i,this.arrayRange=a,this._isOpen=null,void 0===this.config.hoverPreviewEnabled&&(this.config.hoverPreviewEnabled=p.hoverPreviewEnabled),void 0===this.config.hoverPreviewArrayCount&&(this.config.hoverPreviewArrayCount=p.hoverPreviewArrayCount),void 0===this.config.hoverPreviewFieldCount&&(this.config.hoverPreviewFieldCount=p.hoverPreviewFieldCount),void 0===this.config.useToJSON&&(this.config.useToJSON=p.useToJSON),void 0===this.config.maxArrayItems&&(this.config.maxArrayItems=p.maxArrayItems),""===this.key&&(this.key='""'),void 0===this.displayKey&&(this.displayKey=this.key)}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return null!==this._isOpen?this._isOpen:this.open>0},set:function(e){this._isOpen=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDate",{get:function(){return this.json instanceof Date||"string"===this.type&&(l.test(this.json)||c.test(this.json)||u.test(this.json))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUrl",{get:function(){return"string"===this.type&&d.test(this.json)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isArray",{get:function(){return Array.isArray(this.json)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLargeArray",{get:function(){return this.isArray&&this.json.length>this.config.maxArrayItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isArrayRange",{get:function(){return this.isArray&&void 0!==this.arrayRange&&2==this.arrayRange.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isObject",{get:function(){return n(this.json)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmptyObject",{get:function(){return!this.keys.length&&!this.isArray},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.isEmptyObject||this.keys&&!this.keys.length&&this.isArray},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useToJSON",{get:function(){return this.config.useToJSON&&"stringifiable"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasKey",{get:function(){return void 0!==this.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constructorName",{get:function(){return r(this.json)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.config.useToJSON&&this.json&&this.json.toJSON?"stringifiable":t(this.json)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){if(this.isObject){var e=Object.keys(this.json);if(this.isLargeArray){var t=Math.ceil(this.json.length/this.config.maxArrayItems);e=[];for(var n=0;n<t;n++){var r=n*this.config.maxArrayItems,o=Math.min(this.json.length-1,r+(this.config.maxArrayItems-1));e.push("".concat(r," … ").concat(o))}}return!this.isArray&&this.config.sortPropertiesBy?e.sort(this.config.sortPropertiesBy):e}return[]},enumerable:!1,configurable:!0}),e.prototype.toggleOpen=function(){this.isOpen=!this.isOpen,this.element&&(this.isOpen?this.appendChildren(this.config.animateOpen):this.removeChildren(this.config.animateClose),this.element.classList.toggle(a("open")))},e.prototype.openAtDepth=function(e){void 0===e&&(e=1),e<0||(this.open=e,this.isOpen=0!==e,this.element&&(this.removeChildren(!1),0===e?this.element.classList.remove(a("open")):(this.appendChildren(this.config.animateOpen),this.element.classList.add(a("open")))))},e.prototype.getInlinepreview=function(){var e=this;if(this.isArray)return this.json.length>this.config.hoverPreviewArrayCount?"Array[".concat(this.json.length,"]"):"[".concat(this.json.map(i).join(", "),"]");var t=this.keys,n=t.slice(0,this.config.hoverPreviewFieldCount).map((function(t){return"".concat(t,":").concat(i(e.json[t]))})),r=t.length>=this.config.hoverPreviewFieldCount?"…":"";return"{".concat(n.join(", ")).concat(r,"}")},e.prototype.render=function(){this.element=s("div","row");var e=this.isObject?s("a","toggler-link"):s("span");if(this.isObject&&!this.useToJSON&&e.appendChild(s("span","toggler")),this.isArrayRange?e.appendChild(s("span","range","[".concat(this.displayKey,"]"))):this.hasKey&&(e.appendChild(s("span","key","".concat(this.displayKey,":"))),this.config.exposePath&&(this.element.dataset.path=JSON.stringify(this.path))),this.isObject&&!this.useToJSON){var t=s("span","value"),n=s("span");if(!this.isArrayRange){var r=s("span","constructor-name",this.constructorName);n.appendChild(r)}if(this.isArray&&!this.isArrayRange){var i=s("span");i.appendChild(s("span","bracket","[")),i.appendChild(s("span","number",this.json.length)),i.appendChild(s("span","bracket","]")),n.appendChild(i)}t.appendChild(n),e.appendChild(t)}else{(t=this.isUrl?s("a"):s("span")).classList.add(a(this.type)),this.isDate&&t.classList.add(a("date")),this.isUrl&&(t.classList.add(a("url")),t.setAttribute("href",this.json));var l=o(this.type,this.json,this.useToJSON?this.json.toJSON():this.json);t.appendChild(document.createTextNode(l)),e.appendChild(t)}if(this.isObject&&this.config.hoverPreviewEnabled){var u=s("span","preview-text");u.appendChild(document.createTextNode(this.getInlinepreview())),e.appendChild(u)}var c=s("div","children");return this.isObject&&c.classList.add(a("object")),this.isArray&&c.classList.add(a("array")),this.isEmpty&&c.classList.add(a("empty")),this.config&&this.config.theme&&this.element.classList.add(a(this.config.theme)),this.isOpen&&this.element.classList.add(a("open")),this.element.appendChild(e),this.element.appendChild(c),this.isObject&&this.isOpen&&this.appendChildren(),this.isObject&&!this.useToJSON&&e.addEventListener("click",this.toggleOpen.bind(this)),this.element},e.prototype.appendChildren=function(t){var n=this;void 0===t&&(t=!1);var r=this.element.querySelector("div.".concat(a("children")));if(r&&!this.isEmpty){var o=function(t,o){var i=n.isLargeArray?[o*n.config.maxArrayItems,Math.min(n.json.length-1,o*n.config.maxArrayItems+(n.config.maxArrayItems-1))]:void 0,a=n.isArrayRange?(n.arrayRange[0]+o).toString():t,s=new e(i?n.json.slice(i[0],i[1]+1):n.json[t],n.open-1,n.config,t,a,i?n.path:n.path.concat(a),i);r.appendChild(s.render())};if(t){var i=0,s=function(){var e=n.keys[i];o(e,i),(i+=1)<n.keys.length&&(i>10?s():f(s))};f(s)}else this.keys.forEach((function(e,t){return o(e,t)}))}},e.prototype.removeChildren=function(e){void 0===e&&(e=!1);var t=this.element.querySelector("div.".concat(a("children")));if(e){var n=0,r=function(){t&&t.children.length&&(t.removeChild(t.children[0]),(n+=1)>10?r():f(r))};f(r)}else t&&(t.innerHTML="")},e}();e.exports=g},1091:function(e,t,n){"use strict";var r=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))!l.call(e,s)&&s!==n&&o(e,s,{get:()=>t[s],enumerable:!(r=i(t,s))||r.enumerable});return e},c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{Provider:()=>se,ReactReduxContext:()=>ne,batch:()=>ve,connect:()=>ae,createDispatchHook:()=>fe,createSelectorHook:()=>me,createStoreHook:()=>ce,shallowEqual:()=>W,useDispatch:()=>pe,useSelector:()=>_e,useStore:()=>de}),e.exports=(e=>u(o({},"__esModule",{value:!0}),e))(c);var d=((e,t,n)=>(n=null!=e?r(s(e)):{},u(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)))(n(98661)),f=d.version.startsWith("19"),p=Symbol.for(f?"react.transitional.element":"react.element"),g=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=b,S=D;function O(e){return function(e){if("object"==typeof e&&null!==e){let{$$typeof:t}=e;switch(t){case p:switch(e=e.type){case h:case _:case m:case C:case E:return e;default:switch(e=e&&e.$$typeof){case y:case b:case T:case D:case v:return e;default:return t}}case g:return t}}}(e)===D}function A(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:i,areStatePropsEqual:a}){let s,l,u,c,d,f=!1;function p(f,p){let g=!i(p,l),h=!o(f,s,p,l);return s=f,l=p,g&&h?(u=e(s,l),t.dependsOnOwnProps&&(c=t(r,l)),d=n(u,c,l),d):g?(e.dependsOnOwnProps&&(u=e(s,l)),t.dependsOnOwnProps&&(c=t(r,l)),d=n(u,c,l),d):h?function(){let t=e(s,l),r=!a(t,u);return u=t,r&&(d=n(u,c,l)),d}():d}return function(o,i){return f?p(o,i):function(o,i){return s=o,l=i,u=e(s,l),c=t(r,l),d=n(u,c,l),f=!0,d}(o,i)}}function I(e){return function(t){let n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function k(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function M(e,t){return function(t,{displayName:n}){let r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=k(e);let o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=k(o),o=r(t,n)),o},r}}function x(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function P(e,t,n){return{...n,...e,...t}}function R(e){e()}var F={notify(){},get:()=>[]};function L(e,t){let n,r=F,o=0,i=!1;function a(){u.onStateChange&&u.onStateChange()}function s(){o++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){R((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0,o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||null===e||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function l(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=F)}let u={addNestedSub:function(e){s();let t=r.subscribe(e),n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return u}var j=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N=typeof navigator<"u"&&"ReactNative"===navigator.product,B=j||N?d.useLayoutEffect:d.useEffect;function U(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function W(e,t){if(U(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!U(e[n[r]],t[n[r]]))return!1;return!0}var H={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},z={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},G={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$={[w]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[S]:G};function V(e){return O(e)?G:$[e.$$typeof]||H}var Z=Object.defineProperty,q=Object.getOwnPropertyNames,K=Object.getOwnPropertySymbols,Y=Object.getOwnPropertyDescriptor,J=Object.getPrototypeOf,X=Object.prototype;function Q(e,t){if("string"!=typeof t){if(X){let n=J(t);n&&n!==X&&Q(e,n)}let n=q(t);K&&(n=n.concat(K(t)));let r=V(e),o=V(t);for(let i=0;i<n.length;++i){let a=n[i];if(!(z[a]||o&&o[a]||r&&r[a])){let n=Y(t,a);try{Z(e,a,n)}catch{}}}}return e}var ee=Symbol.for("react-redux-context"),te=typeof globalThis<"u"?globalThis:{};var ne=function(){if(!d.createContext)return{};let e=te[ee]??=new Map,t=e.get(d.createContext);return t||(t=d.createContext(null),e.set(d.createContext,t)),t}(),re=[null,null];function oe(e,t,n,r,o,i){e.current=r,n.current=!1,o.current&&(o.current=null,i())}function ie(e,t){return e===t}var ae=function(e,t,n,{pure:r,areStatesEqual:o=ie,areOwnPropsEqual:i=W,areStatePropsEqual:a=W,areMergedPropsEqual:s=W,forwardRef:l=!1,context:u=ne}={}){let c=u,f=function(e){return e?"function"==typeof e?M(e):x(e,"mapStateToProps"):I((()=>({})))}(e),p=function(e){return e&&"object"==typeof e?I((t=>function(e,t){let n={};for(let r in e){let o=e[r];"function"==typeof o&&(n[r]=(...e)=>t(o(...e)))}return n}(e,t))):e?"function"==typeof e?M(e):x(e,"mapDispatchToProps"):I((e=>({dispatch:e})))}(t),g=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:n,areMergedPropsEqual:r}){let o,i=!1;return function(t,n,a){let s=e(t,n,a);return i?r(s,o)||(o=s):(i=!0,o=s),o}}}(e):x(e,"mergeProps"):()=>P}(n),h=!!e;return e=>{let t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:h,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:g,areStatesEqual:o,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:s};function u(t){let[n,o,i]=d.useMemo((()=>{let{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),a=d.useMemo((()=>{let e=c;return n?.Consumer,e}),[n,c]),s=d.useContext(a),l=!!t.store&&!!t.store.getState&&!!t.store.dispatch,u=!!s&&!!s.store,f=l?t.store:s.store,p=u?s.getServerState:f.getState,g=d.useMemo((()=>function(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...o}){return A(t(e,o),n(e,o),r(e,o),e,o)}(f.dispatch,r)),[f]),[m,_]=d.useMemo((()=>{if(!h)return re;let e=L(f,l?void 0:s.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,l,s]),v=d.useMemo((()=>l?s:{...s,subscription:m}),[l,s,m]),y=d.useRef(void 0),b=d.useRef(i),C=d.useRef(void 0),E=d.useRef(!1),D=d.useRef(!1),T=d.useRef(void 0);B((()=>(D.current=!0,()=>{D.current=!1})),[]);let w,S=d.useMemo((()=>()=>C.current&&i===b.current?C.current:g(f.getState(),i)),[f,i]),O=d.useMemo((()=>e=>m?function(e,t,n,r,o,i,a,s,l,u,c){if(!e)return()=>{};let d=!1,f=null,p=()=>{if(d||!s.current)return;let e,n,p=t.getState();try{e=r(p,o.current)}catch(e){n=e,f=e}n||(f=null),e===i.current?a.current||u():(i.current=e,l.current=e,a.current=!0,c())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}(h,f,m,g,b,y,E,D,C,_,e):()=>{}),[m]);!function(e,t,n){B((()=>e(...t)),n)}(oe,[b,y,E,i,C,_]);try{w=d.useSyncExternalStore(O,S,p?()=>g(p(),i):S)}catch(e){throw T.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${T.current.stack}\n\n`),e}B((()=>{T.current=void 0,C.current=void 0,y.current=w}));let I=d.useMemo((()=>d.createElement(e,{...w,ref:o})),[o,e,w]);return d.useMemo((()=>h?d.createElement(a.Provider,{value:v},I):I),[a,I,v])}let m=d.memo(u);if(m.WrappedComponent=e,m.displayName=u.displayName=n,l){let t=d.forwardRef((function(e,t){return d.createElement(m,{...e,reactReduxForwardedRef:t})}));return t.displayName=n,t.WrappedComponent=e,Q(t,e)}return Q(m,e)}};var se=function(e){let{children:t,context:n,serverState:r,store:o}=e,i=d.useMemo((()=>{let e=L(o);return{store:o,subscription:e,getServerState:r?()=>r:void 0}}),[o,r]),a=d.useMemo((()=>o.getState()),[o]);return B((()=>{let{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[i,a]),d.createElement((n||ne).Provider,{value:i},t)};function le(e=ne){return function(){return d.useContext(e)}}var ue=le();function ce(e=ne){let t=e===ne?ue:le(e),n=()=>{let{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var de=ce();function fe(e=ne){let t=e===ne?de:ce(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var pe=fe(),ge=n(31103),he=(e,t)=>e===t;function me(e=ne){let t=e===ne?ue:le(e),n=(e,n={})=>{let{equalityFn:r=he}="function"==typeof n?{equalityFn:n}:n,o=t(),{store:i,subscription:a,getServerState:s}=o,l=(d.useRef(!0),d.useCallback({[e.name](t){return e(t)}}[e.name],[e])),u=(0,ge.useSyncExternalStoreWithSelector)(a.addNestedSub,i.getState,s||i.getState,l,r);return d.useDebugValue(u),u};return Object.assign(n,{withTypes:()=>n}),n}var _e=me(),ve=R},81573:function(e){"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};function s(e){return({dispatch:t,getState:n})=>r=>o=>"function"==typeof o?o(t,n,e):r(o)}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{thunk:()=>l,withExtraArgument:()=>u}),e.exports=(t=a,((e,t,a,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))i.call(e,l)||l===a||n(e,l,{get:()=>t[l],enumerable:!(s=r(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),t));var l=s(),u=s},38543:function(e){"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};function s(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{__DO_NOT_USE__ActionTypes:()=>c,applyMiddleware:()=>v,bindActionCreators:()=>m,combineReducers:()=>g,compose:()=>_,createStore:()=>f,isAction:()=>y,isPlainObject:()=>d,legacy_createStore:()=>p}),e.exports=(t=a,((e,t,a,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))i.call(e,l)||l===a||n(e,l,{get:()=>t[l],enumerable:!(s=r(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),t));var l=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),u=()=>Math.random().toString(36).substring(7).split("").join("."),c={INIT:`@@redux/INIT${u()}`,REPLACE:`@@redux/REPLACE${u()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${u()}`};function d(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function f(e,t,n){if("function"!=typeof e)throw new Error(s(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(s(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(s(1));return n(f)(e,t)}let r=e,o=t,i=new Map,a=i,u=0,p=!1;function g(){a===i&&(a=new Map,i.forEach(((e,t)=>{a.set(t,e)})))}function h(){if(p)throw new Error(s(3));return o}function m(e){if("function"!=typeof e)throw new Error(s(4));if(p)throw new Error(s(5));let t=!0;g();const n=u++;return a.set(n,e),function(){if(t){if(p)throw new Error(s(6));t=!1,g(),a.delete(n),i=null}}}function _(e){if(!d(e))throw new Error(s(7));if(void 0===e.type)throw new Error(s(8));if("string"!=typeof e.type)throw new Error(s(17));if(p)throw new Error(s(9));try{p=!0,o=r(o,e)}finally{p=!1}return(i=a).forEach((e=>{e()})),e}function v(e){if("function"!=typeof e)throw new Error(s(10));r=e,_({type:c.REPLACE})}function y(){const e=m;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(s(11));function n(){const e=t;e.next&&e.next(h())}n();return{unsubscribe:e(n)}},[l](){return this}}}_({type:c.INIT});const b={dispatch:_,subscribe:m,getState:h,replaceReducer:v,[l]:y};return b}function p(e,t,n){return f(e,t,n)}function g(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}const r=Object.keys(n);let o;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(s(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(n)}catch(e){o=e}return function(e={},t){if(o)throw o;let i=!1;const a={};for(let o=0;o<r.length;o++){const l=r[o],u=n[l],c=e[l],d=u(c,t);if(void 0===d){t&&t.type;throw new Error(s(14))}a[l]=d,i=i||d!==c}return i=i||r.length!==Object.keys(e).length,i?a:e}}function h(e,t){return function(...n){return t(e.apply(this,n))}}function m(e,t){if("function"==typeof e)return h(e,t);if("object"!=typeof e||null===e)throw new Error(s(16));const n={};for(const r in e){const o=e[r];"function"==typeof o&&(n[r]=h(o,t))}return n}function _(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function v(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error(s(15))};const a={getState:o.getState,dispatch:(e,...t)=>i(e,...t)},l=e.map((e=>e(a)));return i=_(...l)(o.dispatch),{...o,dispatch:i}}}function y(e){return d(e)&&"type"in e&&"string"==typeof e.type}},37482:function(e){"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{createSelector:()=>B,createSelectorCreator:()=>N,createStructuredSelector:()=>U,lruMemoize:()=>R,referenceEqualityCheck:()=>x,setGlobalDevModeChecks:()=>l,unstable_autotrackMemoize:()=>F,weakMapMemoize:()=>j}),e.exports=(t=a,((e,t,a,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))i.call(e,l)||l===a||n(e,l,{get:()=>t[l],enumerable:!(s=r(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),t));var s={inputStabilityCheck:"once",identityFunctionCheck:"once"},l=e=>{Object.assign(s,e)},u=Symbol("NOT_FOUND");function c(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var d=e=>Array.isArray(e)?e:[e];function f(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function p(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}var g=0,h=null,m=class{revision=g;_value;_lastValue;_isEqual=_;constructor(e,t=_){this._value=this._lastValue=e,this._isEqual=t}get value(){return h?.add(this),this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++g)}};function _(e,t){return e===t}function v(e){return e instanceof m||console.warn("Not a valid cell! ",e),e.value}function y(e){return c(e,"the first parameter to `createCache` must be a function"),new class{_cachedValue;_cachedRevision=-1;_deps=[];hits=0;fn;constructor(e){this.fn=e}clear(){this._cachedValue=void 0,this._cachedRevision=-1,this._deps=[],this.hits=0}get value(){if(this.revision>this._cachedRevision){const{fn:e}=this,t=new Set,n=h;h=t,this._cachedValue=e(),h=n,this.hits++,this._deps=Array.from(t),this._cachedRevision=this.revision}return h?.add(this),this._cachedValue}get revision(){return Math.max(...this._deps.map((e=>e.revision)),0)}}(e)}var b=(e,t)=>!1;function C(){return function(e,t=_){return new m(e,t)}(null,b)}function E(e,t){!function(e,t){if(!(e instanceof m))throw new TypeError("setValue must be passed a tracked store created with `createStorage`.");e.value=e._lastValue=t}(e,t)}var D=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=C()),v(t)},T=e=>{const t=e.collectionTag;null!==t&&E(t,null)},w=(Symbol(),0),S=Object.getPrototypeOf({}),O={get(e,t){return function(){const{value:n}=e,r=Reflect.get(n,t);if("symbol"==typeof t)return r;if(t in S)return r;if("object"==typeof r&&null!==r){let n=e.children[t];return void 0===n&&(n=e.children[t]=I(r)),n.tag&&v(n.tag),n.proxy}{let n=e.tags[t];return void 0===n&&(n=e.tags[t]=C(),n.value=r),v(n),r}}()},ownKeys(e){return D(e),Reflect.ownKeys(e.value)},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(e.value,t)},has(e,t){return Reflect.has(e.value,t)}},A={get([e],t){return"length"===t&&D(e),O.get(e,t)},ownKeys([e]){return O.ownKeys(e)},getOwnPropertyDescriptor([e],t){return O.getOwnPropertyDescriptor(e,t)},has([e],t){return O.has(e,t)}};function I(e){return Array.isArray(e)?new class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy([this],A);tag=C();tags={};children={};collectionTag=null;id=w++}(e):new class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy(this,O);tag=C();tags={};children={};collectionTag=null;id=w++}(e)}function k(e,t){const{value:n,tags:r,children:o}=e;if(e.value=t,Array.isArray(n)&&Array.isArray(t)&&n.length!==t.length)T(e);else if(n!==t){let r=0,o=0,i=!1;for(const e in n)r++;for(const e in t)if(o++,!(e in n)){i=!0;break}(i||r!==o)&&T(e)}for(const o in r){const i=n[o],a=t[o];i!==a&&(T(e),E(r[o],a)),"object"==typeof a&&null!==a&&delete r[o]}for(const e in o){const n=o[e],r=t[e];n.value!==r&&("object"==typeof r&&null!==r?k(n,r):(M(n),delete o[e]))}}function M(e){e.tag&&E(e.tag,null),T(e);for(const t in e.tags)E(e.tags[t],null);for(const t in e.children)M(e.children[t])}var x=(e,t)=>e===t;function P(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;const{length:r}=t;for(let o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}function R(e,t){const n="object"==typeof t?t:{equalityCheck:t},{equalityCheck:r=x,maxSize:o=1,resultEqualityCheck:i}=n,a=P(r);let s=0;const l=o<=1?function(e){let t;return{get(n){return t&&e(t.key,n)?t.value:u},put(e,n){t={key:e,value:n}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}(a):function(e,t){let n=[];function r(e){const r=n.findIndex((n=>t(e,n.key)));if(r>-1){const e=n[r];return r>0&&(n.splice(r,1),n.unshift(e)),e.value}return u}return{get:r,put:function(t,o){r(t)===u&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,a);function c(){let t=l.get(arguments);if(t===u){if(t=e.apply(null,arguments),s++,i){const e=l.getEntries().find((e=>i(e.value,t)));e&&(t=e.value,0!==s&&s--)}l.put(arguments,t)}return t}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function F(e){const t=I([]);let n=null;const r=P(x),o=y((()=>e.apply(null,t.proxy)));function i(){return r(n,arguments)||(k(t,arguments),n=arguments),o.value}return i.clearCache=()=>o.clear(),i}var L="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function j(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let o,i=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,r){const e=o?.deref?.()??o;null!=e&&r(e,l)&&(l=e,0!==i&&i--);o="object"==typeof l&&null!==l||"function"==typeof l?new L(l):l}return s.s=1,s.v=l,l}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function N(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,o=0,i={},a=e.pop();"object"==typeof a&&(i=a,a=e.pop()),c(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const s={...n,...i},{memoize:l,memoizeOptions:u=[],argsMemoize:g=j,argsMemoizeOptions:h=[],devModeChecks:m={}}=s,_=d(u),v=d(h),y=f(e),b=l((function(){return r++,a.apply(null,arguments)}),..._);const C=g((function(){o++;const e=p(y,arguments);return t=b.apply(null,e),t}),...v);return Object.assign(C,{resultFunc:a,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var B=N(j),U=Object.assign(((e,t=B)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>U})},2305:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(87536),o=function(e,t,n){if(e&&"reportValidity"in e){var o=(0,r.U2)(n,t);e.setCustomValidity(o&&o.message||""),e.reportValidity()}},i=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?o(r.ref,n,e):r.refs&&r.refs.forEach((function(t){return o(t,n,e)}))};for(var r in t.fields)n(r)},a=function(e,t){t.shouldUseNativeValidation&&i(e,t);var n={};for(var o in e){var a=(0,r.U2)(t.fields,o),l=Object.assign(e[o]||{},{ref:a&&a.ref});if(s(t.names||Object.keys(e),o)){var u=Object.assign({},(0,r.U2)(n,o));(0,r.t8)(u,"root",l),(0,r.t8)(n,o,u)}else(0,r.t8)(n,o,l)}return n},s=function(e,t){return e.some((function(e){return e.startsWith(t+".")}))};function l(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(o,s,l){try{return Promise.resolve(function(r,a){try{var u=(t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](o,Object.assign({abortEarly:!1},t,{context:s}))).then((function(e){return l.shouldUseNativeValidation&&i({},l),{values:n.raw?o:e,errors:{}}})))}catch(e){return a(e)}return u&&u.then?u.then(void 0,a):u}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:a((t=e,n=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var o=e[t.path].types,i=o&&o[t.type];e[t.path]=(0,r.KN)(t.path,n,e,t.type,i?[].concat(i,t.message):t.message)}return e}),{})),l)};var t,n})))}catch(e){return Promise.reject(e)}}}},8327:function(e,t,n){"use strict";n.d(t,{oM:function(){return g}});var r=n(52628),o=n(19119),i=n(65849);o.kO,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function a(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(_(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>(0,i.LG)(t)&&t.type===e,n}Symbol.species;function s(e){return(0,r.o$)(e)?(0,r.Uy)(e,(()=>{})):e}function l(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function u(e){const t={},n=[];let r;const o={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(_(28));if(r in t)throw new Error(_(29));return t[r]=n,o},addMatcher(e,t){return n.push({matcher:e,reducer:t}),o},addDefaultCase(e){return r=e,o}};return e(o),[t,n,r]}var c=Symbol.for("rtk-slice-createasyncthunk");function d(e,t){return`${e}/${t}`}function f({creators:e}={}){const t=e?.asyncThunk?.[c];return function(e){const{name:n,reducerPath:o=n}=e;if(!n)throw new Error(_(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},c=Object.keys(i),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(_(12));if(n in f.sliceCaseReducersByType)throw new Error(_(13));return f.sliceCaseReducersByType[n]=t,g},addMatcher(e,t){return f.sliceMatchers.push({matcher:e,reducer:t}),g},exposeAction(e,t){return f.actionCreators[e]=t,g},exposeCaseReducer(e,t){return f.sliceCaseReducersByName[e]=t,g}};function m(){const[t={},n=[],o]="function"==typeof e.extraReducers?u(e.extraReducers):[e.extraReducers],i={...t,...f.sliceCaseReducersByType};return function(e,t){let n,[o,i,a]=u(t);if("function"==typeof e)n=()=>s(e());else{const t=s(e);n=()=>t}function l(e=n(),t){let s=[o[t.type],...i.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];return 0===s.filter((e=>!!e)).length&&(s=[a]),s.reduce(((e,n)=>{if(n){if((0,r.mv)(e)){const r=n(e,t);return void 0===r?e:r}if((0,r.o$)(e))return(0,r.Uy)(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return l.getInitialState=n,l}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of f.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);o&&e.addDefaultCase(o)}))}c.forEach((r=>{const o=i[r],s={reducerName:r,type:d(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function({type:e,reducerName:t,createNotation:n},r,o){let i,s;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(_(17));i=r.reducer,s=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?a(e,s):a(e))}(s,o,g):function({type:e,reducerName:t},n,r,o){if(!o)throw new Error(_(18));const{payloadCreator:i,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,d=o(e,i,c);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a);s&&r.addCase(d.pending,s);l&&r.addCase(d.rejected,l);u&&r.addMatcher(d.settled,u);r.exposeCaseReducer(t,{fulfilled:a||h,pending:s||h,rejected:l||h,settled:u||h})}(s,o,g,t)}));const v=e=>e,y=new Map;let b;function C(e,t){return b||(b=m()),b(e,t)}function E(){return b||(b=m()),b.getInitialState()}function D(t,n=!1){function r(e){let r=e[t];return void 0===r&&n&&(r=E()),r}function o(t=v){const r=l(y,n,(()=>new WeakMap));return l(r,t,(()=>{const r={};for(const[o,i]of Object.entries(e.selectors??{}))r[o]=p(i,t,E,n);return r}))}return{reducerPath:t,getSelectors:o,get selectors(){return o(r)},selectSlice:r}}const T={name:n,reducer:C,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...D(o),injectInto(e,{reducerPath:t,...n}={}){const r=t??o;return e.inject({reducerPath:r,reducer:C},n),{...T,...D(r,!0)}}};return T}}function p(e,t,n,r){function o(o,...i){let a=t(o);return void 0===a&&r&&(a=n()),e(a,...i)}return o.unwrapped=e,o}var g=f();function h(){}r.mv;var{assign:m}=Object;Symbol.for("rtk-state-proxy-original");function _(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}},52628:function(e,t,n){"use strict";n.d(t,{Uy:function(){return V},Vk:function(){return z},mv:function(){return l},o$:function(){return u}});var r=Symbol.for("immer-nothing"),o=Symbol.for("immer-draftable"),i=Symbol.for("immer-state");function a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var s=Object.getPrototypeOf;function l(e){return!!e&&!!e[i]}function u(e){return!!e&&(d(e)||Array.isArray(e)||!!e[o]||!!e.constructor?.[o]||m(e)||_(e))}var c=Object.prototype.constructor.toString();function d(e){if(!e||"object"!=typeof e)return!1;const t=s(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===c}function f(e,t){0===p(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function p(e){const t=e[i];return t?t.type_:Array.isArray(e)?1:m(e)?2:_(e)?3:0}function g(e,t){return 2===p(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function h(e,t,n){const r=p(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function m(e){return e instanceof Map}function _(e){return e instanceof Set}function v(e){return e.copy_||e.base_}function y(e,t){if(m(e))return new Map(e);if(_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=d(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[i];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(s(e),t)}{const t=s(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function b(e,t=!1){return E(e)||l(e)||!u(e)||(p(e)>1&&(e.set=e.add=e.clear=e.delete=C),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>b(t,!0)))),e}function C(){a(2)}function E(e){return Object.isFrozen(e)}var D,T={};function w(e){const t=T[e];return t||a(0),t}function S(){return D}function O(e,t){t&&(w("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function A(e){I(e),e.drafts_.forEach(M),e.drafts_=null}function I(e){e===D&&(D=e.parent_)}function k(e){return D={drafts_:[],parent_:D,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function M(e){const t=e[i];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function x(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[i].modified_&&(A(t),a(4)),u(e)&&(e=P(t,e),t.parent_||F(t,e)),t.patches_&&w("Patches").generateReplacementPatches_(n[i].base_,e,t.patches_,t.inversePatches_)):e=P(t,n,[]),A(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r?e:void 0}function P(e,t,n){if(E(t))return t;const r=t[i];if(!r)return f(t,((o,i)=>R(e,r,t,o,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return F(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let o=t,i=!1;3===r.type_&&(o=new Set(t),t.clear(),i=!0),f(o,((o,a)=>R(e,r,t,o,a,n,i))),F(e,t,!1),n&&e.patches_&&w("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function R(e,t,n,r,o,i,a){if(l(o)){const a=P(e,o,i&&t&&3!==t.type_&&!g(t.assigned_,r)?i.concat(r):void 0);if(h(n,r,a),!l(a))return;e.canAutoFreeze_=!1}else a&&n.add(o);if(u(o)&&!E(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;P(e,o),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||F(e,o)}}function F(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&b(t,n)}var L={get(e,t){if(t===i)return e;const n=v(e);if(!g(n,t))return function(e,t,n){const r=B(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!u(r)?r:r===N(e.base_,t)?(W(e),e.copy_[t]=H(r,e)):r},has(e,t){return t in v(e)},ownKeys(e){return Reflect.ownKeys(v(e))},set(e,t,n){const r=B(v(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=N(v(e),t),s=r?.[i];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((o=n)===(a=r)?0!==o||1/o==1/a:o!=o&&a!=a)&&(void 0!==n||g(e.base_,t)))return!0;W(e),U(e)}var o,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return void 0!==N(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,W(e),U(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=v(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){a(11)},getPrototypeOf(e){return s(e.base_)},setPrototypeOf(){a(12)}},j={};function N(e,t){const n=e[i];return(n?v(n):e)[t]}function B(e,t){if(!(t in e))return;let n=s(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=s(n)}}function U(e){e.modified_||(e.modified_=!0,e.parent_&&U(e.parent_))}function W(e){e.copy_||(e.copy_=y(e.base_,e.scope_.immer_.useStrictShallowCopy_))}f(L,((e,t)=>{j[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),j.deleteProperty=function(e,t){return j.set.call(this,e,t,void 0)},j.set=function(e,t,n){return L.set.call(this,e[0],t,n,e[0])};function H(e,t){const n=m(e)?w("MapSet").proxyMap_(e,t):_(e)?w("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:S(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=L;n&&(o=[r],i=j);const{revoke:a,proxy:s}=Proxy.revocable(o,i);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:S()).drafts_.push(n),n}function z(e){return l(e)||a(10),G(e)}function G(e){if(!u(e)||E(e))return e;const t=e[i];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=y(e,t.scope_.immer_.useStrictShallowCopy_)}else n=y(e,!0);return f(n,((e,t)=>{h(n,e,G(t))})),t&&(t.finalized_=!1),n}var $=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...o){return r.produce(e,(e=>t.call(this,e,...o)))}}let o;if("function"!=typeof t&&a(6),void 0!==n&&"function"!=typeof n&&a(7),u(e)){const r=k(this),i=H(e,void 0);let a=!0;try{o=t(i),a=!1}finally{a?A(r):I(r)}return O(r,n),x(o,r)}if(!e||"object"!=typeof e){if(o=t(e),void 0===o&&(o=e),o===r&&(o=void 0),this.autoFreeze_&&b(o,!0),n){const t=[],r=[];w("Patches").generateReplacementPatches_(e,o,t,r),n(t,r)}return o}a(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){u(e)||a(8),l(e)&&(e=z(e));const t=k(this),n=H(e,void 0);return n[i].isManual_=!0,I(t),n}finishDraft(e,t){const n=e&&e[i];n&&n.isManual_||a(9);const{scope_:r}=n;return O(r,t),x(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=w("Patches").applyPatches_;return l(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},V=$.produce;$.produceWithPatches.bind($),$.setAutoFreeze.bind($),$.setUseStrictShallowCopy.bind($),$.applyPatches.bind($),$.createDraft.bind($),$.finishDraft.bind($)},40066:function(e,t,n){"use strict";n.d(t,{Wz:function(){return P},go:function(){return u},lY:function(){return W},xk:function(){return c},xn:function(){return ee}});var r;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function o(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function i(e){return Boolean(e&&"function"==typeof e.then)}function a(e,t){return i(e)?Promise.resolve(e).then(t):t(e)}function s(e,t,n){function r(n){const r=t(n);throw e.emit(r),console.error(r),r}try{const e=n();return i(e)?e.catch(r):e}catch(e){r(e)}}function l(e){const t=(Array.isArray(e)?e:[e]).map((e=>`'${e}'`)),n=t.slice(-2).join(" or ");return`Tolgee: You need to specify ${[...t.slice(0,-2),n].join(", ")} option`}function u(e){return"string"==typeof e?[e]:Array.isArray(e)?e:void 0}function c(e){return u(e)||[]}function d(e,t){return"object"!=typeof(n=t)||Array.isArray(n)||null===n?c(t):c(null==t?void 0:t[e]);var n}function f(e){return Array.from(new Set(e))}function p(e){return e?e.replace(/\/+$/,""):e}const g=(e,t)=>fetch(e,t);const h=(e=g)=>(t,n)=>{let r=(o=null==n?void 0:n.headers,Object.fromEntries(new Headers(o).entries()));var o;return r["x-api-key"]&&(r=Object.assign({"x-tolgee-sdk-type":"JS","x-tolgee-sdk-version":"prerelease"},r)),e(t,Object.assign(Object.assign({},n),{headers:r}))},m=(e,t)=>{let n=[];return{listen(e){const t=t=>{e(t)};return n.push(t),{unsubscribe(){n=n.filter((e=>t!==e))}}},emit(r){t()&&n.forEach((t=>t({type:e,value:r})))}}};function _(e){let t=[],n=[];function r(){if(0===n.length)return;const e=n;n=[],t.forEach((t=>{t(e)}))}return Object.freeze({listen(e){const n=t=>{e(t)};return t.push(n),{unsubscribe(){t=t.filter((e=>n!==e))}}},emit(t,o){e()&&e()&&(n.push(t),o?setTimeout(r,0):r())}})}class v extends Error{constructor(e,t,n=!1){const{language:r,namespace:o}=e;super(`Tolgee: Failed to fetch record for "${r}"${o&&` and "${o}"`}`),this.cause=t,this.isDev=n,this.name="RecordFetchError",this.language=r,this.namespace=o}}class y extends Error{constructor(e,t){super(e),this.cause=t,this.name="LanguageDetectorError"}}class b extends Error{constructor(e,t){super(e),this.cause=t,this.name="LanguageStorageError"}}const C=e=>{const t=new Map;return Object.entries(e).forEach((([e,n])=>{null!=n&&("object"!=typeof n?t.set(e,n):C(n).forEach(((n,r)=>{t.set(e+"."+r,n)})))})),t},E=e=>Object.fromEntries(C(e).entries()),D=e=>{const[t,...n]=e.split(":");return{language:t,namespace:n.join(":")||""}},T=({language:e,namespace:t})=>t?`${e}:${t}`:e;function w(e,t,n,r,o,a,s){const l=new Map,u=new Map;let d={},p=0;function g(t,n,r){const o=T(t);u.set(o,{data:E(n),version:r}),e.onCacheChange.emit(D(o))}async function h(r,o){let a;if(o)try{a=await n(r)}catch(t){const n=new v(r,t,!0);e.onError.emit(n),console.warn(n)}return a||(a=await async function(n){function r(t){const r=new v(n,t);throw e.onError.emit(r),console.error(r),r}const o=t(n);if(i(o)){const e=await o.catch(r);if(void 0!==e)return e}const a=d[T(n)];if("function"!=typeof a)return a;try{return await a()}catch(e){r(e)}}(r)),a}const m=Object.freeze({addStaticData(e){if(Array.isArray(e))for(const t of e){const e=T(t),n=u.get(e);n&&0!==n.version||g(t,E(t.data),0)}else e&&(d=Object.assign(Object.assign({},d),e),Object.entries(e).forEach((([e,t])=>{if("function"!=typeof t){const n=D(e),r=u.get(e);r&&0!==r.version||g(n,E(t),0)}})))},invalidate(){l.clear(),p+=1},addRecord(e,t){g(e,E(t),p)},exists(e,t=!1){const n=u.get(T(e));return n&&t?n.version===p:Boolean(n)},getRecord(e){const t=r(e),n=T(t),o=u.get(n);if(o)return Object.assign(Object.assign({},t),{cacheKey:n,data:o.data})},getAllRecords(){return Array.from(u.entries()).map((([e])=>m.getRecord(D(e))))},getTranslation(e,t){var n;return null===(n=u.get(T(e)))||void 0===n?void 0:n.data[t]},getTranslationNs(e,t,n){var r;for(const o of e)for(const e of t){const t=null===(r=u.get(T({language:e,namespace:o})))||void 0===r?void 0:r.data[n];if(null!=t)return[o]}return f(e)},getTranslationFallback(e,t,n){var r;for(const o of e)for(const e of t){const t=null===(r=u.get(T({language:e,namespace:o})))||void 0===r?void 0:r.data[n];if(null!=t)return t}},changeTranslation(t,n,r){var o;const i=null===(o=u.get(T(t)))||void 0===o?void 0:o.data;i&&(i[n]=r,e.onCacheChange.emit(Object.assign(Object.assign({},t),{key:n})))},isFetching(e){if(o())return!0;if(void 0===e)return l.size>0;const t=c(e);return Boolean(Array.from(l.keys()).find((e=>t.includes(D(e).namespace))))},isLoading(e,t){const n=c(t);if(o())return!0;const r=Array.from(l.keys());return Boolean(r.find((t=>{const r=D(t);return(!n.length||n.includes(r.namespace))&&!m.exists({namespace:r.namespace,language:e})})))},async loadRecords(e,t){const n=e.map((e=>{const n=r(e),o=T(n);if(null==t?void 0:t.useCache){if(m.exists(n,!0))return Object.assign(Object.assign({},n),{new:!1,cacheKey:o,data:m.getRecord(n).data})}const i=l.get(o);if(i)return Object.assign(Object.assign({},n),{new:!1,promise:i,cacheKey:o});const a=h(n,!(null==t?void 0:t.noDev))||Promise.resolve(void 0);return l.set(o,a),Object.assign(Object.assign({},n),{new:!0,promise:a,cacheKey:o})}));a.notify(),s.notify();const o=n.map((e=>e.promise)).filter(Boolean),i=await Promise.all(o);return n.forEach((e=>{var t;e.promise&&(e.data=E(null!==(t=i[0])&&void 0!==t?t:{}),i.shift());const n=l.get(e.cacheKey)!==e.promise;e.new&&!n&&(l.delete(e.cacheKey),e.data?m.addRecord(e,e.data):m.getRecord(e)||m.addRecord(e,{}))})),a.notify(),s.notify(),n.map((e=>{var t;return{language:e.language,namespace:e.namespace,data:null!==(t=e.data)&&void 0!==t?t:{},cacheKey:e.cacheKey}}))}});return m}function S(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}const O="invalid",A={observerOptions:{tagAttributes:{textarea:["placeholder"],input:["value","placeholder"],img:["alt"],"*":["aria-label","title"]},restrictedElements:["script","style"],highlightKeys:["Alt"],highlightColor:"rgb(255, 0, 0)",highlightWidth:5,inputPrefix:"%-%tolgee:",inputSuffix:"%-%",passToParent:["option","optgroup"],fullKeyEncode:!1},observerType:"invisible",onFormatError:O,apiUrl:"https://app.tolgee.io",autoLoadRequiredData:!0,fetch:h(),onTranslationMissing:({key:e})=>e},I=(...e)=>{let t={};return e.forEach((e=>{t=Object.assign(Object.assign(Object.assign({},t),e),{observerOptions:Object.assign(Object.assign({},t.observerOptions),null==e?void 0:e.observerOptions)})})),t};function k(e,t){const n=I(A,null==t?void 0:t.initialOptions,e);return n.apiUrl=p(n.apiUrl),(null==e?void 0:e.fetch)&&(n.fetch=h(e.fetch)),{initialOptions:n,activeNamespaces:(null==t?void 0:t.activeNamespaces)||new Map,language:null==t?void 0:t.language,pendingLanguage:null==t?void 0:t.language,isInitialLoading:!1,isRunning:!1}}function M(e,t,n,r,o,i,l,u){const c={ui:void 0},d={formatters:[],finalFormatter:void 0,observer:void 0,devBackend:void 0,backends:[],ui:void 0,languageDetector:void 0,languageStorage:void 0},f=async({keysAndDefaults:e,target:t})=>{var n;const a=e.map((({key:e,ns:t,defaultValue:n})=>({key:e,defaultValue:n,fallbackNamespaces:r(t),namespace:o({key:e,ns:t})[0],translation:i({key:e,ns:t})})));null===(n=d.ui)||void 0===n||n.handleElementClick(a,t)},p=(e,t)=>{var n;return(null===(n=d.observer)||void 0===n?void 0:n.findPositions(e,t))||[]};function g(e){const t=i({key:e.key,ns:e.ns});return k.formatTranslation(Object.assign(Object.assign({},e),{translation:t,formatEnabled:!0}))}function h(){return{fetch:t().fetch}}function m(e){d.observer=null==e?void 0:e()}function _(){return Boolean(d.observer)}function v(e){e&&d.formatters.push(e)}function C(e){d.finalFormatter=e}function E(e){c.ui=e}function D(){return Boolean(c.ui)}function T(e){d.languageStorage=e}function w(e){d.languageDetector=e}function A(e){e&&d.backends.push(e)}function I(e){d.devBackend=e}const k=Object.freeze({addPlugin:function(e,t){t(e,Object.freeze({setFinalFormatter:C,addFormatter:v,setObserver:m,hasObserver:_,setUi:E,hasUi:D,setDevBackend:I,addBackend:A,setLanguageDetector:w,setLanguageStorage:T}))},findPositions:p,run(){var e,n;const{apiKey:r,apiUrl:o,projectId:i,observerOptions:a,tagNewKeys:s,filterTag:h}=t();d.ui=null===(e=c.ui)||void 0===e?void 0:e.call(c,{apiKey:r,apiUrl:o,projectId:i,highlight:k.highlight,changeTranslation:l,findPositions:p,onPermanentChange:e=>u.onPermanentChange.emit(e),tagNewKeys:s,filterTag:h}),null===(n=d.observer)||void 0===n||n.run({mouseHighlight:Boolean(d.ui),options:a,translate:g,onClick:f})},stop(){var e;d.ui=void 0,null===(e=d.observer)||void 0===e||e.stop()},getLanguageStorage(){return d.languageStorage},getInitialLanguage(){const e=n();return a(s(u.onError,(e=>new b("Tolgee: Failed to load language",e)),(()=>{var e;return null===(e=d.languageStorage)||void 0===e?void 0:e.getLanguage(h())})),(t=>e&&!e.includes(t)||!t?function(){if(!d.languageDetector)return;const e=n();return s(u.onError,(e=>new y("Tolgee: Failed to detect language",e)),(()=>{var t;return null===(t=d.languageDetector)||void 0===t?void 0:t.getLanguage(Object.assign({availableLanguages:e},h()))}))}():t))},setStoredLanguage(e){return s(u.onError,(e=>new b("Tolgee: Failed to store language",e)),(()=>{var t;return null===(t=d.languageStorage)||void 0===t?void 0:t.setLanguage(e,h())}))},getDevBackend(){return d.devBackend},getBackendRecord:async({language:e,namespace:t})=>{for(const n of d.backends){const r=await n.getRecord(Object.assign({language:e,namespace:t},h()));if(void 0!==r)return r}},getBackendDevRecord:async({language:e,namespace:n})=>{var r;const{apiKey:o,apiUrl:i,projectId:a,filterTag:s}=t();if(o&&i&&k.hasDevBackend())return null===(r=d.devBackend)||void 0===r?void 0:r.getRecord(Object.assign({apiKey:o,apiUrl:i,projectId:a,language:e,namespace:n,filterTag:s},h()))},getLanguageDetector(){return d.languageDetector},retranslate(){var e;null===(e=d.observer)||void 0===e||e.retranslate()},highlight:(e,t)=>{var n,r;return(null===(r=null===(n=d.observer)||void 0===n?void 0:n.highlight)||void 0===r?void 0:r.call(n,e,t))||{unhighlight(){}}},unwrap(e){var t;return d.observer?null===(t=d.observer)||void 0===t?void 0:t.unwrap(e):{text:e,keys:[]}},wrap(e){var t;return d.observer?null===(t=d.observer)||void 0===t?void 0:t.wrap(e):e.translation},hasDevBackend(){return Boolean(k.getDevBackend())},formatTranslation(n){var r,{formatEnabled:o}=n,i=S(n,["formatEnabled"]);const{key:a,translation:s,defaultValue:l,noWrap:u,params:c,ns:f,orEmpty:p}=i,g=null!=s?s:l;let h="";null==s&&(h=t().onTranslationMissing(i));let m=null!=g?g:p?"":h;const _=e(),v=o||!(null===(r=d.observer)||void 0===r?void 0:r.outputNotFormattable),y=e=>d.observer&&!u?d.observer.wrap({key:a,translation:e,defaultValue:l,params:c,ns:f}):e;m=y(m);try{if(g&&_&&v)for(const e of d.formatters)m=e.format({translation:m,language:_,params:c});d.finalFormatter&&g&&_&&v&&(m=d.finalFormatter.format({translation:m,language:_,params:c}))}catch(e){console.error(e);const n=("string"==typeof(b=e)?b:"string"==typeof(null==b?void 0:b.message)?b.message:void 0)||O,r=t().onFormatError,o=typeof r;m="string"===o?r:"function"===o?r(n,i):O,m=y(m)}var b;return m}});return k}const x=(e,t,n)=>{let r=e;return Object.freeze({init(e){r=e},notify(){const e=t();r!==e&&n(e),r=e}})};const P=(e,...t)=>{let n,r={};return"object"==typeof e?r=e:(r.key=e,"string"==typeof t[0]?(r.defaultValue=t[0],n=t[1]):"object"==typeof t[0]&&(n=t[0])),n&&(r=Object.assign(Object.assign({},function(e){var{ns:t,noWrap:n,orEmpty:r,params:o,language:i}=e,a=S(e,["ns","noWrap","orEmpty","params","language"]);const s={ns:t,noWrap:n,orEmpty:r,language:i};return Object.assign(Object.assign({},s),{params:Object.assign({},a)})}(n)),r)),r};function R({options:e}){const t=function(){let e=!0;function t(){return e}const n=Object.freeze({onPendingLanguageChange:m("pendingLanguage",t),onLanguageChange:m("language",t),onLoadingChange:m("loading",t),onFetchingChange:m("fetching",t),onInitialLoaded:m("initialLoad",t),onRunningChange:m("running",t),onCacheChange:m("cache",t),onPermanentChange:m("permanentChange",t),onError:m("error",t),onUpdate:_(t),setEmitterActive(t){e=t},on:(e,t)=>{switch(e){case"pendingLanguage":return n.onPendingLanguageChange.listen(t);case"language":return n.onLanguageChange.listen(t);case"loading":return n.onLoadingChange.listen(t);case"fetching":return n.onFetchingChange.listen(t);case"initialLoad":return n.onInitialLoaded.listen(t);case"running":return n.onRunningChange.listen(t);case"cache":return n.onCacheChange.listen(t);case"update":return n.onUpdate.listen(t);case"permanentChange":return n.onPermanentChange.listen(t);case"error":return n.onError.listen(t)}}});return n.onInitialLoaded.listen((e=>n.onUpdate.emit(e,!1))),n.onLanguageChange.listen((e=>n.onUpdate.emit(e,!1))),n.onCacheChange.listen((e=>n.onUpdate.emit(e,!0))),n}(),n=x(!1,(()=>u.isFetching()),t.onFetchingChange.emit),r=x(!1,(()=>I.isLoading()),t.onLoadingChange.emit),o=function(e,t,n){let r,o=k();const i=Object.freeze({init(e){o=k(e,o)},isRunning(){return o.isRunning},setRunning(e){o.isRunning!==e&&(o.isRunning=e,n.emit(e))},isInitialLoading(){return o.isInitialLoading},setInitialLoading(e){o.isInitialLoading=e},getLanguage(){return o.language||o.initialOptions.language},setLanguage(t){o.language!==t&&(o.language=t,e.emit(t))},getPendingLanguage(){return o.pendingLanguage||i.getLanguage()},setPendingLanguage(e){o.pendingLanguage!==e&&(o.pendingLanguage=e,t.emit(e))},getInitialOptions(){return Object.assign(Object.assign({},o.initialOptions),r)},addActiveNs(e){c(e).forEach((e=>{const t=o.activeNamespaces.get(e);void 0!==t?o.activeNamespaces.set(e,t+1):o.activeNamespaces.set(e,1)}))},removeActiveNs(e){c(e).forEach((e=>{const t=o.activeNamespaces.get(e);void 0!==t&&t>1?o.activeNamespaces.set(e,t-1):o.activeNamespaces.delete(e)}))},getRequiredNamespaces(){return f([i.getDefaultNs(),...o.initialOptions.ns||[],...c(o.initialOptions.fallbackNs),...o.activeNamespaces.keys()])},getFallbackLangs(e){const t=e||i.getLanguage();return t?f([t,...d(t,o.initialOptions.fallbackLanguage)]):[]},getFallbackNs(){return c(o.initialOptions.fallbackNs)},getNs(){var e,t;return(null===(e=o.initialOptions.ns)||void 0===e?void 0:e.length)?o.initialOptions.ns:[null!==(t=o.initialOptions.defaultNs)&&void 0!==t?t:""]},getDefaultNs(e){var t,n,r;return void 0===e?null!==(r=null!==(t=o.initialOptions.defaultNs)&&void 0!==t?t:null===(n=o.initialOptions.ns)||void 0===n?void 0:n[0])&&void 0!==r?r:"":e},getAvailableLanguages(){if(o.initialOptions.availableLanguages)return o.initialOptions.availableLanguages;if(o.initialOptions.staticData){const e=Object.keys(o.initialOptions.staticData).map((e=>D(e).language));return Array.from(new Set(e))}},getAvailableNs(){return o.initialOptions.availableNs},withDefaultNs(e){return{namespace:void 0===e.namespace?i.getDefaultNs():e.namespace,language:e.language}},overrideCredentials(e){r=e?Object.assign(Object.assign({},e),{apiUrl:p(e.apiUrl)}):void 0}});return i}(t.onLanguageChange,t.onPendingLanguageChange,t.onRunningChange),s=M(o.getLanguage,o.getInitialOptions,o.getAvailableLanguages,v,T,S,b,t),u=w(t,s.getBackendRecord,s.getBackendDevRecord,o.withDefaultNs,o.isInitialLoading,n,r);let g;function h(e){return o.getDefaultNs(e)}function v(e){return f([...c(h(e)),...o.getFallbackNs()])}function y(e){return f([...c(null!=e?e:h()),...o.getRequiredNamespaces()])}function b(e,t,n){const r=o.withDefaultNs(e),i=u.getTranslation(r,t);return u.changeTranslation(r,t,n),{revert(){u.changeTranslation(r,t,i)}}}function C(e){o.init(e),u.addStaticData(o.getInitialOptions().staticData)}function E(e,t){const n=o.getFallbackLangs(e),r=y(t),i=[];return n.forEach((e=>{r.forEach((t=>{i.push({language:e,namespace:t})}))})),i}function T({key:e,ns:t}){const n=o.getFallbackLangs(),r=v(null!=t?t:void 0);return u.getTranslationNs(r,n,e)}function S({key:e,ns:t,language:n}){const r=v(null!=t?t:void 0),i=o.getFallbackLangs(n);return u.getTranslationFallback(r,i,e)}function O(){const e=a(A(),(()=>{const e=E(t,n).filter((e=>!u.exists(e,!0)));var t,n;if(e.length&&o.getInitialOptions().autoLoadRequiredData)return u.loadRecords(e,{useCache:!0})}));if(i(e))return o.setInitialLoading(!0),n.notify(),r.notify(),Promise.resolve(e).then((()=>{o.setInitialLoading(!1),n.notify(),r.notify(),t.onInitialLoaded.emit()}));t.onInitialLoaded.emit()}function A(){if(o.getLanguage())return;return a(s.getInitialLanguage(),(e=>{const t=e||o.getInitialOptions().defaultLanguage;t&&o.setLanguage(t)}))}e&&C(e),t.onUpdate.listen((()=>{o.isRunning()&&s.retranslate()}));const I=Object.freeze(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),o),s),u),{init:C,getTranslation:S,changeTranslation:b,getTranslationNs:T,getDefaultAndFallbackNs:v,findPositions:s.findPositions,getRequiredDescriptors:E,async changeLanguage(e){o.getPendingLanguage()===e&&o.getLanguage()===e||(o.setPendingLanguage(e),o.isRunning()&&o.getInitialOptions().autoLoadRequiredData&&await u.loadRecords(E(e),{useCache:!0}),e===o.getPendingLanguage()&&(o.setLanguage(e),await s.setStoredLanguage(e)))},async addActiveNs(e,t){t||o.addActiveNs(e),o.isRunning()&&await u.loadRecords(E(void 0,e),{useCache:!0})},async loadRecord(e,t){var n;return null===(n=(await I.loadRecords([e],t))[0])||void 0===n?void 0:n.data},isLoading(e){return u.isLoading(o.getLanguage(),e)},isLoaded(e){const t=o.getLanguage();if(!t)return!1;const n=o.getFallbackLangs(t),r=y(e),i=[];return n.forEach((e=>{r.forEach((t=>{u.exists({language:e,namespace:t})||i.push({language:e,namespace:t})}))})),0===i.length},t:(...e)=>{const t=P(...e),n=S(t);return s.formatTranslation(Object.assign(Object.assign({},t),{translation:n}))},isDev(){return Boolean(o.getInitialOptions().apiKey&&o.getInitialOptions().apiUrl)},async loadRequired(e){(null==e?void 0:e.language)||await A();const t=E(null==e?void 0:e.language);return I.loadRecords(t,e)},async loadMatrix(e){const t=function(e){let t=[],n=[];if(Array.isArray(e.languages))t=e.languages;else if("all"===e.languages){const e=I.getAvailableLanguages();if(!e)throw new Error(l("availableLanguages"));t=e}if(Array.isArray(e.namespaces))n=e.namespaces;else if("all"===e.namespaces){const e=I.getAvailableNs();if(!e)throw new Error(l("availableNs"));n=e}const r=[];return t.forEach((e=>{n.forEach((t=>{r.push({language:e,namespace:t})}))})),r}(e);return I.loadRecords(t,e)},run(){return function(){if((s.getLanguageDetector()||s.getLanguageStorage())&&!o.getAvailableLanguages())throw new Error(l("availableLanguages"));if(!o.getLanguage()&&!o.getInitialOptions().defaultLanguage)throw new Error(l(["defaultLanguage","language"]))}(),o.isRunning()||(o.setRunning(!0),s.run(),g=O()),Promise.resolve(g)},stop(){o.isRunning()&&(s.stop(),o.setRunning(!1))}}));return I}const F=()=>{const e={plugins:[],options:{}},t=Object.freeze({use(n){return e.plugins.push(n),t},updateDefaults(n){return e.options=I(e.options,n),t},init(t){const n=function(e){const t=R({options:e});function n(e){const n=t.isRunning();n&&t.stop(),e(),t.isDev()&&t.invalidate(),n&&t.run()}t.isDev()&&t.invalidate();const r=Object.freeze({on:t.on,setEmitterActive:t.setEmitterActive,getLanguage:t.getLanguage,getPendingLanguage:t.getPendingLanguage,changeLanguage:t.changeLanguage,changeTranslation:t.changeTranslation,addActiveNs:t.addActiveNs,removeActiveNs:t.removeActiveNs,loadRequired:t.loadRequired,loadMatrix:t.loadMatrix,loadRecords:t.loadRecords,loadRecord:t.loadRecord,addStaticData:t.addStaticData,getRecord:t.getRecord,getAllRecords:t.getAllRecords,isLoaded:t.isLoaded,getRequiredDescriptors:t.getRequiredDescriptors,isInitialLoading:t.isInitialLoading,isLoading:t.isLoading,isFetching:t.isFetching,isRunning:t.isRunning,run:t.run,stop:t.stop,t:t.t,highlight:t.highlight,findPositions:t.findPositions,getInitialOptions:t.getInitialOptions,isDev:t.isDev,wrap:t.wrap,unwrap:t.unwrap,overrideCredentials(e){n((()=>t.overrideCredentials(e)))},addPlugin(e){e&&n((()=>t.addPlugin(r,e)))},updateOptions(e){e&&n((()=>t.init(e)))}});return r}(I(e.options,t));return e.plugins.forEach(n.addPlugin),n}});return t};class L extends Error{constructor(e,t,n){let r,o="";0===e?r="Empty parameter":1===e?(r="Unexpected character",o="Did you forget to use FormatIcu to render ICU message syntax?"):r="Unexpected end",super(`Tolgee parser: ${r} at ${t} in "${n}"`+(o?"\n"+o:"")),this.code=e,this.index=t}}function j(e){return/\s/.test(e)}const N=new Set([2,1,0]),B=new Set(["{","}","'"]);function U(e,t){const[n,r]=function(e){let t=0,n="",r="",o="";const i=[],a=[];let s=0;function l(t){throw new L(t,s,e)}const u=()=>{i.push(n),n=""},c=()=>{""===r&&l(0),a.push(r),r=""};for(s=0;s<e.length;s++)switch(o=e[s],t){case 0:"'"===o?(n+=o,t=1):"{"===o?(u(),t=3):(n+=o,t=0);break;case 1:B.has(o)?(n=n.slice(0,-1)+o,t=2):(n+=o,t=0);break;case 2:"'"===o?t=0:(n+=o,t=2);break;case 3:"}"===o?(c(),t=0):j(o)?""!==r&&(c(),t=4):(/[0-9a-zA-Z_]/.test(o)||l(1),r+=o,t=3);break;case 4:"}"==o?t=0:j(o)?t=4:l(1)}return N.has(t)||l(2),u(),[i,a]}(e),o=[n[0]];for(let i=1;i<n.length;i++){const a=null==t?void 0:t[r[i-1]];if(void 0===a)throw new Error(`Missing parameter "${r[i-1]}" in "${e}"`);o.push(String(a)),o.push(n[i])}return o.join("")}const W=()=>(e,t)=>(t.setFinalFormatter({format:({translation:e,params:t})=>U(e,t)}),e);String(Number.MAX_SAFE_INTEGER);var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},z={};!function(e){function t(e){for(var t=0,n=Math.min(65536,e.length+1),r=new Uint16Array(n),o=[],i=0;;){var a=t<e.length;if(!a||i>=n-1){var s=r.subarray(0,i);if(o.push(String.fromCharCode.apply(null,s)),!a)return o.join("");e=e.subarray(t),t=0,i=0}var l=e[t++];if(0==(128&l))r[i++]=l;else if(192==(224&l)){var u=63&e[t++];r[i++]=(31&l)<<6|u}else if(224==(240&l)){u=63&e[t++];var c=63&e[t++];r[i++]=(31&l)<<12|u<<6|c}else if(240==(248&l)){var d=(7&l)<<18|(u=63&e[t++])<<12|(c=63&e[t++])<<6|63&e[t++];d>65535&&(d-=65536,r[i++]=d>>>10&1023|55296,d=56320|1023&d),r[i++]=d}}}var n="Failed to ",r=function(e,t,r){if(e)throw new Error("".concat(n).concat(t,": the '").concat(r,"' option is unsupported."))},o="function"==typeof Buffer&&Buffer.from,i=o?function(e){return Buffer.from(e)}:function(e){for(var t=0,n=e.length,r=0,o=Math.max(32,n+(n>>>1)+7),i=new Uint8Array(o>>>3<<3);t<n;){var a=e.charCodeAt(t++);if(a>=55296&&a<=56319){if(t<n){var s=e.charCodeAt(t);56320==(64512&s)&&(++t,a=((1023&a)<<10)+(1023&s)+65536)}if(a>=55296&&a<=56319)continue}if(r+4>i.length){o+=8,o=(o*=1+t/e.length*2)>>>3<<3;var l=new Uint8Array(o);l.set(i),i=l}if(0!=(4294967168&a)){if(0==(4294965248&a))i[r++]=a>>>6&31|192;else if(0==(4294901760&a))i[r++]=a>>>12&15|224,i[r++]=a>>>6&63|128;else{if(0!=(4292870144&a))continue;i[r++]=a>>>18&7|240,i[r++]=a>>>12&63|128,i[r++]=a>>>6&63|128}i[r++]=63&a|128}else i[r++]=a}return i.slice?i.slice(0,r):i.subarray(0,r)};function a(){this.encoding="utf-8"}a.prototype.encode=function(e,t){return r(t&&t.stream,"encode","stream"),i(e)};var s=!o&&"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL,l=["utf-8","utf8","unicode-1-1-utf-8"],u=t;o?u=function(e,t){return(e instanceof Buffer?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)).toString(t)}:s&&(u=function(e){try{return function(e){var t;try{var n=new Blob([e],{type:"text/plain;charset=UTF-8"});t=URL.createObjectURL(n);var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(),r.responseText}finally{t&&URL.revokeObjectURL(t)}}(e)}catch(n){return t(e)}});var c="construct 'TextDecoder'",d="".concat(n," ").concat(c,": the ");function f(e,t){if(r(t&&t.fatal,c,"fatal"),e=e||"utf-8",!(o?Buffer.isEncoding(e):-1!==l.indexOf(e.toLowerCase())))throw new RangeError("".concat(d," encoding label provided ('").concat(e,"') is invalid."));this.encoding=e,this.fatal=!1,this.ignoreBOM=!1}f.prototype.decode=function(e,t){var n;return r(t&&t.stream,"decode","stream"),n=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),u(n,this.encoding)},e.TextEncoder=e.TextEncoder||a,e.TextDecoder=e.TextDecoder||f}("undefined"!=typeof window?window:H);const G=o({__proto__:null,default:z},[z]);null==(r=console.assert)||r.call(console,G);const $=["‌","‍"];RegExp(`([${$.join("")}]{9})+`,"gu");function V({message:e,recievingMessage:t,data:n,attempts:r=1,timeout:o=300}){let i=!1;const a=()=>new Promise(((r,i)=>{const a=function(e,t){const n=n=>{var r,o;e.includes(null==(r=n.data)?void 0:r.type)&&t(null==(o=n.data)?void 0:o.data)};return window.addEventListener("message",n,!1),{unsubscribe(){window.removeEventListener("message",n)}}}(t,(function(e){clearTimeout(s),l(),r(e)}));window.postMessage({type:e,data:n},window.origin);const s=setTimeout((function(){l(),i()}),o);function l(){a.unsubscribe()}}));return{cancel(){i=!0},promise:(async()=>{for(let e=0;e<r;e++){if(i)return new Promise((()=>{}));try{return await a()}catch(e){continue}}if(!i)throw`Didn't recieve ${t.join(" or ")} in time.`;return new Promise((()=>{}))})()}}let Z=null;function q(e){var t;return Z||(Z=(t=`https://cdn.jsdelivr.net/npm/@tolgee/web@${e}/dist/tolgee-in-context-tools.umd.min.js`,new Promise(((e,n)=>{const r=document.createElement("script");r.src=t,r.addEventListener("load",(()=>e())),r.addEventListener("error",(e=>n(e.error))),document.head.appendChild(r)}))).then((()=>window["@tolgee/in-context-tools"].InContextTools))),Z}const K="__tolgee_apiKey",Y="__tolgee_apiUrl";function J(){const e=sessionStorage.getItem(K)||void 0,t=sessionStorage.getItem(Y)||void 0;if(e&&t)return{apiKey:e,apiUrl:t}}function X(){sessionStorage.removeItem(K),sessionStorage.removeItem(Y)}let Q=()=>e=>e;(()=>{if("undefined"==typeof window)return!1;try{return"undefined"!=typeof sessionStorage&&sessionStorage}catch(e){return console.error("sessionStorage not available",e),!1}})()&&(Q=()=>e=>{const t=function(){let e;return{update:async function(t){null==e||e();const{cancel:n,promise:r}=V({message:"TOLGEE_READY",recievingMessage:["TOLGEE_PLUGIN_READY","TOLGEE_PLUGIN_UPDATED"],data:t,attempts:4});return e=n,r}}}();e.on("running",(({value:n})=>{var r;n&&(r=()=>{t.update({uiPresent:!0,uiVersion:void 0,mode:e.isDev()?"development":"production",config:{apiUrl:e.getInitialOptions().apiUrl||"",apiKey:e.getInitialOptions().apiKey||""}}).catch(X)},"loading"!==document.readyState?Promise.resolve().then((()=>{r()})):document.addEventListener&&document.addEventListener("DOMContentLoaded",r))}));return J()&&(async()=>{const e=await q("prerelease");return t=>{const n=J();return t.addPlugin(e({credentials:n})),t}})().then((t=>{e.addPlugin(t)})).catch((e=>{console.error("Tolgee: Failed to load in-context tools"),console.error(e)})),e});function ee(){return F().use(Q())}},87536:function(e,t,n){"use strict";n.d(t,{KN:function(){return V},U2:function(){return h},bc:function(){return $},cI:function(){return Ae},t8:function(){return y}});var r=n(98661),o=e=>"checkbox"===e.type,i=e=>e instanceof Date,a=e=>null==e;const s=e=>"object"==typeof e;var l=e=>!a(e)&&!Array.isArray(e)&&s(e)&&!i(e),u=e=>l(e)&&e.target?o(e.target)?e.target.checked:e.target.value:e,c=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),d="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(e){let t;const n=Array.isArray(e),r="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(d&&(e instanceof Blob||r)||!n&&!l(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=f(e[n]));else t=e}return t}var p=e=>Array.isArray(e)?e.filter(Boolean):[],g=e=>void 0===e,h=(e,t,n)=>{if(!t||!l(e))return n;const r=p(t.split(/[,[\].]+?/)).reduce(((e,t)=>a(e)?e:e[t]),e);return g(r)||r===e?g(e[t])?n:e[t]:r},m=e=>"boolean"==typeof e,_=e=>/^\w*$/.test(e),v=e=>p(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,n)=>{let r=-1;const o=_(t)?[t]:v(t),i=o.length,a=i-1;for(;++r<i;){const t=o[r];let i=n;if(r!==a){const n=e[t];i=l(n)||Array.isArray(n)?n:isNaN(+o[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}return e};const b="blur",C="focusout",E="change",D="onBlur",T="onChange",w="onSubmit",S="onTouched",O="all",A="max",I="min",k="maxLength",M="minLength",x="pattern",P="required",R="validate",F=r.default.createContext(null),L=()=>r.default.useContext(F);var j=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(o,i,{get:()=>{const o=i;return t._proxyFormState[o]!==O&&(t._proxyFormState[o]=!r||O),n&&(n[o]=!0),e[o]}});return o},N=e=>l(e)&&!Object.keys(e).length,B=(e,t,n,r)=>{n(e);const{name:o,...i}=e;return N(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!r||O)))},U=e=>Array.isArray(e)?e:[e],W=(e,t,n)=>!e||!t||e===t||U(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function H(e){const t=r.default.useRef(e);t.current=e,r.default.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var z=e=>"string"==typeof e,G=(e,t,n,r,o)=>z(e)?(r&&t.watch.add(e),h(n,e,o)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),h(n,e)))):(r&&(t.watchAll=!0),n);function $(e){const t=L(),{name:n,disabled:o,control:i=t.control,shouldUnregister:a}=e,s=c(i._names.array,n),l=function(e){const t=L(),{control:n=t.control,name:o,defaultValue:i,disabled:a,exact:s}=e||{},l=r.default.useRef(o);l.current=o,H({disabled:a,subject:n._subjects.values,next:e=>{W(l.current,e.name,s)&&c(f(G(l.current,n._names,e.values||n._formValues,!1,i)))}});const[u,c]=r.default.useState(n._getWatch(o,i));return r.default.useEffect((()=>n._removeUnmounted())),u}({control:i,name:n,defaultValue:h(i._formValues,n,h(i._defaultValues,n,e.defaultValue)),exact:!0}),d=function(e){const t=L(),{control:n=t.control,disabled:o,name:i,exact:a}=e||{},[s,l]=r.default.useState(n._formState),u=r.default.useRef(!0),c=r.default.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=r.default.useRef(i);return d.current=i,H({disabled:o,next:e=>u.current&&W(d.current,e.name,a)&&B(e,c.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),r.default.useEffect((()=>(u.current=!0,c.current.isValid&&n._updateValid(!0),()=>{u.current=!1})),[n]),r.default.useMemo((()=>j(s,n,c.current,!1)),[s,n])}({control:i,name:n,exact:!0}),p=r.default.useRef(i.register(n,{...e.rules,value:l,...m(e.disabled)?{disabled:e.disabled}:{}})),_=r.default.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!h(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!h(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!h(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!h(d.validatingFields,n)},error:{enumerable:!0,get:()=>h(d.errors,n)}})),[d,n]),v=r.default.useMemo((()=>({name:n,value:l,...m(o)||d.disabled?{disabled:d.disabled||o}:{},onChange:e=>p.current.onChange({target:{value:u(e),name:n},type:E}),onBlur:()=>p.current.onBlur({target:{value:h(i._formValues,n),name:n},type:b}),ref:e=>{const t=h(i._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}})),[n,i._formValues,o,d.disabled,l,i._fields]);return r.default.useEffect((()=>{const e=i._options.shouldUnregister||a,t=(e,t)=>{const n=h(i._fields,e);n&&n._f&&(n._f.mount=t)};if(t(n,!0),e){const e=f(h(i._options.defaultValues,n));y(i._defaultValues,n,e),g(h(i._formValues,n))&&y(i._formValues,n,e)}return!s&&i.register(n),()=>{(s?e&&!i._state.action:e)?i.unregister(n):t(n,!1)}}),[n,i,s,a]),r.default.useEffect((()=>{i._updateDisabledField({disabled:o,fields:i._fields,name:n})}),[o,n,i]),r.default.useMemo((()=>({field:v,formState:d,fieldState:_})),[v,d,_])}var V=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Z=e=>({isOnSubmit:!e||e===w,isOnBlur:e===D,isOnChange:e===T,isOnAll:e===O,isOnTouch:e===S}),q=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const K=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const n=h(e,o);if(n){const{_f:e,...i}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],o)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(K(i,t))break}else if(l(i)&&K(i,t))break}}};var Y=(e,t,n)=>{const r=U(h(e,n));return y(r,"root",t[n]),y(e,n,r),e},J=e=>"file"===e.type,X=e=>"function"==typeof e,Q=e=>{if(!d)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ee=e=>z(e),te=e=>"radio"===e.type,ne=e=>e instanceof RegExp;const re={value:!1,isValid:!1},oe={value:!0,isValid:!0};var ie=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!g(e[0].attributes.value)?g(e[0].value)||""===e[0].value?oe:{value:e[0].value,isValid:!0}:oe:re}return re};const ae={isValid:!1,value:null};var se=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),ae):ae;function le(e,t,n="validate"){if(ee(e)||Array.isArray(e)&&e.every(ee)||m(e)&&!e)return{type:n,message:ee(e)?e:"",ref:t}}var ue=e=>l(e)&&!ne(e)?e:{value:e,message:""},ce=async(e,t,n,r,i,s)=>{const{ref:u,refs:c,required:d,maxLength:f,minLength:p,min:_,max:v,pattern:y,validate:b,name:C,valueAsNumber:E,mount:D}=e._f,T=h(n,C);if(!D||t.has(C))return{};const w=c?c[0]:u,S=e=>{i&&w.reportValidity&&(w.setCustomValidity(m(e)?"":e||""),w.reportValidity())},O={},F=te(u),L=o(u),j=F||L,B=(E||J(u))&&g(u.value)&&g(T)||Q(u)&&""===u.value||""===T||Array.isArray(T)&&!T.length,U=V.bind(null,C,r,O),W=(e,t,n,r=k,o=M)=>{const i=e?t:n;O[C]={type:e?r:o,message:i,ref:u,...U(e?r:o,i)}};if(s?!Array.isArray(T)||!T.length:d&&(!j&&(B||a(T))||m(T)&&!T||L&&!ie(c).isValid||F&&!se(c).isValid)){const{value:e,message:t}=ee(d)?{value:!!d,message:d}:ue(d);if(e&&(O[C]={type:P,message:t,ref:w,...U(P,t)},!r))return S(t),O}if(!(B||a(_)&&a(v))){let e,t;const n=ue(v),o=ue(_);if(a(T)||isNaN(T)){const r=u.valueAsDate||new Date(T),i=e=>new Date((new Date).toDateString()+" "+e),a="time"==u.type,s="week"==u.type;z(n.value)&&T&&(e=a?i(T)>i(n.value):s?T>n.value:r>new Date(n.value)),z(o.value)&&T&&(t=a?i(T)<i(o.value):s?T<o.value:r<new Date(o.value))}else{const r=u.valueAsNumber||(T?+T:T);a(n.value)||(e=r>n.value),a(o.value)||(t=r<o.value)}if((e||t)&&(W(!!e,n.message,o.message,A,I),!r))return S(O[C].message),O}if((f||p)&&!B&&(z(T)||s&&Array.isArray(T))){const e=ue(f),t=ue(p),n=!a(e.value)&&T.length>+e.value,o=!a(t.value)&&T.length<+t.value;if((n||o)&&(W(n,e.message,t.message),!r))return S(O[C].message),O}if(y&&!B&&z(T)){const{value:e,message:t}=ue(y);if(ne(e)&&!T.match(e)&&(O[C]={type:x,message:t,ref:u,...U(x,t)},!r))return S(t),O}if(b)if(X(b)){const e=le(await b(T,n),w);if(e&&(O[C]={...e,...U(R,e.message)},!r))return S(e.message),O}else if(l(b)){let e={};for(const t in b){if(!N(e)&&!r)break;const o=le(await b[t](T,n),w,t);o&&(e={...o,...U(t,o.message)},S(o.message),r&&(O[C]=e))}if(!N(e)&&(O[C]={ref:w,...e},!r))return O}return S(!0),O};function de(e,t){const n=Array.isArray(t)?t:_(t)?[t]:v(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=g(e)?r++:e[t[r++]];return e}(e,n),o=n.length-1,i=n[o];return r&&delete r[i],0!==o&&(l(r)&&N(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!g(e[t]))return!1;return!0}(r))&&de(e,n.slice(0,-1)),e}var fe=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},pe=e=>a(e)||!s(e);function ge(e,t){if(pe(e)||pe(t))return e===t;if(i(e)&&i(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){const n=e[o];if(!r.includes(o))return!1;if("ref"!==o){const e=t[o];if(i(n)&&i(e)||l(n)&&l(e)||Array.isArray(n)&&Array.isArray(e)?!ge(n,e):n!==e)return!1}}return!0}var he=e=>"select-multiple"===e.type,me=e=>Q(e)&&e.isConnected,_e=e=>{for(const t in e)if(X(e[t]))return!0;return!1};function ve(e,t={}){const n=Array.isArray(e);if(l(e)||n)for(const n in e)Array.isArray(e[n])||l(e[n])&&!_e(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ve(e[n],t[n])):a(e[n])||(t[n]=!0);return t}function ye(e,t,n){const r=Array.isArray(e);if(l(e)||r)for(const r in e)Array.isArray(e[r])||l(e[r])&&!_e(e[r])?g(t)||pe(n[r])?n[r]=Array.isArray(e[r])?ve(e[r],[]):{...ve(e[r])}:ye(e[r],a(t)?{}:t[r],n[r]):n[r]=!ge(e[r],t[r]);return n}var be=(e,t)=>ye(e,t,ve(t)),Ce=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>g(e)?e:t?""===e?NaN:e?+e:e:n&&z(e)?new Date(e):r?r(e):e;function Ee(e){const t=e.ref;return J(t)?t.files:te(t)?se(e.refs).value:he(t)?[...t.selectedOptions].map((({value:e})=>e)):o(t)?ie(e.refs).value:Ce(g(t.value)?e.ref.value:t.value,e)}var De=e=>g(e)?e:ne(e)?e.source:l(e)?ne(e.value)?e.value.source:e.value:e;const Te="AsyncFunction";function we(e,t,n){const r=h(e,n);if(r||_(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const r=o.join("."),i=h(t,r),a=h(e,r);if(i&&!Array.isArray(i)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};o.pop()}return{name:n}}const Se={mode:w,reValidateMode:T,shouldFocusError:!0};function Oe(e={}){let t,n={...Se,...e},r={submitCount:0,isDirty:!1,isLoading:X(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},s={},_=(l(n.defaultValues)||l(n.values))&&f(n.defaultValues||n.values)||{},v=n.shouldUnregister?{}:f(_),E={action:!1,mount:!1,watch:!1},D={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},T=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},S={values:fe(),array:fe(),state:fe()},A=Z(n.mode),I=Z(n.reValidateMode),k=n.criteriaMode===O,M=async e=>{if(!n.disabled&&(w.isValid||e)){const e=n.resolver?N((await L()).errors):await j(s,!0);e!==r.isValid&&S.state.next({isValid:e})}},x=(e,t)=>{n.disabled||!w.isValidating&&!w.validatingFields||((e||Array.from(D.mount)).forEach((e=>{e&&(t?y(r.validatingFields,e,t):de(r.validatingFields,e))})),S.state.next({validatingFields:r.validatingFields,isValidating:!N(r.validatingFields)}))},P=(e,t,n,r)=>{const o=h(s,e);if(o){const i=h(v,e,g(n)?h(_,e):n);g(i)||r&&r.defaultChecked||t?y(v,e,t?i:Ee(o._f)):H(e,i),E.mount&&M()}},R=(e,t,o,i,a)=>{let l=!1,u=!1;const c={name:e};if(!n.disabled){const n=!!(h(s,e)&&h(s,e)._f&&h(s,e)._f.disabled);if(!o||i){w.isDirty&&(u=r.isDirty,r.isDirty=c.isDirty=B(),l=u!==c.isDirty);const o=n||ge(h(_,e),t);u=!(n||!h(r.dirtyFields,e)),o||n?de(r.dirtyFields,e):y(r.dirtyFields,e,!0),c.dirtyFields=r.dirtyFields,l=l||w.dirtyFields&&u!==!o}if(o){const t=h(r.touchedFields,e);t||(y(r.touchedFields,e,o),c.touchedFields=r.touchedFields,l=l||w.touchedFields&&t!==o)}l&&a&&S.state.next(c)}return l?c:{}},F=(e,o,i,a)=>{const s=h(r.errors,e),l=w.isValid&&m(o)&&r.isValid!==o;var u;if(n.delayError&&i?(u=()=>((e,t)=>{y(r.errors,e,t),S.state.next({errors:r.errors})})(e,i),t=e=>{clearTimeout(T),T=setTimeout(u,e)},t(n.delayError)):(clearTimeout(T),t=null,i?y(r.errors,e,i):de(r.errors,e)),(i?!ge(s,i):s)||!N(a)||l){const t={...a,...l&&m(o)?{isValid:o}:{},errors:r.errors,name:e};r={...r,...t},S.state.next(t)}},L=async e=>{x(e,!0);const t=await n.resolver(v,n.context,((e,t,n,r)=>{const o={};for(const n of e){const e=h(t,n);e&&y(o,n,e._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}})(e||D.mount,s,n.criteriaMode,n.shouldUseNativeValidation));return x(e),t},j=async(e,t,o={valid:!0})=>{for(const a in e){const s=e[a];if(s){const{_f:e,...u}=s;if(e){const u=D.array.has(e.name),c=s._f&&(!!(i=s._f)&&!!i.validate&&!!(X(i.validate)&&i.validate.constructor.name===Te||l(i.validate)&&Object.values(i.validate).find((e=>e.constructor.name===Te))));c&&w.validatingFields&&x([a],!0);const d=await ce(s,D.disabled,v,k,n.shouldUseNativeValidation&&!t,u);if(c&&w.validatingFields&&x([a]),d[e.name]&&(o.valid=!1,t))break;!t&&(h(d,e.name)?u?Y(r.errors,d,e.name):y(r.errors,e.name,d[e.name]):de(r.errors,e.name))}!N(u)&&await j(u,t,o)}}var i;return o.valid},B=(e,t)=>!n.disabled&&(e&&t&&y(v,e,t),!ge(oe(),_)),W=(e,t,n)=>G(e,D,{...E.mount?v:g(t)?_:z(e)?{[e]:t}:t},n,t),H=(e,t,n={})=>{const r=h(s,e);let i=t;if(r){const n=r._f;n&&(!n.disabled&&y(v,e,Ce(t,n)),i=Q(n.ref)&&a(t)?"":t,he(n.ref)?[...n.ref.options].forEach((e=>e.selected=i.includes(e.value))):n.refs?o(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):n.refs[0]&&(n.refs[0].checked=!!i):n.refs.forEach((e=>e.checked=e.value===i)):J(n.ref)?n.ref.value="":(n.ref.value=i,n.ref.type||S.values.next({name:e,values:{...v}})))}(n.shouldDirty||n.shouldTouch)&&R(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&re(e)},$=(e,t,n)=>{for(const r in t){const o=t[r],a=`${e}.${r}`,u=h(s,a);(D.array.has(e)||l(o)||u&&!u._f)&&!i(o)?$(a,o,n):H(a,o,n)}},V=(e,t,n={})=>{const o=h(s,e),i=D.array.has(e),l=f(t);y(v,e,l),i?(S.array.next({name:e,values:{...v}}),(w.isDirty||w.dirtyFields)&&n.shouldDirty&&S.state.next({name:e,dirtyFields:be(_,v),isDirty:B(e,l)})):!o||o._f||a(l)?H(e,l,n):$(e,l,n),q(e,D)&&S.state.next({...r}),S.values.next({name:E.mount?e:void 0,values:{...v}})},ee=async e=>{E.mount=!0;const o=e.target;let a=o.name,l=!0;const c=h(s,a),d=e=>{l=Number.isNaN(e)||i(e)&&isNaN(e.getTime())||ge(e,h(v,a,e))};if(c){let i,p;const g=o.type?Ee(c._f):u(e),m=e.type===b||e.type===C,_=!((f=c._f).mount&&(f.required||f.min||f.max||f.maxLength||f.minLength||f.pattern||f.validate)||n.resolver||h(r.errors,a)||c._f.deps)||((e,t,n,r,o)=>!o.isOnAll&&(!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:!(n?r.isOnChange:o.isOnChange)||e))(m,h(r.touchedFields,a),r.isSubmitted,I,A),E=q(a,D,m);y(v,a,g),m?(c._f.onBlur&&c._f.onBlur(e),t&&t(0)):c._f.onChange&&c._f.onChange(e);const T=R(a,g,m,!1),O=!N(T)||E;if(!m&&S.values.next({name:a,type:e.type,values:{...v}}),_)return w.isValid&&("onBlur"===n.mode&&m?M():m||M()),O&&S.state.next({name:a,...E?{}:T});if(!m&&E&&S.state.next({...r}),n.resolver){const{errors:e}=await L([a]);if(d(g),l){const t=we(r.errors,s,a),n=we(e,s,t.name||a);i=n.error,a=n.name,p=N(e)}}else x([a],!0),i=(await ce(c,D.disabled,v,k,n.shouldUseNativeValidation))[a],x([a]),d(g),l&&(i?p=!1:w.isValid&&(p=await j(s,!0)));l&&(c._f.deps&&re(c._f.deps),F(a,p,i,T))}var f},ne=(e,t)=>{if(h(r.errors,t)&&e.focus)return e.focus(),1},re=async(e,t={})=>{let o,i;const a=U(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await L(e);if(e)for(const n of e){const e=h(t,n);e?y(r.errors,n,e):de(r.errors,n)}else r.errors=t;return t})(g(e)?e:a);o=N(t),i=e?!a.some((e=>h(t,e))):o}else e?(i=(await Promise.all(a.map((async e=>{const t=h(s,e);return await j(t&&t._f?{[e]:t}:t)})))).every(Boolean),(i||r.isValid)&&M()):i=o=await j(s);return S.state.next({...!z(e)||w.isValid&&o!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:o}:{},errors:r.errors}),t.shouldFocus&&!i&&K(s,ne,e?a:D.mount),i},oe=e=>{const t={...E.mount?v:_};return g(e)?t:z(e)?h(t,e):e.map((e=>h(t,e)))},ie=(e,t)=>({invalid:!!h((t||r).errors,e),isDirty:!!h((t||r).dirtyFields,e),error:h((t||r).errors,e),isValidating:!!h(r.validatingFields,e),isTouched:!!h((t||r).touchedFields,e)}),ae=(e,t,n)=>{const o=(h(s,e,{_f:{}})._f||{}).ref,i=h(r.errors,e)||{},{ref:a,message:l,type:u,...c}=i;y(r.errors,e,{...c,...t,ref:o}),S.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},se=(e,t={})=>{for(const o of e?U(e):D.mount)D.mount.delete(o),D.array.delete(o),t.keepValue||(de(s,o),de(v,o)),!t.keepError&&de(r.errors,o),!t.keepDirty&&de(r.dirtyFields,o),!t.keepTouched&&de(r.touchedFields,o),!t.keepIsValidating&&de(r.validatingFields,o),!n.shouldUnregister&&!t.keepDefaultValue&&de(_,o);S.values.next({values:{...v}}),S.state.next({...r,...t.keepDirty?{isDirty:B()}:{}}),!t.keepIsValid&&M()},le=({disabled:e,name:t,field:n,fields:r})=>{(m(e)&&E.mount||e||D.disabled.has(t))&&(e?D.disabled.add(t):D.disabled.delete(t),R(t,Ee(n?n._f:h(r,t)._f),!1,!1,!0))},ue=(e,t={})=>{let r=h(s,e);const i=m(t.disabled)||m(n.disabled);return y(s,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),D.mount.add(e),r?le({field:r,disabled:m(t.disabled)?t.disabled:n.disabled,name:e}):P(e,!0,t.value),{...i?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:De(t.min),max:De(t.max),minLength:De(t.minLength),maxLength:De(t.maxLength),pattern:De(t.pattern)}:{},name:e,onChange:ee,onBlur:ee,ref:i=>{if(i){ue(e,t),r=h(s,e);const n=g(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,a=(e=>te(e)||o(e))(n),l=r._f.refs||[];if(a?l.find((e=>e===n)):n===r._f.ref)return;y(s,e,{_f:{...r._f,...a?{refs:[...l.filter(me),n,...Array.isArray(h(_,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),P(e,!1,void 0,n)}else r=h(s,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!c(D.array,e)||!E.action)&&D.unMount.add(e)}}},pe=()=>n.shouldFocusError&&K(s,ne,D.mount),_e=(e,t)=>async o=>{let i;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let a=f(v);if(D.disabled.size)for(const e of D.disabled)y(a,e,void 0);if(S.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await L();r.errors=e,a=t}else await j(s);if(de(r.errors,"root"),N(r.errors)){S.state.next({errors:{}});try{await e(a,o)}catch(e){i=e}}else t&&await t({...r.errors},o),pe(),setTimeout(pe);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:N(r.errors)&&!i,submitCount:r.submitCount+1,errors:r.errors}),i)throw i},ve=(e,t={})=>{const o=e?f(e):_,i=f(o),a=N(e),l=a?_:i;if(t.keepDefaultValues||(_=o),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...D.mount,...Object.keys(be(_,v))]);for(const t of Array.from(e))h(r.dirtyFields,t)?y(l,t,h(v,t)):V(t,h(l,t))}else{if(d&&g(e))for(const e of D.mount){const t=h(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Q(e)){const t=e.closest("form");if(t){t.reset();break}}}}s={}}v=n.shouldUnregister?t.keepDefaultValues?f(_):{}:f(l),S.array.next({values:{...l}}),S.values.next({values:{...l}})}D={mount:t.keepDirtyValues?D.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},E.mount=!w.isValid||!!t.keepIsValid||!!t.keepDirtyValues,E.watch=!!n.shouldUnregister,S.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!a&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||ge(e,_))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:a?{}:t.keepDirtyValues?t.keepDefaultValues&&v?be(_,v):r.dirtyFields:t.keepDefaultValues&&e?be(_,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},ye=(e,t)=>ve(X(e)?e(v):e,t);return{control:{register:ue,unregister:se,getFieldState:ie,handleSubmit:_e,setError:ae,_executeSchema:L,_getWatch:W,_getDirty:B,_updateValid:M,_removeUnmounted:()=>{for(const e of D.unMount){const t=h(s,e);t&&(t._f.refs?t._f.refs.every((e=>!me(e))):!me(t._f.ref))&&se(e)}D.unMount=new Set},_updateFieldArray:(e,t=[],o,i,a=!0,l=!0)=>{if(i&&o&&!n.disabled){if(E.action=!0,l&&Array.isArray(h(s,e))){const t=o(h(s,e),i.argA,i.argB);a&&y(s,e,t)}if(l&&Array.isArray(h(r.errors,e))){const t=o(h(r.errors,e),i.argA,i.argB);a&&y(r.errors,e,t),((e,t)=>{!p(h(e,t)).length&&de(e,t)})(r.errors,e)}if(w.touchedFields&&l&&Array.isArray(h(r.touchedFields,e))){const t=o(h(r.touchedFields,e),i.argA,i.argB);a&&y(r.touchedFields,e,t)}w.dirtyFields&&(r.dirtyFields=be(_,v)),S.state.next({name:e,isDirty:B(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else y(v,e,t)},_updateDisabledField:le,_getFieldArray:e=>p(h(E.mount?v:_,e,n.shouldUnregister?h(_,e,[]):[])),_reset:ve,_resetDefaultValues:()=>X(n.defaultValues)&&n.defaultValues().then((e=>{ye(e,n.resetOptions),S.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{m(e)&&(S.state.next({disabled:e}),K(s,((t,n)=>{const r=h(s,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach((t=>{t.disabled=r._f.disabled||e})))}),0,!1))},_subjects:S,_proxyFormState:w,_setErrors:e=>{r.errors=e,S.state.next({errors:r.errors,isValid:!1})},get _fields(){return s},get _formValues(){return v},get _state(){return E},set _state(e){E=e},get _defaultValues(){return _},get _names(){return D},set _names(e){D=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:re,register:ue,handleSubmit:_e,watch:(e,t)=>X(e)?S.values.subscribe({next:n=>e(W(void 0,t),n)}):W(e,t,!0),setValue:V,getValues:oe,reset:ye,resetField:(e,t={})=>{h(s,e)&&(g(t.defaultValue)?V(e,f(h(_,e))):(V(e,t.defaultValue),y(_,e,f(t.defaultValue))),t.keepTouched||de(r.touchedFields,e),t.keepDirty||(de(r.dirtyFields,e),r.isDirty=t.defaultValue?B(e,f(h(_,e))):B()),t.keepError||(de(r.errors,e),w.isValid&&M()),S.state.next({...r}))},clearErrors:e=>{e&&U(e).forEach((e=>de(r.errors,e))),S.state.next({errors:e?r.errors:{}})},unregister:se,setError:ae,setFocus:(e,t={})=>{const n=h(s,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&X(e.select)&&e.select())}},getFieldState:ie}}function Ae(e={}){const t=r.default.useRef(void 0),n=r.default.useRef(void 0),[o,i]=r.default.useState({isDirty:!1,isValidating:!1,isLoading:X(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:X(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Oe(e),formState:o});const a=t.current.control;return a._options=e,H({subject:a._subjects.state,next:e=>{B(e,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),r.default.useEffect((()=>a._disableForm(e.disabled)),[a,e.disabled]),r.default.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==o.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,o.isDirty]),r.default.useEffect((()=>{e.values&&!ge(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,i((e=>({...e})))):a._resetDefaultValues()}),[e.values,a]),r.default.useEffect((()=>{e.errors&&a._setErrors(e.errors)}),[e.errors,a]),r.default.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),r.default.useEffect((()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})}),[e.shouldUnregister,a]),t.current.formState=j(o,a),t.current}},18357:function(e,t,n){"use strict";n.d(t,{YD:function(){return p},df:function(){return f}});var r=n(98661),o=Object.defineProperty,i=(e,t,n)=>((e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),a=new Map,s=new WeakMap,l=0,u=void 0;function c(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(n=e.root,n?(s.has(n)||(l+=1,s.set(n,l.toString())),s.get(n)):"0"):e[t]}`;var n})).toString()}function d(e,t,n={},r=u){if(void 0===window.IntersectionObserver&&void 0!==r){const o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:i,elements:s}=function(e){const t=c(e);let n=a.get(t);if(!n){const r=new Map;let o;const i=new IntersectionObserver((t=>{t.forEach((t=>{var n;const i=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(n=r.get(t.target))||n.forEach((e=>{e(i,t)}))}))}),e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},a.set(t,n)}return n}(n),l=s.get(e)||[];return s.has(e)||s.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(s.delete(e),i.unobserve(e)),0===s.size&&(i.disconnect(),a.delete(o))}}var f=class extends r.Component{constructor(e){super(e),i(this,"node",null),i(this,"_unobserveCb",null),i(this,"handleNode",(e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()})),i(this,"handleChange",((e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),function(e){return"function"!=typeof e.children}(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)})),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:o,fallbackInView:i}=this.props;this._unobserveCb=d(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:o},i)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:e}=this.props;if("function"==typeof e){const{inView:t,entry:n}=this.state;return e({inView:t,entry:n,ref:this.handleNode})}const{as:t,triggerOnce:n,threshold:o,root:i,rootMargin:a,onChange:s,skip:l,trackVisibility:u,delay:c,initialInView:d,fallbackInView:f,...p}=this.props;return r.createElement(t||"div",{ref:this.handleNode,...p},e)}};function p({threshold:e,delay:t,trackVisibility:n,rootMargin:o,root:i,triggerOnce:a,skip:s,initialInView:l,fallbackInView:u,onChange:c}={}){var f;const[p,g]=r.useState(null),h=r.useRef(),[m,_]=r.useState({inView:!!l,entry:void 0});h.current=c,r.useEffect((()=>{if(s||!p)return;let r;return r=d(p,((e,t)=>{_({inView:e,entry:t}),h.current&&h.current(e,t),t.isIntersecting&&a&&r&&(r(),r=void 0)}),{root:i,rootMargin:o,threshold:e,trackVisibility:n,delay:t},u),()=>{r&&r()}}),[Array.isArray(e)?e.toString():e,p,i,o,a,s,n,u,t]);const v=null==(f=m.entry)?void 0:f.target,y=r.useRef();p||!v||a||s||y.current===v||(y.current=v,_({inView:!!l,entry:void 0}));const b=[g,m.inView,m.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}},45007:function(e,t,n){"use strict";n.d(t,{I0:function(){return m},v9:function(){return y},wU:function(){return a}});var r=n(98661),o=n(31103);function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!i(e[n[r]],t[n[r]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var s=Symbol.for("react-redux-context"),l="undefined"!=typeof globalThis?globalThis:{};function u(){if(!r.createContext)return{};const e=l[s]??=new Map;let t=e.get(r.createContext);return t||(t=r.createContext(null),e.set(r.createContext,t)),t}var c=u();function d(e=c){return function(){return r.useContext(e)}}var f=d();function p(e=c){const t=e===c?f:d(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var g=p();function h(e=c){const t=e===c?g:p(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var m=h(),_=(e,t)=>e===t;function v(e=c){const t=e===c?f:d(e),n=(e,n={})=>{const{equalityFn:i=_}="function"==typeof n?{equalityFn:n}:n;const a=t(),{store:s,subscription:l,getServerState:u}=a,c=(r.useRef(!0),r.useCallback({[e.name](t){return e(t)}}[e.name],[e])),d=(0,o.useSyncExternalStoreWithSelector)(l.addNestedSub,s.getState,u||s.getState,c,i);return r.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var y=v()},65849:function(e,t,n){"use strict";function r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}n.d(t,{DE:function(){return a},LG:function(){return l},qC:function(){return s}});function o(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function i(e,t){return function(...n){return t(e.apply(this,n))}}function a(e,t){if("function"==typeof e)return i(e,t);if("object"!=typeof e||null===e)throw new Error(r(16));const n={};for(const r in e){const o=e[r];"function"==typeof o&&(n[r]=i(o,t))}return n}function s(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function l(e){return o(e)&&"type"in e&&"string"==typeof e.type}},19119:function(e,t,n){"use strict";n.d(t,{P1:function(){return c},kO:function(){return l},wN:function(){return u}});function r(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var o=e=>Array.isArray(e)?e:[e];function i(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function a(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}Symbol(),Object.getPrototypeOf({});var s="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function l(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let o,i=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const l=t;let u;if(1===t.s)u=t.v;else if(u=e.apply(null,arguments),i++,r){const e=o?.deref?.()??o;null!=e&&r(e,u)&&(u=e,0!==i&&i--);o="object"==typeof u&&null!==u||"function"==typeof u?new s(u):u}return l.s=1,l.v=u,u}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function u(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,s=(...e)=>{let t,s=0,u=0,c={},d=e.pop();"object"==typeof d&&(c=d,d=e.pop()),r(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:h=l,argsMemoizeOptions:m=[],devModeChecks:_={}}=f,v=o(g),y=o(m),b=i(e),C=p((function(){return s++,d.apply(null,arguments)}),...v);const E=h((function(){u++;const e=a(b,arguments);return t=C.apply(null,e),t}),...y);return Object.assign(E,{resultFunc:d,memoizedResultFunc:C,dependencies:b,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>t,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:h})};return Object.assign(s,{withTypes:()=>s}),s}var c=u(l),d=Object.assign(((e,t=c)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>d})}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return a[e].call(n.exports,n,n.exports,l),n.exports}l.m=a,l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);l.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){i[e]=function(){return n[e]}}));return i.default=function(){return n},l.d(o,i),o},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,n){return l.f[n](e,t),t}),[]))},l.u=function(e){return"js/fdbd3c5/"+{12:"locale-da-json",13:"locale-sv-json",16:"locale-fi-json",24:"locale-ro-json",111:"locale-pl-json",131:"locale-nl-json",221:"locale-fr-json",308:"devtools",346:"locale-ja-json",375:"locale-be-json",414:"Callback",428:"OmniMenu",437:"DebugPanel",441:"locale-ru-RU-json",442:"locale-el-json",453:"locale-it-json",535:"chatcontainer",579:"locale-zh-json",594:"CampaignPopup",645:"locale-de-json",702:"locale-pt-json",722:"locale-no-json",738:"locale-tr-json",753:"locale-en-US-json",766:"locale-id-json",772:"webRTCCall",790:"locale-es-json",796:"locale-pt-BR-json",829:"cobrowse",831:"locale-kk-json",949:"locale-cs-json",994:"locale-uk-json"}[e]+".js"},l.miniCssF=function(e){return"css/fdbd3c5/"+{414:"Callback",428:"OmniMenu",437:"DebugPanel",535:"chatcontainer",594:"CampaignPopup",772:"webRTCCall",829:"cobrowse"}[e]+".widget.css"},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="widget_react:",l.l=function(e,t,o,i){if(n[e])n[e].push(t);else{var a,s;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){a=d;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",r+o),a.src=e),n[e]=[t];var f=function(t,r){a.onerror=a.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),s&&document.head.appendChild(a)}},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="/public",o=function(e){return new Promise((function(t,n){var r=l.miniCssF(e),o=l.p+r;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}}(r,o))return t();!function(e,t,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(i){if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,o.parentNode.removeChild(o),r(l)}},o.href=t,function(e){window.parent.jivo_cspNonce&&e.setAttribute("nonce",window.parent.jivo_cspNonce);var t=window.parent.document.getElementsByTagName("head")[0];if(!t)throw new Error("Error inserting css:",e.href,"Reason: no head");{const n=t.querySelector(`[href*="${e.href.split("/css")[1]}"]`);n&&t.removeChild(n),t.appendChild(e)}}(o)}(e,o,t,n)}))},i={296:0},l.f.miniCss=function(e,t){i[e]?t.push(i[e]):0!==i[e]&&{414:1,428:1,437:1,535:1,594:1,772:1,829:1}[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))},function(){var e={296:0};l.f.j=function(t,n){var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var i=l.p+l.u(t),a=new Error;l.l(i,(function(n){if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,i=n[0],a=n[1],s=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);if(s)s(l)}for(t&&t(n);u<i.length;u++)o=i[u],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkwidget_react=self.webpackChunkwidget_react||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=l(17907),t=l(33180),n=l(90061),r=e(l(35802)),o=l(44145),i=l(97615),a=l(45948);(0,n.setLogsEnabled)((0,o.getFeatures)().logs);const s=new r.default;!(i.EnvironmentManager.isWidgetConstructor()||i.EnvironmentManager.isContactFormPreview()||a.isPopupConstructor)&&((0,o.getClient)().clientId&&(0,o.getApp)().chatStarted&&!(0,o.getApp)().maintenance&&!(0,o.getFeatures)().recaptcha)||t.cssLoader.subscribe((()=>{s.start()}),(()=>{s.stop()}))}()}();</script></head><body></body></html>